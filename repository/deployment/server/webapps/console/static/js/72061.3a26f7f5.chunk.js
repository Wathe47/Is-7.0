"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[72061],{72061:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(24184),a=r(93129),o=r(3356),i=r(66112),l=r(86727),s=r(44194),u=r(10479),c=r(47245),d=r(26154),f=r(24393),h=r(12436),p=r(97474),m=r(2057);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=function(e){var t,r=e["data-testid"],v=(0,u.$)().t,S=[{key:0,text:v("common:name"),value:"name"},{key:1,text:v("common:description"),value:"description"}],y=(0,c.v9)((function(e){return e.config.ui.features})),E=g((0,s.useState)([]),2),b=E[0],A=E[1],C=g((0,s.useState)(0),2),P=C[0],L=C[1],O=g((0,s.useState)(f.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),w=O[0],T=O[1],k=g((0,s.useState)(!0),2),_=k[0],I=k[1],x=g((0,s.useState)([]),2),R=x[0],U=x[1],M=g((0,s.useState)(S[0]),2),Q=M[0],j=M[1],V=g((0,s.useState)(!0),2),$=V[0],F=V[1],z=g((0,s.useState)(""),2),D=z[0],G=z[1],K=g((0,s.useState)(!1),2),N=K[0],X=K[1],Z=(0,c.I0)(),q=g((0,i.cC)(),2),B=q[0],H=q[1],J=function(e,t,r,n){var i={filter:n||null,limit:e||null,offset:r||null,sort:t||null};I(!0),(0,p.GN)(i).then((function(e){A(e),U(e),I(!1)})).catch((function(e){I(!1),Z((0,o.V_)({description:(null==e?void 0:e.description)||v("userstores:notifications.fetchUserstores.genericError.description"),level:a.QU.ERROR,message:(null==e?void 0:e.message)||v("userstores:notifications.fetchUserstores.genericError.message")}))}))};(0,s.useEffect)((function(){J(null,null,null,null)}),[]),(0,s.useEffect)((function(){U((0,f.fS)(R,Q.value,$))}),[Q,$]);var W=function(e){U((0,f.gQ)(b,e,"name",!0)),G(e),L(0),H()};return s.createElement(l.Xg,{action:(_||!(!D&&(null==R?void 0:R.length)<=0))&&h.userstoresConfig.userstoreList.allowAddingUserstores&&s.createElement(n.di,{when:null==y||null===(t=y.userStores)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create},s.createElement(l.KM,{onClick:function(){f.m8.push(f.$x.getPaths().get("USERSTORE_TEMPLATES"))},"data-testid":"".concat(r,"-list-layout-add-button")},s.createElement(d.Z,{name:"add"}),v("userstores:pageLayout.list.primaryAction"))),isLoading:_,title:v("userstores:pageLayout.list.title"),pageTitle:v("userstores:pageLayout.list.title"),description:v("userstores:pageLayout.list.description"),"data-testid":"".concat(r,"-page-layout")},s.createElement(l.PS,{advancedSearch:s.createElement(f.nC,{onFilter:W,filterAttributeOptions:[{key:0,text:v("common:name"),value:"name"},{key:1,text:v("common:description"),value:"description"}],filterAttributePlaceholder:v("userstores:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:v("userstores:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:v("userstores:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:v("userstores:advancedSearch.placeholder"),defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:N,"data-testid":"".concat(r,"-advanced-search")}),currentListSize:w,listItemLimit:w,onItemsPerPageDropdownChange:function(e,t){T(t.value)},onPageChange:function(e,t){L((t.activePage-1)*w)},onSortStrategyChange:function(e,t){j(S.filter((function(e){return e.value===t.value}))[0])},onSortOrderChange:function(e){F(e)},resetPagination:B,leftActionPanel:null,showPagination:!0,sortOptions:S,sortStrategy:Q,showTopActionPanel:_||!(!D&&(null==R?void 0:R.length)<=0),totalPages:Math.ceil((null==R?void 0:R.length)/w),totalListSize:null==R?void 0:R.length,isLoading:_,"data-testid":"".concat(r,"-list-layout")},s.createElement(m.rO,{advancedSearch:s.createElement(f.nC,{onFilter:W,filterAttributeOptions:[{key:0,text:v("common:name"),value:"name"},{key:1,text:v("common:description"),value:"description"}],filterAttributePlaceholder:v("userstores:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:v("userstores:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:v("userstores:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:v("userstores:advancedSearch.placeholder"),defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:N,"data-testid":"".concat(r,"-advanced-search")}),list:function(e,t,r){return null==e?void 0:e.slice(r,r+t)}(R,w,P),onEmptyListPlaceholderActionClick:function(){return f.m8.push(f.$x.getPaths().get("USERSTORE_TEMPLATES"))},onSearchQueryClear:function(){X(!N),G(""),U(b)},searchQuery:D,update:J,featureConfig:y,"data-testid":"".concat(r,"-list")})))};S.defaultProps={"data-testid":"userstores"};const y=S}}]);