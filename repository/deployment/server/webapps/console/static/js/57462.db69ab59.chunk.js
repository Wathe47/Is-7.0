"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[57462],{57462:(e,t,o)=>{o.r(t),o.d(t,{default:()=>E});var n=o(54833),r=o(93129),i=o(3356),a=o(86727),s=o(44194),u=o(10479),c=o(47245),l=o(37077),d=o(24393),p=o(7553),f=o(30446),R=o(14200),v=o(6890);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,i,a,s=[],u=!0,c=!1;try{if(i=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;u=!1}else for(;!(u=(n=i.call(o)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var b=function(e){var t=e["data-componentid"],o=(0,u.$)().t,m=(0,c.I0)(),b=(0,c.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),E=g((0,s.useState)(!1),2),h=E[0],y=E[1],A=g((0,s.useState)(!1),2),I=A[0],O=A[1],S=g((0,s.useState)(null),2),x=S[0],_=S[1],P=(0,c.v9)((function(e){return e.config.ui.features})),C=(0,p.Eb)(x),k=C.data,w=C.isLoading,U=C.error,N=C.mutate;(0,s.useEffect)((function(){D()}),[]),(0,s.useEffect)((function(){var e;(0,n.Xr)(null==P?void 0:P.apiResources,null==P||null===(e=P.apiResources)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,b)||y(!0)}),[k]),(0,s.useEffect)((function(){v.H.checkIfAPIResourceManagedByChoreo(null==k?void 0:k.gwName)&&O(!0)}),[k]),(0,s.useEffect)((function(){var e;if(U)switch(null===(e=U.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.code){case R.K.UNAUTHORIZED_ACCESS:m((0,i.V_)({description:o("extensions:develop.apiResource.notifications.getAPIResource.unauthorizedError.description"),level:r.QU.ERROR,message:o("extensions:develop.apiResource.notifications.getAPIResource.unauthorizedError.message")}));break;case R.K.NO_VALID_API_RESOURCE_ID_FOUND:case R.K.API_RESOURCE_NOT_FOUND:m((0,i.V_)({description:o("extensions:develop.apiResource.notifications.getAPIResource.notFoundError.description"),level:r.QU.ERROR,message:o("extensions:develop.apiResource.notifications.getAPIResource.notFoundError.message")}));break;default:m((0,i.V_)({description:o("extensions:develop.apiResource.notifications.getAPIResource.genericError.description"),level:r.QU.ERROR,message:o("extensions:develop.apiResource.notifications.getAPIResource.genericError.message")}))}}),[U]);var D=function(){var e=d.m8.location.pathname.split("/"),t=e[e.length-1];_(t)};return!w&&!k||U?s.createElement(a.$J,{subtitle:[o("extensions:develop.apiResource.tabs.apiResourceError.subtitles.0"),o("extensions:develop.apiResource.tabs.apiResourceError.subtitles.1")],title:o("extensions:develop.apiResource.tabs.apiResourceError.title"),image:(0,d.jF)().emptySearch,imageSize:"tiny"}):s.createElement(a.O9,{isLoading:w,title:null==k?void 0:k.displayName,pageTitle:o("extensions:develop.apiResource.tabs.title"),description:I&&s.createElement(l.Z,{size:"small",className:"choreo-label"},o("extensions:develop.apiResource.managedByChoreoText")),loadingStateOptions:{count:5,imageType:"circular"},backButton:{"data-testid":"".concat(t,"-back-button"),onClick:function(){d.m8.push(R.K.getPaths().get("API_RESOURCES"))},text:o("extensions:develop.apiResource.tabs.backButton")},titleTextAlign:"left",bottomMargin:!1,pageHeaderMaxWidth:!0},s.createElement(f.Z,{apiResourceData:k,isAPIResourceDataLoading:w,featureConfig:P,isReadOnly:h,isManagedByChoreo:I,mutateAPIResource:N}))};b.defaultProps={"data-componentid":"api-resource-edit"};const E=b}}]);