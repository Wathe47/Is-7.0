"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[69119,96788,17507,65230,13090,49789,17510],{96788:(e,n,t)=>{t.r(n),t.d(n,{updateOrganizationConfig:()=>d,useOrganizationConfig:()=>l});var i=t(34148),a=t(93129),r=t(73508),o=t(61263),s=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),l=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={headers:{"Content-Type":"application/json"},method:a.f2.GET,url:o.h.getState().config.endpoints.organizationEndpoint.replace("{organization}",e)},s=(0,r.Z)(t?i:null,n),l=s.data,d=s.error;return{data:l,error:d,isLoading:!d&&!l,isValidating:s.isValidating,mutate:s.mutate}},d=function(e){var n={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.PATCH,url:o.h.getState().config.endpoints.organizationPatchEndpoint};return s(n).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},17507:(e,n,t)=>{t.r(n),t.d(n,{ADMIN_USER_NAME:()=>i.ADMIN_USER_NAME,ADVANCED_USER_MGT:()=>i.ADVANCED_USER_MGT,AdminAccountTypes:()=>i.AdminAccountTypes,AdministratorConstants:()=>i.AdministratorConstants,CONSUMER_USERSTORE:()=>i.CONSUMER_USERSTORE,GUEST_ADMIN_ASSOCIATION_TYPE:()=>i.GUEST_ADMIN_ASSOCIATION_TYPE,PRIMARY_USERSTORE:()=>i.PRIMARY_USERSTORE,UserAccountTypes:()=>i.UserAccountTypes});var i=t(7404)},69119:(e,n,t)=>{t.r(n),t.d(n,{AdminSettingsPage:()=>T,default:()=>y});var i=t(93129),a=t(3356),r=t(86727),o=t(44194),s=t(10479),l=t(47245),d=t(39114),c=t(72857),u=t(26154),g=t(66651),m=t(24393),p=t(34148),f=t(61263),S=p.AsgardeoSPAClient.getInstance().httpRequest.bind(p.AsgardeoSPAClient.getInstance()),v=function(e){var n={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":f.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.PATCH,url:f.h.getState().config.endpoints.organizationPatchEndpointV2};return S(n).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},A=t(31804),E=t(96788),h=t(17507);function R(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,a,r,o,s=[],l=!0,d=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=r.call(t)).done)&&(s.push(i.value),s.length!==n);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var T=function(e){var n=e["data-componentid"],t=(0,l.I0)(),p=(0,g.Z)().legacyAuthzRuntime,f=p?E.useOrganizationConfig:A.c,S=p?E.updateOrganizationConfig:v,C=(0,s.$)().t,T=(0,r.fQ)().getLink,y=R((0,o.useState)(!1),2),b=y[0],_=y[1],O=f(m.h.getState().auth.tenantDomain,{revalidateIfStale:!1}),U=O.data,x=O.isLoading,M=O.error;(0,o.useEffect)((function(){_(null==U?void 0:U.isEnterpriseLoginEnabled)}),[x]),(0,o.useEffect)((function(){var e,n,r,o,s,l,d;M&&(null!=M&&null!==(e=M.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?t((0,a.V_)({description:null!==(n=null!==(r=null==M||null===(o=M.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.description)&&void 0!==r?r:null==M||null===(s=M.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.detail)&&void 0!==n?n:C("extensions:manage.users.administratorSettings.error.description"),level:i.QU.ERROR,message:null!==(l=null==M||null===(d=M.response)||void 0===d||null===(d=d.data)||void 0===d?void 0:d.message)&&void 0!==l?l:C("extensions:manage.users.administratorSettings.error.message")})):t((0,a.V_)({description:C("extensions:manage.users.administratorSettings.genericError.description"),level:i.QU.ERROR,message:C("extensions:manage.users.administratorSettings.genericError.message")})))}),[M]);var P=function(e,n){var r={isEnterpriseLoginEnabled:n.checked};_(n.checked),S(r).then((function(){t((0,a.V_)({description:C("extensions:manage.users.administratorSettings.success.description"),level:i.QU.SUCCESS,message:C("extensions:manage.users.administratorSettings.success.message")}))})).catch((function(e){var n,r,o,s,l,d,c;null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?t((0,a.V_)({description:null!==(r=null!==(o=null==e||null===(s=e.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.description)&&void 0!==o?o:null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.detail)&&void 0!==r?r:C("extensions:manage.users.administratorSettings.error.description"),level:i.QU.ERROR,message:null!==(d=null==e||null===(c=e.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.message)&&void 0!==d?d:C("extensions:manage.users.administratorSettings.error.message")})):t((0,a.V_)({description:C("extensions:manage.users.administratorSettings.genericError.description"),level:i.QU.ERROR,message:C("extensions:manage.users.administratorSettings.genericError.message")}))}))};return o.createElement(r.Xg,{title:C("extensions:manage.users.administratorSettings.administratorSettingsTitle"),description:o.createElement(o.Fragment,null,C("extensions:manage.users.administratorSettings.administratorSettingsSubtitle"),o.createElement(r.eb,{link:T("manage.users.collaboratorAccounts.adminSettingsLearnMore")},C("extensions:common.learnMore"))),backButton:{"data-componentid":"".concat(n,"-page-back-button"),onClick:function(){m.m8.push(h.AdministratorConstants.getPaths().get("COLLABORATOR_USERS_PATH"))},text:C("extensions:manage.users.administratorSettings.backButton")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0,"data-componentid":"".concat(n,"-page-layout")},o.createElement(o.Fragment,null,o.createElement(d.Z,{label:C(b?"extensions:manage.users.administratorSettings.enableToggleMessage":"extensions:manage.users.administratorSettings.disableToggleMessage"),toggle:!0,onChange:P,checked:b,readOnly:!1,"data-componentid":"".concat(n,"-enable-toggle")})),o.createElement(c.Z,{info:!0,content:o.createElement(o.Fragment,null,o.createElement(u.Z,{name:"info circle"}),C("extensions:manage.users.administratorSettings.toggleHint"))}))};T.defaultProps={"data-componentid":"administrator-settings-page"};const y=T},31804:(e,n,t)=>{t.d(n,{c:()=>o});var i=t(93129),a=t(73508),r=t(61263),o=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o={headers:{"Content-Type":"application/json"},method:i.f2.GET,url:r.h.getState().config.endpoints.organizationEndpointV2.replace("{organization}",e)},s=(0,a.Z)(t?o:null,n),l=s.data,d=s.error;return{data:l,error:d,isLoading:!d&&!l,isValidating:s.isValidating,mutate:s.mutate}}}}]);