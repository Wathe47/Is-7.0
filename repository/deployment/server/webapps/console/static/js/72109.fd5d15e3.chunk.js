"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[72109,53346],{53346:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var n=r(86727),s=r(44194),i=r(10479),a=r(47245),l=r(33040),u=r(90984),o=r(79250),c=r(24393),d=r(37313),f=r(117),m=r(17507);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,i,a,l=[],u=!0,o=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){o=!0,s=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(o)throw s}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=function(e){var t=e.guestUsersList,r=e.getGuestUsersList,C=e.isGuestUsersRequestLoading,E=e.isOnboardedGuestUsersListRequestLoading,h=e.onboardedGuestUserList,v=e.invitationStatusOption,S=e.handleInvitationStatusOptionChange,g=e.onEmptyListPlaceholderActionClick,A=e.getUsersList,P=e.isNextPage,U=e.isDescriptionShown,y=e.setDescriptionShown,L=(0,i.$)().t,b=(0,n.fQ)().getLink,T=p((0,s.useState)(""),2),D=T[0],O=T[1],I=p((0,s.useState)(0),2),w=I[0],X=I[1],G=p((0,s.useState)(c.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),R=G[0],_=G[1],N=p((0,s.useState)(!1),2),k=N[0],x=N[1],Q=p((0,s.useState)([]),2),M=Q[0],F=Q[1],q=p((0,s.useState)([]),2),H=q[0],j=q[1],V=p((0,s.useState)([]),2),W=V[0],z=V[1],B=p((0,s.useState)(!1),2),K=B[0],Y=B[1],$=p((0,s.useState)(!1),2),Z=$[0],J=$[1],ee=p((0,s.useState)(!1),2),te=ee[0],re=ee[1],ne=(0,a.v9)((function(e){return e.config.ui.features}));(0,s.useEffect)((function(){U(m.AdministratorConstants.QUEST_DESCRIPTION_SHOWN_STATUS_KEY)&&J(!0)}),[]),(0,s.useEffect)((function(){if(v!==f.XC.ACCEPTED){if(X(0),"email co "===D||""===D||null===D)return F(t),void z([]);if(D){var e=t;if(W.length>0&&(e=W),D.includes("email sw ")){var r=D.split("sw ")[1];e=e.filter((function(e){return e.email.startsWith(r)}))}else if(D.includes("email ew ")){var n=D.split("ew ")[1];e=e.filter((function(e){return e.email.endsWith(n)}))}else if(D.includes("email eq ")){var s=D.split("eq ")[1];e=e.filter((function(e){return e.email===s}))}else if(D.includes("email co ")){var i=D.split("co ")[1];e=e.filter((function(e){return e.email.includes(i)}))}F(e),z(e)}}}),[D]),(0,s.useEffect)((function(){if(v!==f.XC.ACCEPTED){var e=null==M?void 0:M.filter((function(e){return e.status===v.toUpperCase()}));e.length>R?(e=e.slice(w,w+R),j(e),Y(e.length===R)):(j(e),Y(!1))}}),[M,w,R]),(0,s.useEffect)((function(){F(t)}),[t]),(0,s.useEffect)((function(){te&&(X(0),_(c.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),ie(),re(!1))}),[te]),(0,s.useEffect)((function(){v===f.XC.ACCEPTED&&A(R,w+1,null==D||""==D?null:D,null,d.pH)}),[w,R]),(0,s.useEffect)((function(){return r(),f.XC.ACCEPTED.toUpperCase()===v.toUpperCase()&&(h&&0!=h.totalResults||(t.filter((function(e){return e.status===f.XC.PENDING.toUpperCase()})).length>0?(S(f.XC.PENDING),re(!0)):t.filter((function(e){return e.status===f.XC.EXPIRED.toUpperCase()})).length>0&&(S(f.XC.EXPIRED),re(!0)))),function(){S(f.XC.ACCEPTED),re(!0)}}),[]);var se=[{key:1,text:"Accepted",value:"Accepted"},{key:2,text:"Pending",value:"Pending"},{key:3,text:"Expired",value:"Expired"}],ie=function(){x(!k),O("")},ae=function(e){if(O(e),v===f.XC.ACCEPTED){if("userName sw "===e)return void A(R,w,null,null,d.pH);A(R,w,e,null,d.pH)}},le=function(){J(!1),y(m.AdministratorConstants.QUEST_DESCRIPTION_SHOWN_STATUS_KEY)};return s.createElement(s.Fragment,null,Z&&s.createElement("div",{className:"mt-3 mb-6"},Z&&s.createElement(n.v0,{onDismiss:le,content:s.createElement(s.Fragment,null,s.createElement(n.xv,{className:"message-info-text"},s.createElement(s.Fragment,null,L("extensions:manage.users.descriptions.guestUser"),s.createElement(n.eb,{link:b("manage.users.collaboratorAccounts.learnMore")},L("extensions:common.learnMore")))))})),s.createElement(n.PS,{advancedSearch:s.createElement(c.nC,{onFilter:ae,filterAttributeOptions:v===f.XC.ACCEPTED?[{key:0,text:L("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:L("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}]:[{key:0,text:L("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"email"}],filterAttributePlaceholder:L("users:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:L("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:L("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:L("users:advancedSearch.placeholder"),defaultSearchAttribute:v===f.XC.ACCEPTED?"userName":"email",defaultSearchOperator:"co",triggerClearQuery:k}),currentListSize:v===f.XC.ACCEPTED?null==h?void 0:h.totalResults:null==H?void 0:H.length,listItemLimit:R,onItemsPerPageDropdownChange:function(e,t){_(t.value)},"data-testid":"user-mgt-user-list-layout",onPageChange:function(e,t){X((t.activePage-1)*R)},showPagination:!0,showTopActionPanel:!0,totalPages:v===f.XC.ACCEPTED?Math.ceil((null==h?void 0:h.totalResults)/R):Math.ceil((null==M?void 0:M.length)/R),totalListSize:v===f.XC.ACCEPTED?null==h?void 0:h.totalResults:null==M?void 0:M.length,onSearchQueryClear:ie,paginationOptions:{disableNextButton:v===f.XC.ACCEPTED?!P:!K,disablePreviousButton:w<1},leftActionPanel:s.createElement(l.Z,{"data-testid":"user-mgt-user-list-userstore-dropdown",selection:!0,options:se&&se,onChange:function(e,t){S(t.value),re(!0)},text:"Filter by: ".concat(v)})},v===f.XC.ACCEPTED&&s.createElement(o.OnboardedGuestUsersList,{advancedSearch:s.createElement(c.nC,{onFilter:ae,filterAttributeOptions:[{key:0,text:L("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:L("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:L("users:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:L("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:L("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:L("users:advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:k}),onboardedGuestUsersList:h,userMetaListContent:null,isLoading:E,realmConfigs:null,onEmptyListPlaceholderActionClick:g,onSearchQueryClear:ie,searchQuery:D,"data-testid":"user-mgt-user-list",readOnlyUserStores:null,featureConfig:ne,onUserDelete:function(){return A(R,w,null,null,d.pH)}}),v===f.XC.PENDING&&s.createElement(u.GuestUsersList,{invitationStatusOption:v,onEmptyListPlaceholderActionClick:g,onboardedGuestUserList:h,onSearchQueryClear:ie,guestUsersList:H,getGuestUsersList:function(){return r()},isGuestUsersRequestLoading:C,searchQuery:D}),v===f.XC.EXPIRED&&s.createElement(u.GuestUsersList,{invitationStatusOption:v,onEmptyListPlaceholderActionClick:g,onboardedGuestUserList:h,onSearchQueryClear:ie,guestUsersList:null==H?void 0:H.filter((function(e){return e.status===f.XC.EXPIRED.toUpperCase()})),getGuestUsersList:function(){return r()},isGuestUsersRequestLoading:C,searchQuery:D})))};E.defaultProps={"data-testid":"asgardeo-guest-users"};const h=E},72109:(e,t,r)=>{r.r(t),r.d(t,{EditGuestUser:()=>i.EditGuestUser,GuestUsersList:()=>n.GuestUsersList,OnboardedGuestUsersList:()=>s.OnboardedGuestUsersList,UserRolesList:()=>a.UserRolesList});var n=r(90984),s=(r(53346),r(79250)),i=r(38801),a=r(20731)}}]);