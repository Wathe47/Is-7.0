/*! For license information please see 61135.740ec042.chunk.js.LICENSE.txt */
(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[61135],{53715:(e,t,n)=>{var r={"./apple/quick-start":[45877,24674],"./facebook/quick-start":[51480,84122],"./github/quick-start":[884,88245],"./google/quick-start":[258,19677],"./hypr/quick-start":[37410,54778],"./microsoft/quick-start":[62405,19688],"./swe/quick-start":[91229,4270]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=53715,e.exports=i},61135:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Yo});var r=n(54833),i=n(93129),a=n(3356),o=n(86727),l=n(17),c=n(50350),u=n(44194),s=n(10479),d=n(47245),m=n(37077),f=n(24393),p=n(61763),v=n(78645),h=n(14323),y=n(89141),g=n(57480),b=n(84870),E=n(76892),S=n(73019),I=n(30741);function O(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.authenticator,n=e.isLoading,r=e.defaultActiveIndex,c=e.onUpdate,m=e.type,f=e.isReadOnly,p=e["data-testid"],v=(0,d.I0)(),A=(0,s.$)().t,T=P((0,u.useState)(void 0),2),C=T[0],_=T[1],w=P((0,u.useState)(!1),2),L=w[0],N=w[1];(0,u.useEffect)((function(){var e;if(!C&&t){var n=(0,l.Z)(b.identityProviderConfig.authenticators,t.id);if(null!=n&&null!==(e=n.content)&&void 0!==e&&e.quickStart){var r=b.identityProviderConfig.editIdentityProvider.getTabExtensions({content:n.content.quickStart});_(r)}}}),[t,C]);var R,k,D=function(e){N(!0);var n=M(t);(0,E.Z1)(t.id,e).then((function(){v((0,a.V_)({description:A("authenticationProvider:notifications."+n+".success.description"),level:i.QU.SUCCESS,message:A("authenticationProvider:notifications."+n+".success.message")})),c(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?v((0,a.V_)({description:A("authenticationProvider:notifications."+n+".error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:A("authenticationProvider:notifications."+n+".error.message")})):v((0,a.V_)({description:A("authenticationProvider:notifications."+n+".genericError.description"),level:i.QU.ERROR,message:A("authenticationProvider:notifications."+n+".genericError.message")}))})).finally((function(){N(!1)}))},M=function(e){return e.id===S.bQ.SMS_OTP_AUTHENTICATOR_ID?"updateSMSOTPAuthenticator":e.id===S.bQ.EMAIL_OTP_AUTHENTICATOR_ID?"updateEmailOTPAuthenticator":"updateGenericAuthenticator"},x=function(){return u.createElement(o.M$.Pane,{controlledSegmentation:!0},n?u.createElement(o.pO,null):u.createElement("div",{className:"authentication-section"},u.createElement(y.Z,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:16},u.createElement(o.pJ,{padded:"very"},u.createElement(g.p,{mode:I.Pk.EDIT,metadata:null,showCustomProperties:!1,initialValues:t,onSubmit:D,type:m,"data-testid":"".concat(p,"-").concat(t.name,"-content"),isReadOnly:f,isSubmitting:L})),t.id===S.bQ.SMS_OTP_AUTHENTICATOR_ID&&h.authenticatorConfig.externalResourceButton)))))};return t?u.createElement(o.M$,{"data-testid":"".concat(p,"-resource-tabs"),panes:(k=[],C&&C.length>0&&k.push.apply(k,O(C)),[S.bQ.TOTP_AUTHENTICATOR_ID,S.bQ.MAGIC_LINK_AUTHENTICATOR_ID].includes(t.id)||k.push({menuItem:A("authenticationProvider:edit.common.settings.tabName"),render:x}),k),defaultActiveIndex:(R=r,[S.bQ.TOTP_AUTHENTICATOR_ID,S.bQ.MAGIC_LINK_AUTHENTICATOR_ID].includes(t.id)?0:R)}):null};C.defaultProps={"data-testid":"multi-factor-authenticator-edit",defaultActiveIndex:1};var _=n(65201),w=n(79494),L=n(73150),N=n(20849),R=n(24184),k=n(14045),D=n(20812),M=n(21036),x=n(19980),j=n(26154),U=n(47018);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function Z(){Z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:T(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,o,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,o)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,o,l){var c=d(e[i],e,a);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==G(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=m;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(G(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new A(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(O),u(O,c,"Generator"),u(O,o,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function F(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(e){var t,n=e["data-componentid"],r=e.isOpen,l=e.onClose,c=e.currentlyEditingIdP,m=e.refreshIdP,p=(0,s.$)().t,v=(0,d.I0)(),h=H((0,o.IK)(),3),g=h[0],b=h[1],E=h[2],S=H((0,u.useState)(""),2),I=S[0],O=S[1],P=H((0,u.useState)(!0),2),A=P[0],T=P[1],C=H((0,u.useState)(!1),2),_=C[0],L=C[1],N=function(){var e,t=(e=Z().mark((function e(){var t,n,r,o,u,s,d;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),null==c||null===(t=c.certificate)||void 0===t||null===(t=t.certificates)||void 0===t||!t.includes(I)){e.next=6;break}return v((0,a.V_)({description:p("authenticationProvider:notifications.duplicateCertificateUpload.error.description",{idp:c.name}),level:i.QU.ERROR,message:p("authenticationProvider:notifications.duplicateCertificateUpload.error.message")})),L(!1),l(),e.abrupt("return");case 6:return o=null!=c&&null!==(n=c.certificate)&&void 0!==n&&n.certificates?null==c||null===(r=c.certificate)||void 0===r||null===(r=r.certificates)||void 0===r?void 0:r.length:0,u=[{operation:"ADD",path:"/certificate/certificates/"+o,value:I}],s=function(){v((0,a.V_)({description:p("authenticationProvider:notifications.updateIDPCertificate.success.description"),level:i.QU.SUCCESS,message:p("authenticationProvider:notifications.updateIDPCertificate.success.message")})),L(!1),l(),m(c.id)},d=function(e){if(e.response&&e.response.data&&e.response.data.description)return b({description:e.response.data.description,level:i.QU.ERROR,message:p("authenticationProvider:notifications.updateIDPCertificate.error.message")}),void L(!1);b({description:p("authenticationProvider:notifications.updateIDPCertificate.genericError.description"),level:i.QU.ERROR,message:p("authenticationProvider:notifications.updateIDPCertificate.genericError.message")}),L(!1)},e.next=12,(0,w.DM)(c.id,u).then(s).catch(d);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){F(a,r,i,o,l,"next",e)}function l(e){F(a,r,i,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return u.createElement(U.Z,{className:"certificate-display",dimmer:"blurring",size:"tiny",open:r,onClose:l,"data-testid":"".concat(n,"-view-certificate-modal")},u.createElement(U.Z.Header,{className:"wizard-header"},p("authenticationProvider:modals.addCertificate.title"),u.createElement(o.X6,{as:"h6"},p("authenticationProvider:modals.addCertificate.subTitle",{idpName:null!==(t=null==c?void 0:c.name)&&void 0!==t?t:""}))),u.createElement(U.Z.Content,{className:"content-container"},g&&E,u.createElement(D.l0,{id:"idp-certificate-add-modal-form",onSubmit:function(){return{}},uncontrolledForm:!0},u.createElement(o.GB,{key:1,fileStrategy:new o.tN,normalizeStateOnRemoveOperations:!0,onChange:function(e){try{var t,n;O(btoa(null!==(t=null===(n=e.serialized)||void 0===n?void 0:n.pem)&&void 0!==t?t:"")),T(!(e.pastedContent&&e.file||e.serialized||e.valid))}catch(r){b({description:r&&(null==r?void 0:r.message),level:i.QU.ERROR,message:"An unknown error occurred."})}},uploadButtonText:"Upload Certificate File",dropzoneText:"Drag and drop a certificate file here.",pasteAreaPlaceholderText:"Paste IdP certificate in PEM format.",icon:(0,f._5)().uploadPlaceholder,placeholderIcon:u.createElement(j.Z,{name:"file alternate",size:"huge"}),"data-testid":"".concat(n,"-form-wizard--pem-certificate")})),_&&u.createElement(o.pO,null)),u.createElement(U.Z.Actions,null,u.createElement(y.Z,null,u.createElement(y.Z.Row,{column:1},u.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.Qj,{floated:"left",onClick:l,"data-testid":"".concat(n,"-cancel-button")},p("common:cancel"))),u.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.KM,{disabled:A||_,floated:"right",loading:_,onClick:N,"data-testid":"".concat(n,"-finish-button")},p("common:finish")))))))};q.defaultProps={"data-componentid":"add-certificate-modal"};var K="authenticationProvider:placeHolders.emptyCertificateList",B=function(e){var t,n=e["data-componentid"],r=e.onAddCertificateClicked,i=(0,s.$)().t,a=(0,d.v9)((function(e){return e.config.ui.features}));return u.createElement(x.Z,null,u.createElement(o.$J,{title:i("".concat(K,".title")),image:(0,f.jF)().emptyList,subtitle:[i("".concat(K,".subtitles.0")),i("".concat(K,".subtitles.1"))],imageSize:"tiny",action:u.createElement(R.di,{when:null==a||null===(t=a.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},u.createElement(o.KM,{onClick:r,"data-testid":"".concat(n,"-emptyPlaceholder-add-certificate-button"),type:"button"},u.createElement(j.Z,{name:"add"}),i("authenticationProvider:buttons.addCertificate"))),"data-testid":"".concat(n,"-empty-placeholder")}))};B.defaultProps={"data-componentid":"empty-certificates-placeholder"};var z=n(71015),Q=n(84025),Y=n.n(Q),W=n(59673),$=function(e){var t=e["data-componentid"],n=e.certificateToDisplay,r=e.show,i=e.onCloseClicked,a=(0,s.$)().t,l=u.createElement(x.Z,{className:"certificate","data-testid":t},u.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",z.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return u.createElement("span",{key:"".concat(e,"+").concat(t)},u.createElement(o.EK,null,e),"\xa0")}))," key algorithms. Support for ",u.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return u.createElement(U.Z,{className:"certificate-display",dimmer:"blurring",size:"tiny",open:r,onClose:function(){return i(n)},"data-testid":"".concat(t,"-view-certificate-modal")},u.createElement(U.Z.Header,null,u.createElement("div",{className:"certificate-ribbon"},u.createElement(o.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,f._5)().ribbon}),u.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=n&&n.alias?n.alias:null!=n&&n.issuerDN?k.CertificateManagementUtils.searchIssuerDNAlias(null==n?void 0:n.issuerDN):X),u.createElement("br",null),u.createElement("div",{className:"certificate-serial"},"Serial Number: ",null==n?void 0:n.serialNumber))),u.createElement(U.Z.Content,{className:"certificate-content"},null!=n&&n.infoUnavailable?l:u.createElement(o.KB,{certificate:n,labels:{issuerDN:a("certificates:keystore.summary.issuerDN"),subjectDN:a("certificates:keystore.summary.subjectDN"),validFrom:a("certificates:keystore.summary.validFrom"),validTill:a("certificates:keystore.summary.validTill"),version:a("certificates:keystore.summary.version")}})))},X="";function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function ee(){ee=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:T(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,o,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,o)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,o,l){var c=d(e[i],e,a);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==J(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=m;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(J(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new A(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(O),u(O,c,"Generator"),u(O,o,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function te(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){te(a,r,i,o,l,"next",e)}function l(e){te(a,r,i,o,l,"throw",e)}o(void 0)}))}}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$.defaultProps={"data-componentid":"show-certificate-modal"};var ae=function(e){var t,n=e["data-componentid"],r=e.currentlyEditingIdP,l=e.refreshIdP,c=e.isReadOnly,m=e.templateType,f=(0,s.$)().t,p=(0,d.I0)(),v=(0,d.v9)((function(e){return e.config})),h=re((0,u.useState)(),2),g=h[0],b=h[1],E=re((0,u.useState)(!1),2),I=E[0],O=E[1],P=re((0,u.useState)(null),2),A=P[0],T=P[1],C=re((0,u.useState)(!1),2),_=C[0],L=C[1],N=re((0,u.useState)(null),2),R=N[0],M=N[1],x=re((0,u.useState)(!1),2),U=x[0],G=x[1];(0,u.useEffect)((function(){Z()}),[]),(0,u.useEffect)((function(){Z()}),[null==r||null===(t=r.certificate)||void 0===t?void 0:t.certificates]);var Z=function(){var e;if((null==r||null===(e=r.certificate)||void 0===e||null===(e=e.certificates)||void 0===e?void 0:e.length)>0){var t,n=[];null==r||null===(t=r.certificate)||void 0===t||null===(t=t.certificates)||void 0===t||t.map((function(e){k.CertificateManagementUtils.canSafelyParseCertificate(e)?null==n||n.push(k.CertificateManagementUtils.displayCertificate(null,e)):null==n||n.push(z.lu.DUMMY_DISPLAY_CERTIFICATE)})),b([].concat(n))}},F=function(){var e=ne(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(t),m!==S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER||1!==g.length||null!=r&&null!==(n=r.certificate)&&void 0!==n&&n.jwksUri){e.next=5;break}L(!0),e.next=7;break;case 5:return e.next=7,H(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=ne(ee().mark((function e(t){var n,o,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),n=[{operation:"REMOVE",path:"/certificate/certificates/"+(null!=t?t:R),value:null}],o=function(){p((0,a.V_)({description:f("authenticationProvider:notifications.deleteCertificate.success.description"),level:i.QU.SUCCESS,message:f("authenticationProvider:notifications.deleteCertificate.success.message")})),l(r.id)},c=function(e){e.response&&e.response.data&&e.response.data.description?p((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:f("authenticationProvider:notifications.deleteCertificate.error.message")})):p((0,a.V_)({description:f("authenticationProvider:notifications.deleteCertificate.genericError.description"),level:i.QU.ERROR,message:f("authenticationProvider:notifications.deleteCertificate.genericError.message")}))},e.next=7,(0,w.DM)(null==r?void 0:r.id,n).then(o).catch(c).finally((function(){G(!1),_&&L(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){T(e),O(!0)},q=function(e,t,n){var r,a,l=Y()(t);switch(k.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case i.WE.VALID:r="check circle",a="green";break;case i.WE.WILL_EXPIRE_SOON:r="exclamation circle",a="yellow";break;default:r="times circle",a="red"}return u.createElement(u.Fragment,null,n+z.lu.SPACE_CHARACTER,u.createElement(o.GI,{trigger:u.createElement(j.Z,{name:r,color:a}),content:"Expiry date: "+l.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},K=function(e){return u.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",u.createElement(o.GI,{trigger:u.createElement(j.Z,{onClick:function(){return V(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))},B=function(e,t){return[{"data-componentid":"".concat(n,"-edit-cert-").concat(t,"-button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return V(e)},popupText:"Preview",type:"button"},{"data-componentid":"".concat(n,"-delete-cert-").concat(t,"-button"),icon:"trash alternate",onClick:function(){return F(t)},popupText:"Delete",type:"button"}]},Q=function(e){return u.createElement(o.Yt,{name:null!=e&&e.infoUnavailable?z.lu.QUESTION_MARK:k.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})};return u.createElement(D.l0,{id:"idp-certificates-list-form",onSubmit:z.lu.NO_OPERATIONS,uncontrolledForm:!0},u.createElement(y.Z,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,null,u.createElement(o.Db,{fill:!0,relaxed:!1,className:"application-list",isLoading:U,loadingStateOptions:{count:2,imageType:"circular"},readOnly:c},null==g?void 0:g.map((function(e,t){return u.createElement(o.zA,{key:t,actionsColumnWidth:3,descriptionColumnWidth:9,actions:B(e,t),actionsFloated:"right",avatar:Q(e),itemHeader:null!=e&&e.infoUnavailable?K(e):q(e.validFrom,e.validTill,k.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:(n=e.validFrom,r=e.validTill,k.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(n,r))});var n,r})))))),u.createElement($,{show:I,certificateToDisplay:A,onCloseClicked:function(){return O(!1)}}),u.createElement(o.cV,{primaryActionLoading:U,onClose:function(){return L(!1)},type:"negative",open:_,assertionType:"checkbox",assertionHint:f("authenticationProvider:confirmations.deleteCertificate.assertionHint"),primaryAction:f("common:confirm"),secondaryAction:f("common:cancel"),onSecondaryActionClick:function(){return L(!1)},onPrimaryActionClick:function(){return H()},"data-componentid":"".concat(n,"-delete-certificate-confirmation"),closeOnDimmerClick:!1},u.createElement(o.cV.Header,{"data-componentid":"".concat(n,"-delete-certificate-confirmation-header")},f("authenticationProvider:confirmations.deleteCertificate.header")),u.createElement(o.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(n,"-delete-certificate-confirmation")},f("authenticationProvider:confirmations.deleteCertificate.message")),u.createElement(o.cV.Content,{"data-componentid":"".concat(n,"-delete-certificate-confirmation-content")},u.createElement(W.c,{i18nKey:"authenticationProvider:confirmations.deleteCertificate.content",values:{productName:v.ui.productName}},"If this certificate is deleted, productName will no longer be able to validate tokens issued from this issuer.",u.createElement("b",null," Proceed with caution.")))))};ae.defaultProps={"data-componentid":"idp-certificates-list"};var oe=n(66851);function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue="idp-certificate-jwks-input-form",se=function(e){var t,n,r,l,c,m=e["data-componentid"],f=e.editingIDP,p=e.onUpdate,h=e.isReadOnly,y=e.isJWKSEnabled,g=e.isPEMEnabled,b=e.templateType,E=(0,d.v9)((function(e){return e.config})),I=(0,d.v9)((function(e){return e.config.ui.features})),O=le((0,u.useState)(),2),P=O[0],A=O[1],T=le((0,u.useState)(!1),2),C=T[0],_=T[1],U=le((0,u.useState)(!1),2),G=U[0],Z=U[1],F=le((0,u.useState)(!1),2),H=F[0],V=F[1],K=le((0,u.useState)(),2),z=K[0],Q=K[1],Y=(0,s.$)().t,W=(0,d.I0)();(0,u.useEffect)((function(){$()}),[]),(0,u.useEffect)((function(){$()}),[f]);var $=function(){var e,t,n;y?(null==f||null===(e=f.certificate)||void 0===e||null===(e=e.certificates)||void 0===e?void 0:e.length)>0?A("certificates"):(Q(null!==(t=null==f||null===(n=f.certificate)||void 0===n?void 0:n.jwksUri)&&void 0!==t?t:""),A("jwks")):A("certificates")},X=function(){_(!0)},J=u.createElement(D.l0,{id:ue,uncontrolledForm:!0,initialValues:{jwks_endpoint:null==f||null===(t=f.certificate)||void 0===t?void 0:t.jwksUri},onSubmit:function(e){var t,n=[{operation:null!=f&&null!==(t=f.certificate)&&void 0!==t&&t.jwksUri?z?"REPLACE":"REMOVE":"ADD",path:"/certificate/jwksUri",value:e.jwks_endpoint}];Z(!0);(0,w.DM)(f.id,n).then((function(){W((0,a.V_)({description:Y("authenticationProvider:notifications.updateIDPCertificate.success.description"),level:i.QU.SUCCESS,message:Y("authenticationProvider:notifications.updateIDPCertificate.success.message")})),p(f.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?W((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:Y("authenticationProvider:notifications.updateIDPCertificate.error.message")})):W((0,a.V_)({description:Y("authenticationProvider:notifications.updateIDPCertificate.genericError.description"),level:i.QU.ERROR,message:Y("authenticationProvider:notifications.updateIDPCertificate.genericError.message")}))})).finally((function(){Z(!1)}))}},u.createElement(D.gN.Input,{hint:u.createElement(u.Fragment,null,"A JSON Web Key (JWK) Set is a JSON object that represents a set of JWKs. The JSON object MUST have a ",u.createElement(o.EK,null,"keys")," member, with its value being an array of JWKs."),label:"JWKS Endpoint URL",ariaLabel:"JWKS Endpoint URL",inputType:"url",width:16,validation:function(e){return e&&!M.I.url(e)?(V(!1),Y("applications:forms.inboundSAML.fields.metaURL.validations.invalid")):null!==v.commonConfig&&void 0!==v.commonConfig&&v.commonConfig.blockLoopBackCalls&&k.URLUtils.isLoopBackCall(e)?(V(!1),Y("idp:forms.common.internetResolvableErrorMessage")):void V(!0)},listen:function(e){return Q(e)},placeholder:"https://{ oauth-provider-url }/oauth/jwks",maxLength:oe.v.JWKS_URL_LENGTH.max,minLength:oe.v.JWKS_URL_LENGTH.min,name:"jwks_endpoint",disabled:h}),u.createElement(R.di,{when:null==I||null===(n=I.identityProviders)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},u.createElement(D.gN.Button,{form:ue,"data-testid":"".concat(m,"-save-button"),loading:G,ariaLabel:"JWKS Enpoint",name:"jwks_enpoint",size:"small",buttonType:"primary_btn",label:Y("common:update"),disabled:!H||z===(null==f||null===(r=f.certificate)||void 0===r?void 0:r.jwksUri)||G}))),ee=u.createElement(u.Fragment,null,null!=f&&null!==(l=f.certificate)&&void 0!==l&&null!==(l=l.certificates)&&void 0!==l&&l.length?u.createElement(x.Z,null,u.createElement(N.Z,{direction:"column",container:!0,spacing:2},u.createElement(N.Z,{xs:12},u.createElement(R.di,{when:null==I||null===(c=I.identityProviders)||void 0===c||null===(c=c.scopes)||void 0===c?void 0:c.update},u.createElement(o.KM,{floated:"right",onClick:X,"data-testid":"".concat(m,"-add-certificate-button")},u.createElement(j.Z,{name:"add"}),Y("authenticationProvider:buttons.addCertificate")))),u.createElement(N.Z,{xs:12},u.createElement(ae,{templateType:b,isReadOnly:h,currentlyEditingIdP:f,refreshIdP:p})))):u.createElement(B,{onAddCertificateClicked:X}));return y||g?u.createElement(o.pJ,{padded:"very"},u.createElement(N.Z,{direction:"column",container:!0,spacing:4},b===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER&&!(null!=f&&f.certificate)&&u.createElement(N.Z,{xs:12},u.createElement(L.Z,{severity:"error"},Y("authenticationProvider:forms.certificateSection.noCertificateAlert",{productName:E.ui.productName}))),u.createElement(N.Z,{direction:"column",container:!0,spacing:3,xs:12},y&&g&&u.createElement(N.Z,{md:12,lg:6},u.createElement(o.T5,{widths:"two",compact:!0,"data-testid":"".concat(m,"-switcher"),selectedValue:P,onChange:function(e){var t=e.value;A(t)},options:[{label:Y("authenticationProvider:forms.certificateSection.certificateEditSwitch.jwks"),value:"jwks"},{label:Y("authenticationProvider:forms.certificateSection.certificateEditSwitch.pem"),value:"certificates"}]})),u.createElement(N.Z,{md:12,lg:6},"jwks"===P?J:u.createElement(u.Fragment,null,ee,u.createElement(o.kW,null,"Upload certificate(s) for this Identity Provider. You can include multiple certificates in case if there's any certificate rotations. You can upload ",o.tN.DEFAULT_MIMES.map((function(e,t){return u.createElement("span",{key:e},u.createElement(o.EK,null,e),t!==o.tN.DEFAULT_MIMES.length-1&&u.createElement(u.Fragment,null,"\xa0"))}))," types of certificates."))))),g&&u.createElement(q,{currentlyEditingIdP:f,refreshIdP:p,isOpen:C,onClose:function(){_(!1)}})):null};se.defaultProps={"data-componentid":"idp-certificates",isJWKSEnabled:!0,isPEMEnabled:!0};var de=n(62508),me=n(73432),fe=n(78537),pe=n(32659),ve=n(63334),he="idp-general-details-form",ye=function(e){var t,n,r,i,a=e.onSubmit,l=e.onUpdate,c=e.editingIDP,m=e.idpList,f=e.hideIdPLogoEditField,p=e.isReadOnly,v=e.isSaml,h=e.templateType,g=e.isSubmitting,E=e["data-testid"],I=(0,u.useMemo)((function(){return b.identityProviderConfig.editIdentityProvider.getCertificateOptionsForTemplate(null==c?void 0:c.templateId)}),[]),O=(0,s.$)().t,P=(0,d.v9)((function(e){return e.config})),A=function(e){var t,n,r,i,o;a({alias:null===(t=e.alias)||void 0===t?void 0:t.toString(),description:null===(n=e.description)||void 0===n?void 0:n.toString(),idpIssuerName:null===(r=e.idpIssuerName)||void 0===r?void 0:r.toString(),image:null===(i=e.image)||void 0===i?void 0:i.toString(),isPrimary:!!e.isPrimary,name:null===(o=e.name)||void 0===o?void 0:o.toString()})},T=function(){var e;return!(null==c||null===(e=c.federatedAuthenticators)||void 0===e||!e.authenticators.find((function(e){return(null==e?void 0:e.name)===pe.f.ORGANIZATION_SSO_AUTHENTICATOR_NAME})))},C=function(){var e;return!(null==c||null===(e=c.federatedAuthenticators)||void 0===e||!e.authenticators.find((function(e){return(null==e?void 0:e.name)===pe.f.IPROOV_AUTHENTICATOR_NAME})))};return u.createElement(u.Fragment,null,u.createElement(o.pJ,{padded:"very"},u.createElement(D.l0,{id:he,uncontrolledForm:!1,onSubmit:function(e){A(e)},"data-testid":E},u.createElement(D.gN.Input,{ariaLabel:"name",inputType:"resource_name",name:"name",label:O("authenticationProvider:forms.generalDetails.name.label"),required:!0,message:O("authenticationProvider:forms.generalDetails.name.validations.empty"),placeholder:c.name,validation:function(e){return function(e){if(!M.I.isValidResourceName(e))return O("authenticationProvider:templates.enterprise.validation.name");var t=!1;return(null==m?void 0:m.count)>0&&(null==m||m.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&c.name!==e&&(t=!0)}))),t?O("authenticationProvider:forms.generalDetails.name.validations.duplicate"):void 0}(e)},value:c.name,maxLength:50,minLength:oe.v.IDP_NAME_LENGTH.min,"data-testid":"".concat(E,"-idp-name"),hint:O("authenticationProvider:forms.generalDetails.name.hint"),readOnly:p}),((null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(t=b.identityProviderConfig.editIdentityProvider)||void 0===t?void 0:t.showIssuerSettings)||h===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER||h===S.bQ.IDP_TEMPLATE_IDS.GOOGLE)&&!T()&&!C()&&u.createElement(D.gN.Input,{ariaLabel:"idpIssuerName",inputType:"resource_name",name:"idpIssuerName",label:O("authenticationProvider:forms.generalDetails.issuer.label"),hint:O("authenticationProvider:forms.generalDetails.issuer.hint"),required:h===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER,placeholder:null!==(n=null==c?void 0:c.idpIssuerName)&&void 0!==n?n:O("authenticationProvider:forms.generalDetails.issuer.placeholder"),validation:function(e){return function(e){if(!M.I.resourceName(e))return O("authenticationProvider:templates.trustedTokenIssuer.forms.issuer.validation.notValid",{issuer:e})}(e)},value:c.idpIssuerName,maxLength:oe.v.IDP_NAME_LENGTH.max,minLength:oe.v.IDP_NAME_LENGTH.min,"data-testid":"".concat(E,"-issuer"),readOnly:p}),((null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(r=b.identityProviderConfig.editIdentityProvider)||void 0===r?void 0:r.showIssuerSettings)||h===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER)&&!T()&&!C()&&u.createElement(D.gN.Input,{ariaLabel:"alias",inputType:"resource_name",name:"alias",label:O("authenticationProvider:forms.generalDetails.alias.label"),required:!1,message:O("authenticationProvider:forms.generalDetails.name.validations.empty"),placeholder:O("authenticationProvider:forms.generalDetails.alias.placeholder"),hint:O("authenticationProvider:forms.generalDetails.alias.hint",{productName:P.ui.productName}),validation:function(e){return function(e){if(!M.I.resourceName(e))return O("authenticationProvider:templates.trustedTokenIssuer.forms.alias.validation.notValid",{alias:e})}(e)},value:c.alias,maxLength:oe.v.IDP_NAME_LENGTH.max,minLength:oe.v.IDP_NAME_LENGTH.min,"data-testid":"".concat(E,"-alias"),readOnly:p}),u.createElement(D.gN.Textarea,{name:"description",ariaLabel:"description",label:O("authenticationProvider:forms.generalDetails.description.label"),required:!1,placeholder:O("authenticationProvider:forms.generalDetails.description.placeholder"),value:c.description,"data-testid":"".concat(E,"-idp-description"),maxLength:oe.v.IDP_NAME_LENGTH.max,minLength:oe.v.IDP_NAME_LENGTH.min,hint:O("authenticationProvider:forms.generalDetails.description.hint"),readOnly:p}),!f&&u.createElement(D.gN.Input,{name:"image",ariaLabel:"image",inputType:"url",label:O("authenticationProvider:forms.generalDetails.image.label"),required:!1,placeholder:O("authenticationProvider:forms.generalDetails.image.placeholder"),value:c.image,"data-testid":"".concat(E,"-idp-image"),maxLength:oe.v.GENERAL_FORM_CONSTRAINTS.IMAGE_URL_MAX_LENGTH,minLength:oe.v.GENERAL_FORM_CONSTRAINTS.IMAGE_URL_MIN_LENGTH,hint:O("authenticationProvider:forms.generalDetails.image.hint"),readOnly:p}),!p&&u.createElement(D.gN.Button,{form:he,ariaLabel:"Update General Details",size:"small",buttonType:"primary_btn",label:O("common:update"),name:"submit",disabled:g,loading:g}))),(i=b.identityProviderConfig.generalDetailsForm.showCertificate,(void 0!==I&&!I.JWKS&&!I.PEM||T()||C())&&(i=!1),i&&u.createElement(u.Fragment,null,u.createElement(de.Z,{hidden:!0}),u.createElement(y.Z,null,u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(o.X6,{as:"h4"},"Certificates")))),u.createElement(se,{isJWKSEnabled:void 0!==I?I.JWKS:!v,templateType:h,isReadOnly:p,editingIDP:c,onUpdate:l,isPEMEnabled:void 0===I||I.PEM}))))};ye.defaultProps={"data-testid":"idp-edit-general-settings-form",enableWizardMode:!1,hideIdPLogoEditField:!1,triggerSubmit:!1};var ge=n(66112),be=n(10909),Ee=function(e){var t,n=e.config,r=e.onSubmit,i=e.isReadOnly,a=e.isSubmitting,l=e["data-testid"],c=(0,s.$)().t,m=(0,d.v9)((function(e){return e.config.ui.features}));return u.createElement(ge.Es,{onSubmit:function(e){return r(function(e){var t;return{homeRealmIdentifier:e.get("homeRealmIdentifier"),idpIssuerName:e.get("issuer"),isFederationHub:!(null===(t=e.get("federationHub"))||void 0===t||!t.includes("federationHub"))}}(e))}},u.createElement(y.Z,null,u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},u.createElement(ge.gN,{name:"federationHub",label:"",required:!1,requiredErrorMessage:c("authenticationProvider:forms.common.requiredErrorMessage"),value:null!=n&&n.isFederationHub?["federationHub"]:[],type:"checkbox",children:[{label:c("authenticationProvider:forms.advancedConfigs.federationHub.label"),value:"federationHub"}],toggle:!0,"data-testid":"".concat(l,"-federation-hub"),readOnly:i}),u.createElement(o.kW,null,c("authenticationProvider:forms.advancedConfigs.federationHub.hint")))),u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},u.createElement(ge.gN,{name:"homeRealmIdentifier",label:c("authenticationProvider:forms.advancedConfigs.homeRealmIdentifier.label"),required:!1,requiredErrorMessage:"",placeholder:c("authenticationProvider:forms.advancedConfigs.homeRealmIdentifier.placeholder"),type:"text",value:n.homeRealmIdentifier,"data-testid":"".concat(l,"-home-realm-identifier"),readOnly:i}),u.createElement(o.kW,null,c("authenticationProvider:forms.advancedConfigs.homeRealmIdentifier.hint")))),u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},u.createElement(R.di,{when:null==m||null===(t=m.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},u.createElement(be.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:a,disabled:a,"data-testid":"".concat(l,"-update-button")},c("common:update")))))))};Ee.defaultProps={"data-testid":"idp-edit-advance-settings"};var Se=n(11996),Ie=n(97419),Oe=n(67127),Pe=n(51835),Ae=n.n(Pe),Te=n(27975),Ce=n.n(Te),_e=n(55900),we=n.n(_e),Le=n(21555),Ne=n.n(Le),Re=n(3621),ke=n.n(Re),De=n(5062),Me=n.n(De),xe=n(96570),je=n.n(xe),Ue={};Ue.styleTagTransform=Me(),Ue.setAttributes=Ne(),Ue.insert=we().bind(null,"head"),Ue.domAPI=Ce(),Ue.insertStyleElement=ke();Ae()(je(),Ue);je()&&je().locals&&je().locals;function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){var r;return r=function(e,t){if("object"!=Ge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ge(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke="authenticator-settings-form",Be=function(e){var t,n,r,i=e.connectorSettings,a=e.metadata,l=e.initialValues,c=e.onSubmit,d=e.isSubmitting,m=e["data-testid"],f=(0,s.$)().t,p=Ve((0,u.useState)(void 0),2),v=p[0],h=p[1],y=Ve((0,u.useState)(void 0),2),g=y[0],b=y[1],E=Ve((0,u.useState)(void 0),2),S=E[0],I=E[1];(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==l?void 0:l.properties)){var e=null,t=null;l.properties.map((function(n){var r,i,o=null==a||null===(r=a.properties)||void 0===r?void 0:r.find((function(e){return e.key===n.key}));i=n.key===oe.v.GOOGLE_ONE_TAP_ENABLED?"true"===n.value:n.value,e=Fe(Fe({},e),{},He({},n.key,{meta:o,value:i})),t=Fe(Fe({},t),{},He({},n.key,i))})),h(e),b(t)}}),[l]),(0,u.useEffect)((function(){i&&I(i)}),[i]);var O=function(e){var t=[];try{t=e.trim().split("scope=")[1].split(" ")}catch(n){}return t},P=function(e,t){switch(e){case"STRING":return t?Ie.To.INPUT_PASSWORD:Ie.To.INPUT_TEXT;case"INTEGER":return Ie.To.INPUT_NUMBER;default:return Ie.To.INPUT_TEXT}};return u.createElement(N.Z,{container:!0,spacing:2,columns:16},u.createElement(N.Z,{sm:16,lg:12},u.createElement(Ie.F3,{uncontrolledForm:!1,id:"".concat(Ke,"-").concat(null==l?void 0:l.authenticatorId),onSubmit:function(e){return c(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Ve(r[n],2),a=i[0],o=i[1];void 0!==a&&t.push({key:a,value:o})}return Fe(Fe({},l),{},{properties:t})}(e))},initialValues:g,"data-testid":"".concat(m,"-dynamic-form")},function(){var e;if(S)return(0,Ie.DE)(null==S||null===(e=S.edit)||void 0===e||null===(e=e.tabs)||void 0===e?void 0:e.settings);if(v){var t=[];for(var n in v){var r,i,a,o,l,c;if("AdditionalQueryParameters"!==n){var s=v[n];t.push({displayOrder:null==s||null===(r=s.meta)||void 0===r?void 0:r.displayOrder,element:u.createElement(Ie.e9.Input,{key:n,name:n,label:null==s||null===(i=s.meta)||void 0===i?void 0:i.displayName,inputType:P(null==s||null===(a=s.meta)||void 0===a?void 0:a.type,null==s||null===(o=s.meta)||void 0===o?void 0:o.isConfidential),required:null==s||null===(l=s.meta)||void 0===l?void 0:l.isMandatory,placeholder:null==s||null===(c=s.meta)||void 0===c?void 0:c.description,initialValue:null==s?void 0:s.value,className:"authenticator-settings-dynamic-input-field"})})}}return t.sort((function(e,t){return e.displayOrder-t.displayOrder})).map((function(e){return e.element}))}}(),(null==v||null===(t=v.AdditionalQueryParameters)||void 0===t?void 0:t.value)&&!(0,Oe.Z)(O(null==v||null===(n=v.AdditionalQueryParameters)||void 0===n?void 0:n.value))&&u.createElement(o.hj,{heading:f("authenticationProvider:forms.authenticatorSettings.google.scopes.heading")},u.createElement("div",{className:"authenticator-dynamic-properties"},null===(r=O(null==v?void 0:v.AdditionalQueryParameters.value))||void 0===r?void 0:r.map((function(e,t){var n=function(e){var t,n=null==S||null===(t=S.edit)||void 0===t||null===(t=t.tabs)||void 0===t||null===(t=t.settings)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.find((function(t){return(null==t?void 0:t.displayName)===e}));if(n)return{description:null==n?void 0:n.description,displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},null==n?void 0:n.displayName),icon:null==n?void 0:n.icon}}(e);return u.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},u.createElement("div",{className:"authenticator-dynamic-property-name-container"},u.createElement(o.dn,{square:!0,inline:!0,transparent:!0,icon:u.createElement(j.Z,{name:null==n?void 0:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),u.createElement("div",{"data-testid":"".concat(e,"-name")},null==n?void 0:n.displayName)),u.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},null==n?void 0:n.description))}))),u.createElement(o.kW,{compact:!0},u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.google.scopes.hint"},"Scopes provide a way for connected apps to access data from Google. Click ",u.createElement("a",{href:"https://developers.google.com/identity/protocols/oauth2/openid-connect#scope-param",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),u.createElement(Ie.e9.Button,{index:1,form:"".concat(Ke,"-").concat(null==l?void 0:l.authenticatorId),ariaLabel:"Update General Details",size:"small",buttonType:"primary_btn",label:f("common:update"),name:"submit",disabled:d}))))};Be.defaultProps={"data-testid":"authenticator-settings-form",enableSubmitButton:!0};var ze=n(12595);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){var r;return r=function(e,t){if("object"!=Qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Qe(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et="apple-authenticator-form",tt=function(e){var t,n,r,i,a,l,c,d,m,f,p,v,h,y,g,b,E,S,I,O,P,A,T,C,_=e.metadata,w=e.mode,L=e.initialValues,N=e.onSubmit,R=e.readOnly,k=e.isSubmitting,M=e["data-componentid"],x=(0,s.$)().t,U=Xe((0,u.useState)(void 0),2),G=U[0],Z=U[1],F=Xe((0,u.useState)(void 0),2),H=F[0],V=F[1];(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==L?void 0:L.properties)){var e=null,t=null;L.properties.map((function(n){var r=null==_?void 0:_.properties.find((function(e){return e.key===n.key}));e=We(We({},e),{},$e({},n.key,{meta:r,value:n.value})),t=We(We({},t),{},$e({},n.key,n.value))})),Z(e),V(t)}}),[L]);return u.createElement(D.l0,{id:et,uncontrolledForm:!1,onSubmit:function(e){return N(function(e){var t,n=[],r={},i=!1;null==L||null===(t=L.properties)||void 0===t||t.map((function(e){r[e.key]=e.value}));for(var a=0,o=Object.entries(e);a<o.length;a++){var l=Xe(o[a],2),c=l[0],u=l[1];void 0!==c&&(n.push({key:c,value:u}),!i&&-1!==pe.f.APPLE_AUTHENTICATOR_SECRET_REGENERATIVE_FIELDS.indexOf(c)&&r[c]&&u!==r[c]&&(i=!0))}return!0===i&&n.push({key:pe.f.APPLE_SECRET_REGENERATE_ATTRIBUTE_KEY,value:"true"}),We(We({},L),{},{properties:n})}(e))},initialValues:H},u.createElement(D.gN.Input,{ariaLabel:"Apple authenticator client ID",inputType:"default",name:"ClientId",label:x("authenticationProvider:forms.authenticatorSettings.apple.clientId.label"),placeholder:x("authenticationProvider:forms.authenticatorSettings.apple.clientId.placeholder"),hint:x("authenticationProvider:forms.authenticatorSettings.apple.clientId.hint"),required:null==G||null===(t=G.ClientId)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.isMandatory,readOnly:R||w!==ze.Pk.CREATE&&(null==G||null===(n=G.ClientId)||void 0===n||null===(n=n.meta)||void 0===n?void 0:n.readOnly),value:null==G||null===(r=G.ClientId)||void 0===r?void 0:r.value,maxLength:null==G||null===(i=G.ClientId)||void 0===i||null===(i=i.meta)||void 0===i?void 0:i.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(M,"-client-id")}),u.createElement(D.gN.Input,{ariaLabel:"Apple authenticator team ID",inputType:"default",name:"TeamId",label:x("authenticationProvider:forms.authenticatorSettings.apple.teamId.label"),placeholder:x("authenticationProvider:forms.authenticatorSettings.apple.teamId.placeholder"),hint:x("authenticationProvider:forms.authenticatorSettings.apple.teamId.hint"),required:null==G||null===(a=G.TeamId)||void 0===a||null===(a=a.meta)||void 0===a?void 0:a.isMandatory,readOnly:R||w!==ze.Pk.CREATE&&(null==G||null===(l=G.TeamId)||void 0===l||null===(l=l.meta)||void 0===l?void 0:l.readOnly),value:null==G||null===(c=G.TeamId)||void 0===c?void 0:c.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.TEAM_ID_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.TEAM_ID_MIN_LENGTH,width:16,"data-testid":"".concat(M,"-team-id")}),u.createElement(D.gN.Input,{ariaLabel:"Apple authenticator key ID",inputType:"default",name:"KeyId",label:x("authenticationProvider:forms.authenticatorSettings.apple.keyId.label"),placeholder:x("authenticationProvider:forms.authenticatorSettings.apple.keyId.placeholder"),hint:x("authenticationProvider:forms.authenticatorSettings.apple.keyId.hint"),required:null==G||null===(d=G.KeyId)||void 0===d||null===(d=d.meta)||void 0===d?void 0:d.isMandatory,readOnly:R||w!==ze.Pk.CREATE&&(null==G||null===(m=G.KeyId)||void 0===m||null===(m=m.meta)||void 0===m?void 0:m.readOnly),value:null==G||null===(f=G.KeyId)||void 0===f?void 0:f.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.KEY_ID_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.KEY_ID_MIN_LENGTH,width:16,"data-testid":"".concat(M,"-key-id")}),u.createElement(D.gN.Input,{ariaLabel:"Apple authenticator private key",inputType:"password",type:"password",name:"PrivateKey",label:x("authenticationProvider:forms.authenticatorSettings.apple.privateKey.label"),placeholder:x("authenticationProvider:forms.authenticatorSettings.apple.privateKey.placeholder"),hint:x("authenticationProvider:forms.authenticatorSettings.apple.privateKey.hint"),required:null==G||null===(p=G.PrivateKey)||void 0===p||null===(p=p.meta)||void 0===p?void 0:p.isMandatory,readOnly:R||w!==ze.Pk.CREATE&&(null==G||null===(v=G.PrivateKey)||void 0===v||null===(v=v.meta)||void 0===v?void 0:v.readOnly),value:null==G||null===(h=G.PrivateKey)||void 0===h?void 0:h.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.PRIVATE_KEY_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.PRIVATE_KEY_MIN_LENGTH,width:16,"data-testid":"".concat(M,"-private-key")}),u.createElement(D.gN.Input,{ariaLabel:"Client secret validity period",inputType:"default",name:"SecretValidityPeriod",label:x("authenticationProvider:forms.authenticatorSettings.apple.secretValidityPeriod.label"),placeholder:x("authenticationProvider:forms.authenticatorSettings.apple.secretValidityPeriod.placeholder"),hint:x("authenticationProvider:forms.authenticatorSettings.apple.secretValidityPeriod.hint"),required:null==G||null===(y=G.SecretValidityPeriod)||void 0===y||null===(y=y.meta)||void 0===y?void 0:y.isMandatory,readOnly:R||w!==ze.Pk.CREATE&&(null==G||null===(g=G.SecretValidityPeriod)||void 0===g||null===(g=g.meta)||void 0===g?void 0:g.readOnly),value:null==G||null===(b=G.SecretValidityPeriod)||void 0===b?void 0:b.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.SECRET_VALIDITY_PERIOD_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.SECRET_VALIDITY_PERIOD_MIN_LENGTH,width:16,"data-testid":"".concat(M,"-secret-validity-period")}),u.createElement(D.gN.Input,{ariaLabel:"Apple authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:x("authenticationProvider:forms.authenticatorSettings.apple.callbackUrl.label"),placeholder:x("authenticationProvider:forms.authenticatorSettings.apple.callbackUrl.placeholder"),hint:x("authenticationProvider:forms.authenticatorSettings.apple.callbackUrl.hint"),required:null==G||null===(E=G.callbackUrl)||void 0===E||null===(E=E.meta)||void 0===E?void 0:E.isMandatory,value:null==G||null===(S=G.callbackUrl)||void 0===S?void 0:S.value,readOnly:R||w!==ze.Pk.CREATE&&(null==G||null===(I=G.callbackUrl)||void 0===I||null===(I=I.meta)||void 0===I?void 0:I.readOnly),maxLength:null==G||null===(O=G.callbackUrl)||void 0===O||null===(O=O.meta)||void 0===O?void 0:O.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(M,"-authorized-redirect-url")}),u.createElement(D.gN.Input,{ariaLabel:"Additional query parameters",inputType:"default",name:"AdditionalQueryParameters",label:x("authenticationProvider:forms.authenticatorSettings.apple.additionalQueryParameters.label"),placeholder:x("authenticationProvider:forms.authenticatorSettings.apple.additionalQueryParameters.placeholder"),hint:x("authenticationProvider:forms.authenticatorSettings.apple.additionalQueryParameters.hint"),required:null==G||null===(P=G.AdditionalQueryParams)||void 0===P||null===(P=P.meta)||void 0===P?void 0:P.isMandatory,readOnly:R||w!==ze.Pk.CREATE&&(null==G||null===(A=G.AdditionalQueryParams)||void 0===A||null===(A=A.meta)||void 0===A?void 0:A.readOnly),value:null==G||null===(T=G.AdditionalQueryParams)||void 0===T?void 0:T.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MIN_LENGTH,width:16,"data-testid":"".concat(M,"-additional-query-parameters")}),(null==G||null===(C=G.Scopes)||void 0===C?void 0:C.value)&&G.Scopes.value.split&&G.Scopes.value.split(",").length>0&&u.createElement(o.hj,{heading:x("authenticationProvider:forms.authenticatorSettings.apple.scopes.heading")},u.createElement("div",{className:"authenticator-dynamic-properties"},G.Scopes.value.split(",").map((function(e,t){var n=function(e){return e===pe.f.APPLE_SCOPE_DICTIONARY.EMAIL?{description:x("authenticationProvider:forms.authenticatorSettings.apple.scopes.list.email.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.APPLE_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===pe.f.APPLE_SCOPE_DICTIONARY.NAME?{description:x("authenticationProvider:forms.authenticatorSettings.apple.scopes.list.name.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.APPLE_SCOPE_DICTIONARY.NAME),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return u.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},u.createElement("div",{className:"authenticator-dynamic-property-name-container"},u.createElement(o.dn,{square:!0,inline:!0,transparent:!0,icon:u.createElement(j.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),u.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),u.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),u.createElement(o.kW,{compact:!0},u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.apple.scopes.hint"},"The type of access provided for the connected apps to access data from Apple. Click ",u.createElement("a",{href:"https://developer.apple.com/documentation/sign_in_with_apple/clientconfigi/3230955-scope",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),u.createElement(D.gN.Button,{form:et,size:"small",buttonType:"primary_btn",ariaLabel:"Apple authenticator update button",name:"update-button","data-testid":"".concat(M,"-submit-button"),disabled:k,loading:k,label:x("common:update"),hidden:R}))};tt.defaultProps={"data-componentid":"apple-authenticator-form",enableSubmitButton:!0};var nt=n(80155),rt=n(89158),it=n(90960),at=function(e){var t=e["data-componentid"],n=e.onCertificateChange,r=function(){n("")};return u.createElement(y.Z,{columns:2},u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,null,u.createElement(o.Db,{fill:!0,relaxed:!1,className:"certificate",loadingStateOptions:{count:2,imageType:"circular"},readOnly:!0},u.createElement(o.zA,{key:1,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-componentid":"".concat(t,"-delete-cert-button"),icon:"trash alternate",onClick:function(){return r()},popupText:"Delete",type:"button"}],actionsFloated:"right",avatar:u.createElement(j.Z,{name:"key",size:"large",className:"mr-3"}),itemHeader:"Private Key",itemDescription:"PKCS12 private key file"})))))};function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}at.defaultProps={"data-componentid":"google-private-key-file"};var ct=new o.Id,ut=function(e,t){return t.map((function(t){return{key:e,text:"RequestMethod"===e?st(t):t,value:t}}))},st=function(e){switch(e){case"redirect":return"HTTP Redirect";case"post":return"HTTP Post";case"as_request":return"As Per Request";default:return e}},dt=function(e){return e.CHECKBOX="CheckBox",e.TEXT="Text",e.TABLE="Table",e.CONFIDENTIAL="Confidential",e.URL="URL",e.SCOPES="SCOPES",e.QUERY_PARAMS="QueryParameters",e.DROP_DOWN="DropDown",e.RADIO="Radio",e.COPY_INPUT="CopyInput",e.FILE_PICKER="FilePicker",e}({}),mt=function(e){return e.BOOLEAN="BOOLEAN",e.FIELD_COMPONENT_KEYWORD_URL="URL",e.FIELD_COMPONENT_KEYWORD_QUERY_PARAMETER="QUERYPARAM",e.FIELD_COMPONENT_SCOPES="Scopes",e.QUERY_PARAMETERS_KEY="commonAuthQueryParams",e.SCOPE_KEY="scopes",e.RADIO="RADIO",e}({}),ft=function(e,t){var n,r,i;return(null==e?void 0:e.key)===oe.v.USER_ID_IN_CLAIMS?dt.RADIO:(null==e||null===(n=e.type)||void 0===n?void 0:n.toUpperCase())===mt.BOOLEAN?dt.CHECKBOX:null!=e&&e.isConfidential?dt.CONFIDENTIAL:(null==e?void 0:e.key)===mt.SCOPE_KEY?dt.TABLE:(null==e?void 0:e.key)===mt.FIELD_COMPONENT_SCOPES?dt.SCOPES:null!=e&&e.key.toUpperCase().includes(mt.FIELD_COMPONENT_KEYWORD_URL)?"callbackUrl"===(null==e?void 0:e.key)&&t!==ze.Pk.CREATE?dt.COPY_INPUT:dt.URL:null!=e&&e.key.toUpperCase().includes(mt.FIELD_COMPONENT_KEYWORD_QUERY_PARAMETER)?dt.QUERY_PARAMS:(null==e||null===(r=e.options)||void 0===r?void 0:r.length)>0?dt.DROP_DOWN:(null===(i=e.type)||void 0===i?void 0:i.toUpperCase())===mt.RADIO?dt.RADIO:(null==e?void 0:e.key)===oe.v.GOOGLE_PRIVATE_KEY?dt.FILE_PICKER:dt.TEXT},pt=function(e,t,n,r,i,a){switch(ft(t,n)){case dt.CHECKBOX:return r?function(e,t,n,r){var i;return u.createElement(u.Fragment,null,u.createElement(ge.gN,{name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"checkbox",required:!1,value:"true"===(null==e||null===(i=e.value)||void 0===i?void 0:i.toString())?[null==e?void 0:e.key]:[],requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),children:[{label:null==t?void 0:t.displayName,value:e?e.key:null==t?void 0:t.key}],listen:function(e){n(t.key,e)},disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(r,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,r,i):function(e,t,n){return u.createElement(u.Fragment,null,u.createElement(ge.gN,{name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"checkbox",required:!1,value:"true"==(null==e?void 0:e.value)?[null==e?void 0:e.key]:[],requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),children:[{label:null==t?void 0:t.displayName,value:e?e.key:null==t?void 0:t.key}],disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case dt.RADIO:return r?(null==t?void 0:t.key)===oe.v.USER_ID_IN_CLAIMS?function(e,t,n,r){return u.createElement(u.Fragment,null,u.createElement(ge.gN,{label:null==t?void 0:t.displayName,name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"radio",required:null==t?void 0:t.isMandatory,value:null==e?void 0:e.value,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),children:[{label:"Use NameID as the User Identifier",value:"true"},{label:"User Identifier found among claims",value:"false"}],listen:function(e){n(null==t?void 0:t.key,e)},disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(r,"-").concat(null==t?void 0:t.key),"data-componentid":"".concat(r,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,r,i):function(e,t,n,r){var i;return u.createElement(u.Fragment,null,u.createElement(ge.gN,{label:null==t?void 0:t.displayName,name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"radio",required:null==t?void 0:t.isMandatory,value:null==t?void 0:t.defaultValue,default:null==t?void 0:t.defaultValue,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),children:null==t||null===(i=t.subProperties)||void 0===i?void 0:i.map((function(e){return{label:e.displayName,value:e.defaultValue}})),listen:function(e){n(null==t?void 0:t.key,e)},disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(r,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(0,t,r,i):function(e,t,n){var r;return u.createElement(u.Fragment,null,u.createElement(ge.gN,{label:null==t?void 0:t.displayName,name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"radio",required:null==t?void 0:t.isMandatory,default:null==t?void 0:t.defaultValue,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),children:null==t||null===(r=t.subProperties)||void 0===r?void 0:r.map((function(e){return{label:e.displayName,value:e.defaultValue}})),disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(0,t,i);case dt.CONFIDENTIAL:return function(e,t,n){return u.createElement(u.Fragment,null,u.createElement(ge.gN,{showPassword:"Show Secret",hidePassword:"Hide Secret",label:null==t?void 0:t.displayName,name:null==t?void 0:t.key,placeholder:null==t?void 0:t.defaultValue,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),value:null==e?void 0:e.value,type:"password",disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,validation:function(e,n){null!=t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))},"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case dt.URL:return function(e,t,n){return u.createElement(u.Fragment,null,u.createElement(ge.gN,{name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),placeholder:null==t?void 0:t.defaultValue,validation:function(e,n){M.I.url(e)||(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("authenticationProvider:forms.common.invalidURLErrorMessage"))),null!==b.commonConfig&&void 0!==b.commonConfig&&b.commonConfig.blockLoopBackCalls&&k.URLUtils.isLoopBackCall(e)&&("OAuth2AuthzEPUrl"===(null==t?void 0:t.key)||"OAuth2TokenEPUrl"===(null==t?void 0:t.key)||"UserInfoUrl"===(null==t?void 0:t.key))&&(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("idp:forms.common.internetResolvableErrorMessage")))},type:"text",value:null==e?void 0:e.value,key:null==t?void 0:t.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case dt.COPY_INPUT:return function(e,t,n){return u.createElement(u.Fragment,null,u.createElement("div",{className:"field ".concat(null!=t&&t.isMandatory?"required":"")},u.createElement("label",null,null==t?void 0:t.displayName)),u.createElement(o.OR,{key:null==t?void 0:t.key,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),value:null==e?void 0:e.value}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case dt.SCOPES:return function(e,t,n){return u.createElement(u.Fragment,null,u.createElement(ge.gN,{name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),type:"scopes",value:null==e?void 0:e.value,key:null==e?void 0:e.key,defaultValue:null==t?void 0:t.defaultValue,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),validation:function(e,n){M.I.scopes(e)||(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("authenticationProvider:forms.common.invalidScopesErrorMessage"))),null!=t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))}}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case dt.QUERY_PARAMS:return function(e,t,n){return u.createElement(u.Fragment,null,u.createElement(ge.gN,{name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),validation:function(e,t){M.I.url("https://www.sample.com?"+e)||(t.isValid=!1,t.errorMessages.push(it.I18n.instance.t("authenticationProvider:forms.common.invalidQueryParamErrorMessage")))},type:"queryParams",value:null==e?void 0:e.value,key:null==t?void 0:t.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case dt.DROP_DOWN:return function(e,t,n){return u.createElement(u.Fragment,null,u.createElement(ge.gN,{name:(null==e?void 0:e.key)||(null==t?void 0:t.key),label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),type:"dropdown",value:(null==e?void 0:e.value)||(null==t?void 0:t.key),key:(null==e?void 0:e.key)||(null==t?void 0:t.key),children:ut(null==e?void 0:e.key,null==t?void 0:t.options),disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case dt.TABLE:return function(e,t,n){return u.createElement(u.Fragment,null,u.createElement("div",{className:"field read-only"},u.createElement("div",null,u.createElement("div",{className:"field"},u.createElement("label",null,null==t?void 0:t.displayName)))),u.createElement(ge.gN,{hidden:!0,name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),placeholder:null==t?void 0:t.defaultValue,type:"text",value:null==e?void 0:e.value,key:null==e?void 0:e.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),validation:function(e,n){null!=t&&t.regex&&!RegExp(t.regex).test(e)&&(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("users:forms.validation.formatError",{field:null==t?void 0:t.displayName}))),null!=t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))}}),u.createElement(y.Z,null,null==e?void 0:e.value.split(" ").map((function(e,r){return u.createElement(y.Z.Row,{columns:3,key:r},u.createElement(y.Z.Column,{mobile:1,tablet:1,computer:1},u.createElement(o.dn,{icon:t.properties[e].icon,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"top",spaced:"left"})),u.createElement(y.Z.Column,{mobile:2,tablet:2,computer:2},u.createElement("div",{"data-testid":"".concat(n,"-authorize-label"),className:"scope-name"},e)),u.createElement(y.Z.Column,{mobile:13,tablet:13,computer:13},u.createElement("div",{"data-testid":"".concat(n,"-authorize-label"),className:"scope-name"},t.properties[e].description)))}))),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case dt.FILE_PICKER:return function(e,t,n,r){var i=ot((0,u.useState)(null==e?void 0:e.value),2),a=i[0],l=i[1];return u.createElement(u.Fragment,null,""===a||0===(null==a?void 0:a.length)||void 0===(null==e?void 0:e.value)?u.createElement(u.Fragment,null,u.createElement(ge.gN,{name:(null==e?void 0:e.key)||(null==t?void 0:t.key),label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),type:"filePicker",value:a,key:null==t?void 0:t.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),fileStrategy:ct,uploadButtonText:"Upload certificate File",dropzoneText:"Drag and drop a certificate file here."}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description)):u.createElement(u.Fragment,null,u.createElement("label",null,null==t?void 0:t.displayName),u.createElement(at,{onCertificateChange:function(e){l(e),r(a)}}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description)))}(e,t,i,a);default:return function(e,t,n){return u.createElement(u.Fragment,null,u.createElement(ge.gN,{name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("authenticationProvider:forms.common.requiredErrorMessage"),placeholder:null==t?void 0:t.defaultValue,type:"text",value:null==e?void 0:e.value,key:null==e?void 0:e.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),validation:function(e,n){null!=t&&t.regex&&!RegExp(t.regex).test(e)&&(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("users:forms.validation.formatError",{field:null==t?void 0:t.displayName}))),null!=t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))}}),(null==t?void 0:t.description)&&u.createElement(o.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i)}};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){var r;return r=function(e,t){if("object"!=vt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==vt(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||St(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||St(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){if(e){if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ot=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,i=e.onSubmit,a=e.triggerSubmit,o=e.enableSubmitButton,l=e.showCustomProperties,c=e.readOnly,m=e.isSubmitting,f=e["data-testid"],p=(0,s.$)().t,v=(0,d.v9)((function(e){return e.config.ui.features})),h=Et((0,u.useState)(void 0),2),g=h[0],b=h[1],E=Et((0,u.useState)(void 0),2),S=E[0],I=E[1],O=Et((0,u.useState)(void 0),2),P=O[0],A=O[1];(0,u.useEffect)((function(){var e;null==g||null===(e=g.properties)||void 0===e||e.map((function(e){(null==e?void 0:e.key)===oe.v.GOOGLE_PRIVATE_KEY&&A(null==e?void 0:e.value)}))}),[g]);var T,C,_=function(e){var n,i=[],a=l?e.get("customProperties"):S;null==e||e.forEach((function(n,r){var a=(0,rt.O)(r,null==t?void 0:t.properties),o=!(0,Oe.Z)(r)&&!(0,nt.Z)(n)&&function(e,t,n){switch(null==n?void 0:n.toUpperCase()){case mt.BOOLEAN:return t===oe.v.USER_ID_IN_CLAIMS?e:null==e?void 0:e.includes(t);case mt.RADIO:return null==e?void 0:e.includes(t);default:return e}}(n,r,null==a?void 0:a.type).toString();(0,Oe.Z)(o)||"customProperties"===r||i.push({key:r,value:o}),(e.has(oe.v.GOOGLE_PRIVATE_KEY)||null!=i&&i.find((function(e){return(null==e?void 0:e.key)===oe.v.GOOGLE_PRIVATE_KEY}))||null==i||!i.find((function(e){return(null==e?void 0:e.key)===oe.v.GOOGLE_PRIVATE_KEY&&void 0!==(null==e?void 0:e.value)})))&&(null!=i&&i.find((function(e){return(null==e?void 0:e.key)===oe.v.GOOGLE_PRIVATE_KEY}))||void 0===P)||i.push({key:oe.v.GOOGLE_PRIVATE_KEY,value:P})}));var o=(0,Oe.Z)(a)?[]:null==a||null===(n=a.toString())||void 0===n||null===(n=n.split(", "))||void 0===n?void 0:n.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}}));return(null==o?void 0:o.length)>0&&i.push.apply(i,bt(o)),null!=r&&r.properties?yt(yt({},r),{},{properties:[].concat(i)}):yt(yt({},t),{},{properties:[].concat(i)})},w=function(e,t,r,i,a,o){return r?u.createElement(y.Z.Row,{columns:2,key:null==t?void 0:t.displayOrder},u.createElement(y.Z.Column,{mobile:2,tablet:2,computer:1}),u.createElement(y.Z.Column,{mobile:14,tablet:14,computer:7},pt(e,yt(yt({},t),{},{readOnly:n!==ze.Pk.CREATE&&c}),n,a,i))):(null==t?void 0:t.key)===oe.v.GOOGLE_PRIVATE_KEY?u.createElement(y.Z.Row,{key:null==t?void 0:t.displayOrder},u.createElement(y.Z.Column,{computer:16},pt(e,yt(yt({},t),{},{readOnly:n!==ze.Pk.CREATE&&c}),n,a,i,o))):u.createElement(y.Z.Row,{columns:1,key:null==t?void 0:t.displayOrder},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},pt(e,yt(yt({},t),{},{readOnly:n!==ze.Pk.CREATE&&c}),n,a,i)))},L=function(e,n){if("IsLogoutReqSigned"===e||"ISAuthnReqSigned"===e){var r=function(e){var n,r=null==t||null===(n=t.properties)||void 0===n?void 0:n.find((function(t){return t.key===e}));r&&(r.isDisabled=!1)},i=function(e){var n,r=null==t||null===(n=t.properties)||void 0===n?void 0:n.find((function(t){return t.key===e}));r&&(r.isDisabled=!0)},a=function(e){return e&&Array.isArray(e)&&e.length>0||"string"==typeof e&&"true"==e},o=n.get("IsLogoutReqSigned"),l=n.get("ISAuthnReqSigned");a(o)||a(l)?(r("SignatureAlgorithm"),r("DigestAlgorithm")):(i("SignatureAlgorithm"),i("DigestAlgorithm"))}},N=function(e,t){var n,r;L(e,t),g&&b(yt(yt({},g),{},{properties:null!=g&&g.properties?null==g||null===(n=g.properties)||void 0===n?void 0:n.map((function(n){var r;return n.key===e?{key:e,value:null==t||null===(r=t.get(e))||void 0===r||null===(r=r.includes(e))||void 0===r?void 0:r.toString()}:n})):[{key:e,value:null==t||null===(r=t.get(e))||void 0===r||null===(r=r.includes(e))||void 0===r?void 0:r.toString()}]}))},k=function(e){A(e)};return(0,u.useEffect)((function(){var e;b(r);var t=(null==r||null===(e=r.properties)||void 0===e?void 0:e.reduce((function(e,t){var n=t.key,r=t.value;return e.set(n,r)}),new Map))||new Map;L("IsLogoutReqSigned",t),L("ISAuthnReqSigned",t)}),[]),(0,u.useEffect)((function(){var e;if(g){var n=[];null==g||null===(e=g.properties)||void 0===e||e.forEach((function(e){var r;(0,Oe.Z)(e.key)||(0,Oe.Z)(e.value)||null!=t&&null!==(r=t.properties)&&void 0!==r&&r.find((function(t){return t.key===e.key}))||n.push(e.key+"="+e.value)})),I(n.join(", "))}}),[g]),u.createElement(ge.Es,{onSubmit:function(e){i(_(e))},submitState:a,"data-testid":"".concat(f,"-form")},u.createElement(y.Z,{padded:!0},function e(t,i){var a=[];return null==t||t.forEach((function(t){if(!(0,Oe.Z)(null==t?void 0:t.displayName)){var o,l,c=null==g||null===(o=g.properties)||void 0===o?void 0:o.find((function(e){return e.key===t.key}));if((null==(p=t)||null===(v=p.subProperties)||void 0===v?void 0:v.length)>0&&ft(p,n)===dt.CHECKBOX)l=function(e){var t;return(null==e||null===(t=e.subProperties)||void 0===t?void 0:t.length)>0&&ft(e,n)===dt.RADIO}(t)?u.createElement(u.Fragment,{key:null==t?void 0:t.key},w(c,t,i,"".concat(f,"-form"),N)):u.createElement(u.Fragment,{key:null==t?void 0:t.key},w(c,t,i,"".concat(f,"-form"),N),e(null==t?void 0:t.subProperties,!1));else if((null==t?void 0:t.key)!==mt.FIELD_COMPONENT_SCOPES||null!=r&&null!==(m=r.properties)&&void 0!==m&&null!==(m=m.find((function(e){return e.key===mt.QUERY_PARAMETERS_KEY})))&&void 0!==m&&null!==(m=m.value)&&void 0!==m&&m.toLowerCase().includes("scope=")||!(0,Oe.Z)(null==r||null===(d=r.properties)||void 0===d||null===(d=d.find((function(e){return e.key===mt.FIELD_COMPONENT_SCOPES})))||void 0===d?void 0:d.value))l=w(c,t,i,"".concat(f,"-form"),N,k);else{var s={key:mt.FIELD_COMPONENT_SCOPES,value:t.defaultValue};l=w(s,t,i,"".concat(f,"-form"),N)}a.push(l)}var d,m,p,v})),a.sort((function(e,t){return Number(e.key)-Number(t.key)}))}(null==t?void 0:t.properties,!1),l&&S&&u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},u.createElement(ge.gN,{name:"customProperties",label:p("authenticationProvider:forms.common.customProperties"),required:!1,requiredErrorMessage:p("authenticationProvider:forms.common.requiredErrorMessage"),type:"queryParams",value:S,"data-testid":"".concat(f,"-","customProperties"),readOnly:c}))),o&&(T="Update",u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},u.createElement(R.di,{when:null==v||null===(C=v.identityProviders)||void 0===C||null===(C=C.scopes)||void 0===C?void 0:C.update},u.createElement(be.Z,{primary:!0,type:"submit",size:"small",className:"form-button",isSubmitting:m,loading:m,"data-testid":"".concat(f,"-submit-button")},T)))))))};Ot.defaultProps={enableSubmitButton:!0};var Pt=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,i=e.onSubmit,a=e.triggerSubmit,o=e.enableSubmitButton,l=e.showCustomProperties,c=e.readOnly,s=e["data-testid"];return u.createElement(Ot,{mode:n,onSubmit:i,initialValues:r,enableSubmitButton:o,triggerSubmit:a,metadata:t,"data-testid":s,showCustomProperties:l,readOnly:c})};Pt.defaultProps={enableSubmitButton:!0};var At=n(46487);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){var r;return r=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Tt(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt="email-otp-authenticator-form",kt=function(e){var t=e.metadata,n=e.initialValues,r=e.onSubmit,i=e.readOnly,a=e.isSubmitting,l=e["data-testid"],c=(0,s.$)().t,d=Lt((0,u.useState)(void 0),2)[1],f=Lt((0,u.useState)(void 0),2),p=f[0],v=f[1],h=Lt((0,u.useState)(),2),y=h[0],g=h[1];(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==n?void 0:n.properties)){var e=null,r=null;n.properties.map((function(n){var i=null==t?void 0:t.properties.find((function(e){return e.key===n.key})),a=n.name.replace(/\./g,"_");if(a===pe.f.AUTHENTICATOR_INIT_VALUES_EMAIL_OTP_EXPIRY_TIME_KEY){var o=Math.round(parseInt(n.value,10)/60);r=_t(_t({},r),{},wt({},a,o)),e=_t(_t({},e),{},wt({},a,{meta:i,value:o.toString()}))}else e=_t(_t({},e),{},wt({},a,{meta:i,value:"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value})),r=_t(_t({},r),{},wt({},a,"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value))})),g(r.EmailOTP_UseAlphanumericChars),d(e),v(r)}}),[n]);return u.createElement(D.l0,{id:Rt,uncontrolledForm:!1,onSubmit:function(e){r(function(e){for(var t=[],r=0,i=Object.entries(e);r<i.length;r++){var a=Lt(i[r],2),o=a[0],l=a[1];if(void 0!==o){var c=o.replace(/_/g,".");if(o===pe.f.AUTHENTICATOR_INIT_VALUES_EMAIL_OTP_EXPIRY_TIME_KEY){var u=60*l;t.push({name:c,value:u.toString()});continue}t.push({name:c,value:(0,At.Z)(l)?l.toString():l})}}return _t(_t({},n),{},{properties:t})}(e))},initialValues:p,validate:function(e){var t={EmailOTP_ExpiryTime:void 0,EmailOTP_OTPLength:void 0,EmailOTP_UseAlphanumericChars:void 0};return e.EmailOTP_ExpiryTime?M.I.isInteger(e.EmailOTP_ExpiryTime)?(e.EmailOTP_ExpiryTime<pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||e.EmailOTP_ExpiryTime>pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(t.EmailOTP_ExpiryTime=c("authenticationProvider:forms.authenticatorSettings.emailOTP.expiryTime.validations.range")):t.EmailOTP_ExpiryTime=c("authenticationProvider:forms.authenticatorSettings.emailOTP.expiryTime.validations.invalid"):t.EmailOTP_ExpiryTime=c("authenticationProvider:forms.authenticatorSettings.emailOTP.expiryTime.validations.required"),e.EmailOTP_OTPLength?M.I.isInteger(e.EmailOTP_OTPLength)?(parseInt(e.EmailOTP_OTPLength,10)<pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_VALUE||parseInt(e.EmailOTP_OTPLength,10)>pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_VALUE)&&(t.EmailOTP_OTPLength=c("authenticationProvider:forms"+".authenticatorSettings.emailOTP.tokenLength.validations.range.".concat(y?"characters":"digits"))):t.EmailOTP_OTPLength=c("authenticationProvider:forms.authenticatorSettings.emailOTP.tokenLength.validations.invalid"):t.EmailOTP_OTPLength=c("authenticationProvider:forms.authenticatorSettings.emailOTP.tokenLength.validations.required"),t}},u.createElement(D.gN.Input,{ariaLabel:"Email OTP expiry time",inputType:"number",name:"EmailOTP_ExpiryTime",label:c("authenticationProvider:forms.authenticatorSettings.emailOTP.expiryTime.label"),labelPosition:"right",placeholder:c("authenticationProvider:forms.authenticatorSettings.emailOTP.expiryTime.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.emailOTP.expiryTime.hint"},"Please pick a value between ",u.createElement(o.EK,null,"1 minute")," & ",u.createElement(o.EK,null,"1440 minutes (1 day)"),"."),required:!0,readOnly:i,min:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,maxLength:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,minLength:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,width:12,"data-testid":"".concat(l,"-email-otp-expiry-time")},u.createElement("input",null),u.createElement(m.Z,null,c("authenticationProvider:forms.authenticatorSettings.emailOTP.expiryTime.unit"))),u.createElement(D.gN.Checkbox,{ariaLabel:"Use alphanumeric characters for OTP",name:"EmailOTP_UseAlphanumericChars",label:c("authenticationProvider:forms.authenticatorSettings.emailOTP.useAlphanumericChars.label"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.emailOTP.useAlphanumericChars.hint"},"Please check this checkbox to enable alphanumeric characters. Otherwise numeric"," ","characters will be used."),readOnly:i,width:12,"data-testid":"".concat(l,"-otp-regex-use-numeric"),listen:function(e){g(e)}}),u.createElement(D.gN.Input,{ariaLabel:"Email OTP length",inputType:"number",name:"EmailOTP_OTPLength",label:c("authenticationProvider:forms.authenticatorSettings.emailOTP.tokenLength.label"),labelPosition:"right",placeholder:c("authenticationProvider:forms.authenticatorSettings.emailOTP.tokenLength.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.emailOTP.tokenLength.hint"},"The number of allowed characters in the OTP. Please pick a value between",u.createElement(o.EK,null,"4-10"),"."),required:!0,readOnly:i,maxLength:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_LENGTH,minLength:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_LENGTH,width:12,"data-testid":"".concat(l,"-email-otp-token-length")},u.createElement("input",null),u.createElement(m.Z,null,c("authenticationProvider:forms.authenticatorSettings"+".emailOTP.tokenLength.unit.".concat(y?"characters":"digits")))),u.createElement(D.gN.Button,{form:Rt,size:"small",buttonType:"primary_btn",ariaLabel:"Email OTP authenticator update button",name:"update-button","data-testid":"".concat(l,"-submit-button"),disabled:a,loading:a,label:c("common:update"),hidden:i}))};function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){var r;return r=function(e,t){if("object"!=Dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Dt(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}kt.defaultProps={"data-testid":"email-otp-authenticator-form",enableSubmitButton:!0};var Zt="facebook-authenticator-form",Ft=function(e){var t,n,r,i,a,l,c,d,m,f,p,v,h,y=e.metadata,g=e.mode,b=e.initialValues,E=e.onSubmit,S=e.readOnly,I=e.isSubmitting,O=e["data-testid"],P=(0,s.$)().t,A=Ut((0,u.useState)(void 0),2),T=A[0],C=A[1],_=Ut((0,u.useState)(void 0),2),w=_[0],L=_[1];(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==b?void 0:b.properties)){var e=null,t=null;b.properties.map((function(n){var r=null==y?void 0:y.properties.find((function(e){return e.key===n.key}));e=xt(xt({},e),{},jt({},n.key,{meta:r,value:n.value})),t=xt(xt({},t),{},jt({},n.key,n.value))})),C(e),L(t)}}),[b]);return u.createElement(D.l0,{id:Zt,uncontrolledForm:!1,onSubmit:function(e){return E(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Ut(r[n],2),a=i[0],o=i[1];void 0!==a&&t.push({key:a,value:o})}return xt(xt({},b),{},{properties:t})}(e))},initialValues:w},u.createElement(D.gN.Input,{ariaLabel:"Facebook authenticator client ID",inputType:"default",name:"ClientId",label:P("authenticationProvider:forms.authenticatorSettings.facebook.clientId.label"),placeholder:P("authenticationProvider:forms.authenticatorSettings.facebook.clientId.placeholder"),hint:P("authenticationProvider:forms.authenticatorSettings.facebook.clientId.hint"),required:null==T||null===(t=T.ClientId)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.isMandatory,readOnly:S||g!==ze.Pk.CREATE&&(null==T||null===(n=T.ClientId)||void 0===n||null===(n=n.meta)||void 0===n?void 0:n.readOnly),value:null==T||null===(r=T.ClientId)||void 0===r?void 0:r.value,maxLength:null==T||null===(i=T.ClientId)||void 0===i||null===(i=i.meta)||void 0===i?void 0:i.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(O,"-client-id")}),u.createElement(D.gN.Input,{ariaLabel:"Facebook authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:P("authenticationProvider:forms.authenticatorSettings.facebook.clientSecret.label"),placeholder:P("authenticationProvider:forms.authenticatorSettings.facebook.clientSecret.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.facebook.clientSecret.hint"},"The ",u.createElement(o.EK,null,"App secret")," value of the Facebook application."),required:null==T||null===(a=T.ClientSecret)||void 0===a||null===(a=a.meta)||void 0===a?void 0:a.isMandatory,readOnly:S||g!==ze.Pk.CREATE&&(null==T||null===(l=T.ClientSecret)||void 0===l||null===(l=l.meta)||void 0===l?void 0:l.readOnly),value:null==T||null===(c=T.ClientSecret)||void 0===c?void 0:c.value,maxLength:null==T||null===(d=T.ClientSecret)||void 0===d||null===(d=d.meta)||void 0===d?void 0:d.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(O,"-client-secret")}),u.createElement(D.gN.Input,{ariaLabel:"Facebook authenticator authorized redirect URL",inputType:"copy_input",name:"callBackUrl",label:P("authenticationProvider:forms.authenticatorSettings.facebook.callbackUrl.label"),placeholder:P("authenticationProvider:forms.authenticatorSettings.facebook.callbackUrl.placeholder"),hint:P("authenticationProvider:forms.authenticatorSettings.facebook.callbackUrl.hint"),required:null==T||null===(m=T.callBackUrl)||void 0===m||null===(m=m.meta)||void 0===m?void 0:m.isMandatory,value:null==T||null===(f=T.callBackUrl)||void 0===f?void 0:f.value,readOnly:S||g!==ze.Pk.CREATE&&(null==T||null===(p=T.callBackUrl)||void 0===p||null===(p=p.meta)||void 0===p?void 0:p.readOnly),maxLength:null==T||null===(v=T.callBackUrl)||void 0===v||null===(v=v.meta)||void 0===v?void 0:v.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(O,"-authorized-redirect-url")}),(null==T||null===(h=T.Scope)||void 0===h?void 0:h.value)&&T.Scope.value.split&&T.Scope.value.split(",").length>0&&u.createElement(o.hj,{heading:P("authenticationProvider:forms.authenticatorSettings.facebook.scopes.heading")},u.createElement("div",{className:"authenticator-dynamic-properties"},T.Scope.value.split(",").map((function(e,t){var n=function(e){return e===pe.f.FACEBOOK_SCOPE_DICTIONARY.EMAIL?{description:P("authenticationProvider:forms.authenticatorSettings.facebook.scopes.list.email.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.FACEBOOK_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===pe.f.FACEBOOK_SCOPE_DICTIONARY.PUBLIC_PROFILE?{description:P("authenticationProvider:forms.authenticatorSettings.facebook.scopes.list.profile.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.FACEBOOK_SCOPE_DICTIONARY.PUBLIC_PROFILE),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return u.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},u.createElement("div",{className:"authenticator-dynamic-property-name-container"},u.createElement(o.dn,{square:!0,inline:!0,transparent:!0,icon:u.createElement(j.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),u.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),u.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),u.createElement(o.kW,{compact:!0},u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.facebook.scopes.hint"},"Permissions provide a way for connected apps to access data from Facebook. Click ",u.createElement("a",{href:"https://developers.facebook.com/docs/permissions/reference",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),u.createElement(D.gN.Button,{form:Zt,size:"small",buttonType:"primary_btn",ariaLabel:"Facebook authenticator update button",name:"update-button","data-testid":"".concat(O,"-submit-button"),disabled:I,loading:I,label:P("common:update"),hidden:S}))};function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t,n){var r;return r=function(e,t){if("object"!=Ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ht(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ft.defaultProps={"data-testid":"facebook-authenticator-form",enableSubmitButton:!0};var Qt="github-authenticator-form",Yt=function(e){var t,n,r,i,a,l,c,d,m,f,p,v,h,y=e.metadata,g=e.mode,b=e.initialValues,E=e.onSubmit,S=e.readOnly,I=e.isSubmitting,O=e["data-testid"],P=(0,s.$)().t,A=Bt((0,u.useState)(void 0),2),T=A[0],C=A[1],_=Bt((0,u.useState)(void 0),2),w=_[0],L=_[1];(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==b?void 0:b.properties)){var e=null,t=null;b.properties.map((function(n){var r=null==y?void 0:y.properties.find((function(e){return e.key===n.key}));e=qt(qt({},e),{},Kt({},n.key,{meta:r,value:n.value})),t=qt(qt({},t),{},Kt({},n.key,n.value))})),C(e),L(t)}}),[b]);return u.createElement(D.l0,{id:Qt,uncontrolledForm:!1,onSubmit:function(e){return E(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Bt(r[n],2),a=i[0],o=i[1];void 0!==a&&t.push({key:a,value:o})}return qt(qt({},b),{},{properties:t})}(e))},initialValues:w},u.createElement(D.gN.Input,{ariaLabel:"GitHub authenticator client ID",inputType:"default",name:"ClientId",label:P("authenticationProvider:forms.authenticatorSettings.github.clientId.label"),placeholder:P("authenticationProvider:forms.authenticatorSettings.github.clientId.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.github.clientId.hint"},"The ",u.createElement(o.EK,null,"Client ID")," you received from GitHub for your OAuth app."),required:null==T||null===(t=T.ClientId)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.isMandatory,readOnly:S||g!==ze.Pk.CREATE&&(null==T||null===(n=T.ClientId)||void 0===n||null===(n=n.meta)||void 0===n?void 0:n.readOnly),value:null==T||null===(r=T.ClientId)||void 0===r?void 0:r.value,maxLength:null==T||null===(i=T.ClientId)||void 0===i||null===(i=i.meta)||void 0===i?void 0:i.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(O,"-client-id")}),u.createElement(D.gN.Input,{ariaLabel:"GitHub authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:P("authenticationProvider:forms.authenticatorSettings.github.clientSecret.label"),placeholder:P("authenticationProvider:forms.authenticatorSettings.github.clientSecret.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.github.clientSecret.hint"},"The ",u.createElement(o.EK,null,"Client secret")," you received from GitHub for your OAuth app."),required:null==T||null===(a=T.ClientSecret)||void 0===a||null===(a=a.meta)||void 0===a?void 0:a.isMandatory,readOnly:S||g!==ze.Pk.CREATE&&(null==T||null===(l=T.ClientSecret)||void 0===l||null===(l=l.meta)||void 0===l?void 0:l.readOnly),value:null==T||null===(c=T.ClientSecret)||void 0===c?void 0:c.value,maxLength:null==T||null===(d=T.ClientSecret)||void 0===d||null===(d=d.meta)||void 0===d?void 0:d.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(O,"-client-secret")}),u.createElement(D.gN.Input,{ariaLabel:"GitHub authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:P("authenticationProvider:forms.authenticatorSettings.github.callbackUrl.label"),placeholder:P("authenticationProvider:forms.authenticatorSettings.github.callbackUrl.placeholder"),hint:P("authenticationProvider:forms.authenticatorSettings.github.callbackUrl.hint"),required:null==T||null===(m=T.callbackUrl)||void 0===m||null===(m=m.meta)||void 0===m?void 0:m.isMandatory,value:null==T||null===(f=T.callbackUrl)||void 0===f?void 0:f.value,readOnly:S||g!==ze.Pk.CREATE&&(null==T||null===(p=T.callbackUrl)||void 0===p||null===(p=p.meta)||void 0===p?void 0:p.readOnly),maxLength:null==T||null===(v=T.callbackUrl)||void 0===v||null===(v=v.meta)||void 0===v?void 0:v.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(O,"-authorized-redirect-url")}),(null==T||null===(h=T.scope)||void 0===h?void 0:h.value)&&T.scope.value.split&&T.scope.value.split(" ").length>0&&u.createElement(o.hj,{heading:P("authenticationProvider:forms.authenticatorSettings.github.scopes.heading")},u.createElement("div",{className:"authenticator-dynamic-properties"},T.scope.value.split(" ").map((function(e,t){var n=function(e){return e===pe.f.GITHUB_SCOPE_DICTIONARY.USER_READ?{description:P("authenticationProvider:forms.authenticatorSettings.github.scopes.list.profile.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GITHUB_SCOPE_DICTIONARY.USER_READ),icon:"user outline"}:e===pe.f.GITHUB_SCOPE_DICTIONARY.USER_EMAIL?{description:P("authenticationProvider:forms.authenticatorSettings.github.scopes.list.email.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GITHUB_SCOPE_DICTIONARY.USER_EMAIL),icon:"envelope outline"}:{description:"",displayName:e,icon:"key"}}(e);return u.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},u.createElement("div",{className:"authenticator-dynamic-property-name-container"},u.createElement(o.dn,{square:!0,inline:!0,transparent:!0,icon:u.createElement(j.Z,{name:n.icon}),size:"micro",className:"authenticator-dynamic-property-icon",spaced:"right",verticalAlign:"top"}),u.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),u.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),u.createElement(o.kW,null,u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.github.scopes.hint"},"The scopes specifies the type of access provided for connected apps to access data from GitHub. Click ",u.createElement("a",{href:"https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),u.createElement(D.gN.Button,{form:Qt,size:"small",buttonType:"primary_btn",ariaLabel:"GitHub authenticator update button",name:"update-button","data-testid":"".concat(O,"-submit-button"),disabled:I,loading:I,label:P("common:update"),hidden:S}))};function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){var r;return r=function(e,t){if("object"!=Wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Wt(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Yt.defaultProps={enableSubmitButton:!0};var nn="google-authenticator-form",rn=function(e){var t,n,r,i,a,l,c,m,p,v,h,y,g,b,E,S=e.metadata,I=e.mode,O=e.initialValues,P=e.onSubmit,A=e.readOnly,T=e.isSubmitting,C=e["data-testid"],_=(0,s.$)().t,w=en((0,u.useState)(void 0),2),L=w[0],N=w[1],R=en((0,u.useState)(void 0),2),k=R[0],M=R[1],x=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.googleOneTapEnabledTenants}));(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==O?void 0:O.properties)){var e=null,t=null;O.properties.map((function(n){var r,i=null==S?void 0:S.properties.find((function(e){return e.key===n.key}));r=n.key===pe.f.GOOGLE_ONE_TAP_ENABLED?"true"===n.value:n.value,e=Xt(Xt({},e),{},Jt({},n.key,{meta:i,value:r})),t=Xt(Xt({},t),{},Jt({},n.key,r))})),N(e),M(t)}}),[O]);var U=function(e){var t=[];try{t=e.trim().split("scope=")[1].split(" ")}catch(n){}return t};return u.createElement(D.l0,{id:nn,uncontrolledForm:!1,onSubmit:function(e){return P(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=en(r[n],2),a=i[0],o=i[1];void 0!==a&&t.push({key:a,value:o})}return Xt(Xt({},O),{},{properties:t})}(e))},initialValues:k},u.createElement(D.gN.Input,{ariaLabel:"Google authenticator client ID",inputType:"default",name:"ClientId",label:_("authenticationProvider:forms.authenticatorSettings.google.clientId.label"),placeholder:_("authenticationProvider:forms.authenticatorSettings.google.clientId.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.google.clientId.hint"},"The ",u.createElement(o.EK,null,"Client ID")," you received from Google for your OAuth app."),required:null==L||null===(t=L.ClientId)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.isMandatory,readOnly:A||I!==ze.Pk.CREATE&&(null==L||null===(n=L.ClientId)||void 0===n||null===(n=n.meta)||void 0===n?void 0:n.readOnly),value:null==L||null===(r=L.ClientId)||void 0===r?void 0:r.value,maxLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(C,"-client-id")}),u.createElement(D.gN.Input,{ariaLabel:"Google authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:_("authenticationProvider:forms.authenticatorSettings.google.clientSecret.label"),placeholder:_("authenticationProvider:forms.authenticatorSettings.google.clientSecret.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.google.clientSecret.hint"},"The ",u.createElement(o.EK,null,"App secret")," value of the Google application."),required:null==L||null===(i=L.ClientSecret)||void 0===i||null===(i=i.meta)||void 0===i?void 0:i.isMandatory,readOnly:A||I!==ze.Pk.CREATE&&(null==L||null===(a=L.ClientSecret)||void 0===a||null===(a=a.meta)||void 0===a?void 0:a.readOnly),value:null==L||null===(l=L.ClientSecret)||void 0===l?void 0:l.value,maxLength:null==L||null===(c=L.ClientSecret)||void 0===c||null===(c=c.meta)||void 0===c?void 0:c.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(C,"-client-secret")}),u.createElement(D.gN.Input,{ariaLabel:"Google authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:_("authenticationProvider:forms.authenticatorSettings.google.callbackUrl.label"),placeholder:_("authenticationProvider:forms.authenticatorSettings.google.callbackUrl.placeholder"),hint:_("authenticationProvider:forms.authenticatorSettings.google.callbackUrl.hint"),required:null==L||null===(m=L.callbackUrl)||void 0===m||null===(m=m.meta)||void 0===m?void 0:m.isMandatory,value:null==L||null===(p=L.callbackUrl)||void 0===p?void 0:p.value,readOnly:A||I!==ze.Pk.CREATE&&(null==L||null===(v=L.callbackUrl)||void 0===v||null===(v=v.meta)||void 0===v?void 0:v.readOnly),maxLength:null==L||null===(h=L.callbackUrl)||void 0===h||null===(h=h.meta)||void 0===h?void 0:h.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(C,"-authorized-redirect-url")}),u.createElement(D.gN.Input,{ariaLabel:_("authenticationProvider:forms.authenticatorSettings.google.AdditionalQueryParameters.ariaLabel"),inputType:"default",name:"AdditionalQueryParameters",label:_("authenticationProvider:forms.authenticatorSettings.google.AdditionalQueryParameters.label"),placeholder:_("authenticationProvider:forms.authenticatorSettings.google.AdditionalQueryParameters.placeholder"),hint:_("authenticationProvider:forms.authenticatorSettings.google.AdditionalQueryParameters.hint"),required:null==L||null===(y=L.AdditionalQueryParameters)||void 0===y||null===(y=y.meta)||void 0===y?void 0:y.isMandatory,value:null==L||null===(g=L.AdditionalQueryParameters)||void 0===g?void 0:g.value,readOnly:A||I!==ze.Pk.CREATE&&(null==L||null===(b=L.AdditionalQueryParameters)||void 0===b||null===(b=b.meta)||void 0===b?void 0:b.readOnly),maxLength:pe.f.GOOGLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MAX_LENGTH,minLength:pe.f.GOOGLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MIN_LENGTH,width:16,"data-testid":"".concat(C,"-additional-query-parameters")}),(null==x?void 0:x.length)>0&&!x.includes(f.$x.getTenant())?null:u.createElement(D.gN.Checkbox,{ariaLabel:"Enable Google One Tap as a sign in option",name:pe.f.GOOGLE_ONE_TAP_ENABLED,required:!1,toggle:!0,label:_("authenticationProvider:forms.authenticatorSettings.google.enableGoogleOneTap.label"),placeholder:_("authenticationProvider:forms.authenticatorSettings.google.enableGoogleOneTap.placeholder"),hint:_("authenticationProvider:forms.authenticatorSettings.google.enableGoogleOneTap.hint"),readOnly:A,"data-testid":"".concat(C,"-google-one-tap")}),(null==L||null===(E=L.AdditionalQueryParameters)||void 0===E?void 0:E.value)&&!(0,Oe.Z)(U(L.AdditionalQueryParameters.value))&&u.createElement(o.hj,{heading:_("authenticationProvider:forms.authenticatorSettings.google.scopes.heading")},u.createElement("div",{className:"authenticator-dynamic-properties"},U(L.AdditionalQueryParameters.value).map((function(e,t){var n=function(e){return e===pe.f.GOOGLE_SCOPE_DICTIONARY.EMAIL?{description:_("authenticationProvider:forms.authenticatorSettings.google.scopes.list.email.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GOOGLE_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===pe.f.GOOGLE_SCOPE_DICTIONARY.OPENID?{description:_("authenticationProvider:forms.authenticatorSettings.google.scopes.list.openid.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GOOGLE_SCOPE_DICTIONARY.OPENID),icon:"openid"}:e===pe.f.GOOGLE_SCOPE_DICTIONARY.PROFILE?{description:_("authenticationProvider:forms.authenticatorSettings.google.scopes.list.profile.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GOOGLE_SCOPE_DICTIONARY.PROFILE),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return u.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},u.createElement("div",{className:"authenticator-dynamic-property-name-container"},u.createElement(o.dn,{square:!0,inline:!0,transparent:!0,icon:u.createElement(j.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),u.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),u.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),u.createElement(o.kW,{compact:!0},u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.google.scopes.hint"},"Scopes provide a way for connected apps to access data from Google. Click ",u.createElement("a",{href:"https://developers.google.com/identity/protocols/oauth2/openid-connect#scope-param",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),u.createElement(D.gN.Button,{form:nn,size:"small",buttonType:"primary_btn",ariaLabel:"Google authenticator update button",name:"update-button","data-testid":"".concat(C,"-submit-button"),disabled:T,loading:T,label:_("common:update"),hidden:A}))};function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){var r;return r=function(e,t){if("object"!=an(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=an(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==an(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}rn.defaultProps={"data-testid":"google-authenticator-form",enableSubmitButton:!0};var dn="microsoft-authenticator-form",mn=function(e){var t,n,r,i,a,l,c,d,m,f,p,v,h,y,g,b,E,S,I,O,P=e.metadata,A=e.mode,T=e.initialValues,C=e.onSubmit,_=e.readOnly,w=e.isSubmitting,L=e["data-testid"],N=(0,s.$)().t,R=un((0,u.useState)(void 0),2),k=R[0],M=R[1],x=un((0,u.useState)(void 0),2),U=x[0],G=x[1];(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==T?void 0:T.properties)){var e=null,t=null;T.properties.map((function(n){var r=null==P?void 0:P.properties.find((function(e){return e.key===n.key}));e=ln(ln({},e),{},cn({},n.key,{meta:r,value:n.value})),t=ln(ln({},t),{},cn({},n.key,n.value))})),M(e),G(t)}}),[T]);var Z=function(e){var t=[];try{t=e.trim().split(" ")}catch(n){}return t};return u.createElement(D.l0,{id:dn,uncontrolledForm:!1,onSubmit:function(e){return C(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=un(r[n],2),a=i[0],o=i[1];void 0!==a&&t.push({key:a,value:o})}return ln(ln({},T),{},{properties:t})}(e))},initialValues:U},u.createElement(D.gN.Input,{ariaLabel:"Microsoft authenticator client ID",inputType:"default",name:"ClientId",label:N("authenticationProvider:forms.authenticatorSettings.microsoft.clientId.label"),placeholder:N("authenticationProvider:forms.authenticatorSettings.microsoft.clientId.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.microsoft.clientId.hint"},"The ",u.createElement(o.EK,null,"Client ID")," you received from Microsoft for your OAuth app."),required:null==k||null===(t=k.ClientId)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.isMandatory,readOnly:_||A!==ze.Pk.CREATE&&(null==k||null===(n=k.ClientId)||void 0===n||null===(n=n.meta)||void 0===n?void 0:n.readOnly),value:null==k||null===(r=k.ClientId)||void 0===r?void 0:r.value,maxLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(L,"-client-id")}),u.createElement(D.gN.Input,{ariaLabel:"Microsoft authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:N("authenticationProvider:forms.authenticatorSettings.microsoft.clientSecret.label"),placeholder:N("authenticationProvider:forms.authenticatorSettings.microsoft.clientSecret.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.microsoft.clientSecret.hint"},"The ",u.createElement(o.EK,null,"App secret")," value of the Microsoft application."),required:null==k||null===(i=k.ClientSecret)||void 0===i||null===(i=i.meta)||void 0===i?void 0:i.isMandatory,readOnly:_||A!==ze.Pk.CREATE&&(null==k||null===(a=k.ClientSecret)||void 0===a||null===(a=a.meta)||void 0===a?void 0:a.readOnly),value:null==k||null===(l=k.ClientSecret)||void 0===l?void 0:l.value,maxLength:null==k||null===(c=k.ClientSecret)||void 0===c||null===(c=c.meta)||void 0===c?void 0:c.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(L,"-client-secret")}),u.createElement(D.gN.Input,{ariaLabel:"Microsoft authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:N("authenticationProvider:forms.authenticatorSettings.microsoft.callbackUrl.label"),placeholder:N("authenticationProvider:forms.authenticatorSettings.microsoft.callbackUrl.placeholder"),hint:N("authenticationProvider:forms.authenticatorSettings.microsoft.callbackUrl.hint"),required:null==k||null===(d=k.callbackUrl)||void 0===d||null===(d=d.meta)||void 0===d?void 0:d.isMandatory,value:null==k||null===(m=k.callbackUrl)||void 0===m?void 0:m.value,readOnly:_||A!==ze.Pk.CREATE&&(null==k||null===(f=k.callbackUrl)||void 0===f||null===(f=f.meta)||void 0===f?void 0:f.readOnly),maxLength:null==k||null===(p=k.callbackUrl)||void 0===p||null===(p=p.meta)||void 0===p?void 0:p.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(L,"-authorized-redirect-url")}),u.createElement(D.gN.Scopes,{ariaLabel:N("authenticationProvider:forms.authenticatorSettings.microsoft.scopes.ariaLabel"),inputType:"default",name:N("authenticationProvider:forms.authenticatorSettings.microsoft.scopes.heading"),label:N("authenticationProvider:forms.authenticatorSettings.microsoft.scopes.label"),placeholder:N("authenticationProvider:forms.authenticatorSettings.microsoft.scopes.placeholder"),hint:"The types of access provided for the connected apps to access data from Microsoft.",required:null==k||null===(v=k.Scopes)||void 0===v||null===(v=v.meta)||void 0===v?void 0:v.isMandatory,value:null==k||null===(h=k.Scopes)||void 0===h?void 0:h.value,readOnly:_||A!==ze.Pk.CREATE&&(null==k||null===(y=k.Scopes)||void 0===y||null===(y=y.meta)||void 0===y?void 0:y.readOnly),maxLength:null==k||null===(g=k.ClientId)||void 0===g||null===(g=g.meta)||void 0===g?void 0:g.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(L,"-additional-query-parameters")}),u.createElement(D.gN.QueryParams,{ariaLabel:N("authenticationProvider:forms.authenticatorSettings.microsoft.commonAuthQueryParams.ariaLabel"),inputType:"default",name:"commonAuthQueryParams",label:N("authenticationProvider:forms.authenticatorSettings.microsoft.commonAuthQueryParams.label"),placeholder:N("authenticationProvider:forms.authenticatorSettings.microsoft.commonAuthQueryParams.placeholder"),hint:N("authenticationProvider:forms.authenticatorSettings.microsoft.commonAuthQueryParams.hint"),required:null==k||null===(b=k.commonAuthQueryParams)||void 0===b||null===(b=b.meta)||void 0===b?void 0:b.isMandatory,value:null==k||null===(E=k.commonAuthQueryParams)||void 0===E?void 0:E.value,readOnly:_||A!==ze.Pk.CREATE&&(null==k||null===(S=k.commonAuthQueryParams)||void 0===S||null===(S=S.meta)||void 0===S?void 0:S.readOnly),maxLength:null==k||null===(I=k.ClientId)||void 0===I||null===(I=I.meta)||void 0===I?void 0:I.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(L,"-additional-query-parameters")}),(null==k||null===(O=k.Scopes)||void 0===O?void 0:O.value)&&!(0,Oe.Z)(Z(k.Scopes.value))&&u.createElement(o.hj,{heading:N("authenticationProvider:forms.authenticatorSettings.microsoft.scopes.heading")},u.createElement("div",{className:"authenticator-dynamic-properties"},Z(k.Scopes.value).map((function(e,t){var n=function(e){return e===pe.f.MICROSOFT_SCOPE_DICTIONARY.EMAIL?{description:N("authenticationProvider:forms.authenticatorSettings.microsoft.scopes.list.email.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.MICROSOFT_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===pe.f.MICROSOFT_SCOPE_DICTIONARY.OPENID?{description:N("authenticationProvider:forms.authenticatorSettings.microsoft.scopes.list.openid.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.MICROSOFT_SCOPE_DICTIONARY.OPENID),icon:"openid"}:e===pe.f.MICROSOFT_SCOPE_DICTIONARY.PROFILE?{description:N("authenticationProvider:forms.authenticatorSettings.microsoft.scopes.list.profile.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.MICROSOFT_SCOPE_DICTIONARY.PROFILE),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return u.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},u.createElement("div",{className:"authenticator-dynamic-property-name-container"},u.createElement(o.dn,{square:!0,inline:!0,transparent:!0,icon:u.createElement(j.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),u.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),u.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),u.createElement(o.kW,{compact:!0},u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.microsoft.scopes.hint"},"Scopes provide a way for connected apps to access data from Microsoft. Click ",u.createElement("a",{href:"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),u.createElement(D.gN.Button,{form:dn,size:"small",buttonType:"primary_btn",ariaLabel:"Microsoft authenticator update button",name:"update-button","data-testid":"".concat(L,"-submit-button"),disabled:w,loading:w,label:N("common:update"),hidden:_}))};function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t,n){var r;return r=function(e,t){if("object"!=fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fn(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}mn.defaultProps={"data-testid":"microsoft-authenticator-form",enableSubmitButton:!0};var bn="sms-otp-authenticator-form",En=function(e){var t=e.metadata,n=e.initialValues,r=e.onSubmit,i=e.readOnly,a=e.isSubmitting,l=e["data-testid"],c=(0,s.$)().t,d=yn((0,u.useState)(void 0),2)[1],f=yn((0,u.useState)(void 0),2),p=f[0],v=f[1],h=yn((0,u.useState)(),2),y=h[0],g=h[1];(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==n?void 0:n.properties)){var e=null,r=null;n.properties.forEach((function(n){var i=null==t?void 0:t.properties.find((function(e){return e.key===n.key})),a=n.name.replace(/\./g,"_");if(a===pe.f.AUTHENTICATOR_INIT_VALUES_SMS_OTP_EXPIRY_TIME_KEY){var o=Math.round(parseInt(n.value,10)/60);r=vn(vn({},r),{},hn({},a,o)),e=vn(vn({},e),{},hn({},a,{meta:i,value:o.toString()}))}else e=vn(vn({},e),{},hn({},a,{meta:i,value:"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value})),r=vn(vn({},r),{},hn({},a,"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value))})),g(r.SmsOTP_OtpRegex_UseNumericChars),d(e),v(r)}}),[n]);return u.createElement(D.l0,{id:bn,uncontrolledForm:!1,onSubmit:function(e){r(function(e){for(var t=[],r=0,i=Object.entries(e);r<i.length;r++){var a=yn(i[r],2),o=a[0],l=a[1];if(void 0!==o){var c=o.replace(/_/g,".");if(o===pe.f.AUTHENTICATOR_INIT_VALUES_SMS_OTP_EXPIRY_TIME_KEY){var u=60*l;t.push({name:c,value:u.toString()});continue}t.push({name:c,value:(0,At.Z)(l)?l.toString():l})}}return vn(vn({},n),{},{properties:t})}(e))},initialValues:p,validate:function(e){var t={SmsOTP_ExpiryTime:void 0,SmsOTP_OTPLength:void 0,SmsOTP_OtpRegex_UseNumericChars:void 0,SmsOTP_ResendAttemptsCount:void 0};return e.SmsOTP_ExpiryTime?M.I.isInteger(e.SmsOTP_ExpiryTime)?(e.SmsOTP_ExpiryTime<pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||e.SmsOTP_ExpiryTime>pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(t.SmsOTP_ExpiryTime=c("authenticationProvider:forms.authenticatorSettings.smsOTP.expiryTime.validations.range")):t.SmsOTP_ExpiryTime=c("authenticationProvider:forms.authenticatorSettings.smsOTP.expiryTime.validations.invalid"):t.SmsOTP_ExpiryTime=c("authenticationProvider:forms.authenticatorSettings.smsOTP.expiryTime.validations.required"),e.SmsOTP_OTPLength?M.I.isInteger(e.SmsOTP_OTPLength)?(parseInt(e.SmsOTP_OTPLength,10)<pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_VALUE||parseInt(e.SmsOTP_OTPLength,10)>pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_VALUE)&&(t.SmsOTP_OTPLength=c("authenticationProvider:forms"+".authenticatorSettings.smsOTP.tokenLength.validations.range.".concat(y?"digits":"characters"))):t.SmsOTP_OTPLength=c("authenticationProvider:forms.authenticatorSettings.smsOTP.tokenLength.validations.invalid"):t.SmsOTP_OTPLength=c("authenticationProvider:forms.authenticatorSettings.smsOTP.tokenLength.validations.required"),e.SmsOTP_ResendAttemptsCount?M.I.isInteger(e.SmsOTP_ResendAttemptsCount)?(e.SmsOTP_ResendAttemptsCount<pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ALLOWED_RESEND_ATTEMPT_COUNT_MIN_VALUE||e.SmsOTP_ResendAttemptsCount>pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ALLOWED_RESEND_ATTEMPT_COUNT_MAX_VALUE)&&(t.SmsOTP_ResendAttemptsCount=c("authenticationProvider:forms.authenticatorSettings.smsOTP.allowedResendAttemptCount.validations.range")):t.SmsOTP_ResendAttemptsCount=c("authenticationProvider:forms.authenticatorSettings.smsOTP.allowedResendAttemptCount.validations.invalid"):t.SmsOTP_ResendAttemptsCount=c("authenticationProvider:forms.authenticatorSettings.smsOTP.allowedResendAttemptCount.validations.required"),t}},u.createElement(D.gN.Input,{ariaLabel:"SMS OTP expiry time",inputType:"number",name:"SmsOTP_ExpiryTime",label:c("authenticationProvider:forms.authenticatorSettings.smsOTP.expiryTime.label"),labelPosition:"right",placeholder:c("authenticationProvider:forms.authenticatorSettings.smsOTP.expiryTime.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.smsOTP.expiryTime.hint"},"Please pick a value between ",u.createElement(o.EK,null,"1 minute")," & ",u.createElement(o.EK,null,"1440 minutes(1 day)"),"."),required:!0,readOnly:i,min:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,maxLength:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,minLength:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,width:12,"data-testid":"".concat(l,"-sms-otp-expiry-time")},u.createElement("input",null),u.createElement(m.Z,null,c("authenticationProvider:forms.authenticatorSettings.smsOTP.expiryTime.unit"))),u.createElement(D.gN.Checkbox,{ariaLabel:"Use numeric characters for SMS OTP token",name:"SmsOTP_OtpRegex_UseNumericChars",label:c("authenticationProvider:forms.authenticatorSettings.smsOTP.useNumericChars.label"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.smsOTP.useNumericChars.hint"},"Please clear this checkbox to enable alphanumeric characters."),readOnly:i,width:16,"data-testid":"".concat(l,"-sms-otp-regex-use-numeric"),listen:function(e){g(e)}}),u.createElement(D.gN.Input,{ariaLabel:"SMS OTP length",inputType:"number",name:"SmsOTP_OTPLength",label:c("authenticationProvider:forms.authenticatorSettings.smsOTP.tokenLength.label"),labelPosition:"right",placeholder:c("authenticationProvider:forms.authenticatorSettings.smsOTP.tokenLength.placeholder"),hint:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.authenticatorSettings.smsOTP.tokenLength.hint"},"The number of allowed characters in the OTP. Please pick a value between",u.createElement(o.EK,null,"4-10"),"."),required:!0,readOnly:i,maxLength:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_LENGTH,minLength:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_LENGTH,width:12,"data-testid":"".concat(l,"-sms-otp-token-length")},u.createElement("input",null),u.createElement(m.Z,null,c("authenticationProvider:forms.authenticatorSettings"+".smsOTP.tokenLength.unit.".concat(y?"digits":"characters")))),u.createElement(D.gN.Button,{form:bn,size:"small",buttonType:"primary_btn",ariaLabel:"SMS OTP authenticator update button",name:"update-button","data-testid":"".concat(l,"-submit-button"),disabled:a,loading:a,label:c("common:update"),hidden:i}))};En.defaultProps={"data-testid":"sms-otp-authenticator-form",enableSubmitButton:!0};var Sn=n(120),In=n(99472),On=n(8534);function Pn(e){return function(e){if(Array.isArray(e))return An(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tn=["urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified","urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress","urn:oasis:names:tc:SAML:2.0:nameid-format:entity","urn:oasis:names:tc:SAML:2.0:nameid-format:transient","urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","urn:oasis:names:tc:SAML:2.0:nameid-format:encrypted","urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName","urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName","urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos"],Cn=function(e){var t=e.properties.find((function(e){return"DigestAlgorithm"===e.key})),n=function(e){switch(e){case"MD5":return"http://www.w3.org/2001/04/xmldsig-more#md5";case"RIPEMD160":return"http://www.w3.org/2001/04/xmlenc#ripemd160";case"SHA1":return"http://www.w3.org/2000/09/xmldsig#sha1";case"SHA256":return"http://www.w3.org/2001/04/xmlenc#sha256";case"SHA384":return"http://www.w3.org/2001/04/xmldsig-more#sha384";case"SHA512":return"http://www.w3.org/2001/04/xmlenc#sha512"}};return t?[].concat(Pn(t.options.map((function(e,t){return{key:t,text:n(e),value:e}}))),[{key:-1,text:"",value:""}]):[]},_n=function(e){return!!e&&("true"===e.toLowerCase()||"false"!==e.toLowerCase()&&void 0)},wn=function(e){return"string"==typeof e&&/true|false/g.test(e)},Ln={max:240,min:3},Nn={max:2048,min:10},Rn=2048,kn=10,Dn={max:2048,min:5},Mn=2048,xn=10,jn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},Un=function(e){if(!e)return"This is a required field"},Gn=function(e){return function(t){return!t&&e.min>0?"You cannot leave this blank":(null==t?void 0:t.length)>e.max?"Cannot exceed more than ".concat(e.max," characters."):(null==t?void 0:t.length)<e.min?"Should have at least ".concat(e.min," characters."):void 0}},Zn=function(e){return M.I.url(e)?void 0:"This URL is invalid."};function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hn.apply(this,arguments)}function Vn(e){return function(e){if(Array.isArray(e))return Yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){var r;return r=function(e,t){if("object"!=Fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fn(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||Qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){if(e){if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wn="authenticationProvider:forms.authenticatorSettings.saml",$n="saml-authenticator-form",Xn=function(e){var t,n,r,i,a,l=e.authenticator,c=e.onSubmit,m=e.readOnly,f=e.isSubmitting,p=e["data-testid"],v=(0,d.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.identityProviders)||void 0===t?void 0:t.disabledFeatures})),h=(0,d.v9)((function(e){return e.config})),g=(0,s.$)().t,E=zn((0,u.useState)({}),2),S=E[0],I=E[1],O=zn((0,u.useState)(!1),2),P=O[0],A=O[1],T=zn((0,u.useState)(!1),2),C=T[0],_=T[1],w=zn((0,u.useState)(!1),2),L=w[0],N=w[1],R=zn((0,u.useState)(!1),2),k=R[0],M=R[1],x=zn((0,u.useState)(!1),2),j=x[0],U=x[1],G=zn((0,u.useState)(!1),2),Z=G[0],F=G[1],H=zn((0,u.useState)(!1),2),V=H[0],q=H[1],K=zn((0,u.useState)(!1),2),B=K[0],z=K[1],Q=zn((0,u.useState)([]),2),Y=Q[0],W=Q[1],$=[{key:0,text:"Internet Protocol",value:"Internet Protocol"},{key:1,text:"Internet Protocol Password",value:"Internet Protocol Password"},{key:2,text:"Kerberos",value:"Kerberos"},{key:3,text:"Mobile One Factor Unregistered",value:"Mobile One Factor Unregistered"},{key:4,text:"Mobile Two Factor Unregistered",value:"Mobile Two Factor Unregistered"},{key:5,text:"Mobile One Factor Contract",value:"Mobile One Factor Contract"},{key:6,text:"Mobile Two Factor Contract",value:"Mobile Two Factor Contract"},{key:7,text:"Password",value:"Password"},{key:8,text:"Password Protected Transport",value:"Password Protected Transport (selected option)"},{key:9,text:"Previous Session",value:"Previous Session"},{key:10,text:"Public Key - X.509",value:"Public Key - X.509"},{key:11,text:"Public Key - PGP",value:"Public Key - PGP"},{key:12,text:"Public Key - SPKI",value:"Public Key - SPKI"},{key:13,text:"Public Key - XML Digital Signature",value:"Public Key - XML Digital Signature"},{key:14,text:"Smartcard",value:"Smartcard"},{key:15,text:"Smartcard PKI",value:"Smartcard PKI"},{key:16,text:"Software PKI",value:"Software PKI"},{key:17,text:"Telephony",value:"Telephony"},{key:18,text:"Telephony (Nomadic)",value:"Telephony (Nomadic)"},{key:19,text:"Telephony (Personalized)",value:"Telephony (Personalized)"},{key:20,text:"Telephony (Authenticated)",value:"Telephony (Authenticated)"},{key:21,text:"Secure Remote Password",value:"Secure Remote Password"},{key:22,text:"SSL/TLS Certificate-Based Client Authentication",value:"SSL/TLS Certificate-Based Client Authentication"},{key:23,text:"Time Sync Token",value:"Time Sync Token"},{key:24,text:"Unspecified",value:"Unspecified"},{key:25,text:"Custom Authentication Context Class",value:"Custom Authentication Context Class"}],X=(null==h||null===(t=h.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth",J=zn((0,u.useState)(!1),2),ee=J[0],te=J[1],ne=zn((0,u.useState)(!1),2),re=ne[0],ie=ne[1],ae=zn((0,u.useState)(!1),2),oe=ae[0],le=ae[1],ce=(0,u.useMemo)((function(){var e,t,n,r,i=function(e){var t,n,r=new Map;null===(t=e.data)||void 0===t||t.properties.forEach((function(e){var t=e.key,n=e.value;return r.set(t,n)}));var i=new Map;return null===(n=e.meta)||void 0===n||n.properties.forEach((function(e){return i.set(e.key,e)})),[function(e){var t=e.key,n=e.defaultValue;if(r.has(t)){var a,o=r.get(t);return"BOOLEAN"===(null===(a=i.get(t))||void 0===a?void 0:a.type)&&wn(o)&&"string"==typeof o?_n(o):o||n}return n},function(e){var t=e.key;return i.has(t)?i.get(t):null}]}(l),a=zn(i,2),o=a[0],c=a[1];return{ArtifactResolveUrl:o({defaultValue:"",key:"ArtifactResolveUrl"}),AuthRedirectUrl:o({defaultValue:X,key:"AuthRedirectUrl"}),AuthnContextClassRef:o({defaultValue:"",key:"AuthnContextClassRef"}),AuthnContextComparisonLevel:o({defaultValue:"",key:"AuthnContextComparisonLevel"}),DigestAlgorithm:o({defaultValue:"SHA256",key:"DigestAlgorithm"}),ISArtifactBindingEnabled:o({defaultValue:!1,key:"ISArtifactBindingEnabled"}),ISArtifactResolveReqSigned:o({defaultValue:"string",key:"ISArtifactResolveReqSigned"}),ISArtifactResponseSigned:o({defaultValue:"string",key:"ISArtifactResponseSigned"}),ISAuthnReqSigned:o({defaultValue:!1,key:"ISAuthnReqSigned"}),IdPEntityId:o({defaultValue:"",key:"IdPEntityId"}),IncludeProtocolBinding:o({defaultValue:!1,key:"IncludeProtocolBinding"}),IsAssertionEncrypted:o({defaultValue:!1,key:"IsAssertionEncrypted"}),IsAuthnRespSigned:o({defaultValue:!1,key:"IsAuthnRespSigned"}),IsLogoutEnabled:o({defaultValue:!1,key:"IsLogoutEnabled"}),IsLogoutReqSigned:o({defaultValue:!1,key:"IsLogoutReqSigned"}),IsSLORequestAccepted:o({defaultValue:!1,key:"IsSLORequestAccepted"}),IsUserIdInClaims:o({defaultValue:!1,key:"IsUserIdInClaims"}),LogoutReqUrl:o({defaultValue:"",key:"LogoutReqUrl"}),NameIDType:o({defaultValue:null!==(e=null===(t=c({key:"NameIDType"}))||void 0===t?void 0:t.defaultValue)&&void 0!==e?e:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",key:"NameIDType"}),RequestMethod:o({defaultValue:null!==(n=null===(r=c({key:"RequestMethod"}))||void 0===r?void 0:r.defaultValue)&&void 0!==n?n:"redirect",key:"RequestMethod"}),SPEntityId:o({defaultValue:"",key:"SPEntityId"}),SSOUrl:o({defaultValue:"",key:"SSOUrl"}),SignatureAlgorithm:o({defaultValue:"RSA with SHA256",key:"SignatureAlgorithm"}),commonAuthQueryParams:o({defaultValue:"",key:"commonAuthQueryParams"}),customAuthnContextClassRef:o({defaultValue:"",key:"CustomAuthnContextClassRef"}),isAssertionSigned:o({defaultValue:!1,key:"isAssertionSigned"})}}),[]);(0,u.useEffect)((function(){var e;A(ce.IsSLORequestAccepted),_(ce.IncludeProtocolBinding),N(ce.IsUserIdInClaims),M(ce.IsLogoutEnabled),te(ce.IsLogoutReqSigned),ie(ce.ISAuthnReqSigned),z(ce.ISArtifactBindingEnabled),I(Kn({},ce)),q(ce.IsAssertionEncrypted);var t=null===(e=ce.AuthnContextClassRef)||void 0===e?void 0:e.split(",").map((function(e){return $.find((function(t){return t.value===e}))}));W(null==t?void 0:t.filter(Boolean))}),[ce]),(0,u.useEffect)((function(){le(ee||re)}),[ee,re]);var ue,se,me,fe=function(){return ee||re?Un:function(){}};return u.createElement(D.l0,{id:$n,onSubmit:function(e){var t={AuthnContextClassRef:null==Y?void 0:Y.map((function(e){return e.value})).join(","),ISAuthnReqSigned:re,IncludeProtocolBinding:C,IsLogoutEnabled:k,IsLogoutReqSigned:ee,IsSLORequestAccepted:P,IsUserIdInClaims:L},n=new Set(Object.keys(t)),r=Kn(Kn({},l.data),{},{properties:[].concat(Vn(Object.keys(e).filter((function(e){return!n.has(e)})).map((function(t){return{key:t,value:e[t]}}))),Vn(Object.keys(t).map((function(e){return{key:e,value:t[e]}}))))});c(r)},uncontrolledForm:!0,initialValues:S},u.createElement(D.gN.Input,{required:!0,name:"SPEntityId",value:null==S?void 0:S.SPEntityId,placeholder:g("".concat(Wn,".SPEntityId.placeholder")),ariaLabel:g("".concat(Wn,".SPEntityId.ariaLabel")),inputType:"default",maxLength:Ln.max,minLength:Ln.min,label:u.createElement(o.bH,{htmlFor:"SPEntityId"},g("".concat(Wn,".SPEntityId.label"))),validate:jn(Un,Gn(Ln)),hint:u.createElement(u.Fragment,null,"This value will be used as the ",u.createElement(o.EK,null,"<saml2:Issuer>")," in the SAML requests initiated from ",h.ui.productName," to external Identity Provider (IdP). You need to provide a unique value as the service provider ",u.createElement(o.EK,null,"entityId"),"."),readOnly:m}),u.createElement(D.gN.Input,{required:!0,name:"SSOUrl",value:null==S?void 0:S.SSOUrl,inputType:"default",placeholder:g("".concat(Wn,".SSOUrl.placeholder")),ariaLabel:g("".concat(Wn,".SSOUrl.ariaLabel")),"data-testid":"".concat(p,"-SSOUrl-field"),label:u.createElement(o.bH,{htmlFor:"SSOUrl"},g("".concat(Wn,".SSOUrl.label"))),maxLength:Nn.max,minLength:Nn.min,validate:jn(Un,Zn,Gn(Nn)),hint:g("".concat(Wn,".SSOUrl.hint"),{productName:h.ui.productName}),readOnly:m}),u.createElement(D.gN.Input,{name:"AuthRedirectUrl",value:null==S?void 0:S.AuthRedirectUrl,inputType:"copy_input",placeholder:g("".concat(Wn,".AuthRedirectUrl.placeholder")),ariaLabel:g("".concat(Wn,".AuthRedirectUrl.ariaLabel")),"data-testid":"".concat(p,"-authorized-redirect-url"),label:u.createElement(o.bH,{htmlFor:"AuthRedirectUrl",disabled:!0},g("".concat(Wn,".AuthRedirectUrl.label"))),maxLength:Mn,minLength:xn,hint:g("".concat(Wn,".AuthRedirectUrl.hint"),{productName:h.ui.productName}),readOnly:m}),u.createElement(D.gN.Input,{required:!0,name:"IdPEntityId",value:null==S?void 0:S.IdPEntityId,inputType:"default",placeholder:g("".concat(Wn,".IdPEntityId.placeholder")),ariaLabel:g("".concat(Wn,".IdPEntityId.ariaLabel")),"data-testid":"".concat(p,"-IdPEntityId-field"),label:u.createElement(o.bH,{htmlFor:"IdPEntityId",disabled:!0},g("".concat(Wn,".IdPEntityId.label"))),maxLength:Dn.max,minLength:Dn.min,validate:jn(Un,Gn(Dn)),hint:u.createElement(u.Fragment,null,"This is the ",u.createElement(o.EK,null,"<saml2:Issuer>")," value specified in the SAML responses issued by the external IdP. Also, this needs to be a unique value to identify the external IdP within your organization."),readOnly:m}),u.createElement(D.gN.Dropdown,{required:!0,name:"NameIDType",value:null==S?void 0:S.NameIDType,defaultValue:null==S?void 0:S.NameIDType,placeholder:g("".concat(Wn,".NameIDType.placeholder")),ariaLabel:g("".concat(Wn,".NameIDType.ariaLabel")),"data-testid":"".concat(p,"-NameIDType-field"),options:Tn.map((function(e,t){return{key:t,text:e,value:e}})),label:u.createElement(o.bH,{htmlFor:"NameIDType"},g("".concat(Wn,".NameIDType.label"))),validate:Un,hint:g("".concat(Wn,".NameIDType.hint"),{productName:h.ui.productName}),readOnly:m}),u.createElement(D.gN.Dropdown,{required:!0,name:"RequestMethod",value:null==S?void 0:S.RequestMethod,defaultValue:null==S?void 0:S.RequestMethod,placeholder:g("".concat(Wn,".RequestMethod.placeholder")),ariaLabel:g("".concat(Wn,".RequestMethod.ariaLabel")),"data-testid":"".concat(p,"-RequestMethod-field"),options:[{key:1,text:"HTTP Redirect",value:"redirect"},{key:2,text:"HTTP Post",value:"post"},{key:3,text:"As Per Request",value:"as_request"}],label:u.createElement(o.bH,{htmlFor:"RequestMethod"},g("".concat(Wn,".RequestMethod.label"))),validate:Un,hint:g("".concat(Wn,".RequestMethod.hint")),readOnly:m}),u.createElement("div",null),u.createElement(o.hj,{heading:"Single Logout"},u.createElement(y.Z,null,u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{name:"IsSLORequestAccepted",initialValue:P,ariaLabel:g("".concat(Wn,".IsSLORequestAccepted.ariaLabel")),"data-testid":"".concat(p,"-IsSLORequestAccepted-field"),label:u.createElement(o.bH,{htmlFor:"IsSLORequestAccepted"},g("".concat(Wn,".IsSLORequestAccepted.label"))),hint:g("".concat(Wn,".IsSLORequestAccepted.hint"),{productName:h.ui.productName}),listen:function(e){return A(Boolean(e))},readOnly:m})),u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"IsLogoutEnabled",initialValue:k,ariaLabel:g("".concat(Wn,".IsLogoutEnabled.ariaLabel")),"data-testid":"".concat(p,"-IsLogoutEnabled-field"),label:u.createElement(o.bH,{htmlFor:"IsLogoutEnabled"},g("".concat(Wn,".IsLogoutEnabled.label"))),hint:g("".concat(Wn,".IsLogoutEnabled.hint")),listen:function(e){return M(Boolean(e))},readOnly:m})),u.createElement(Jn,null,u.createElement(D.gN.Input,{name:"LogoutReqUrl",value:null==S?void 0:S.LogoutReqUrl,inputType:"url",disabled:!k,placeholder:g("".concat(Wn,".LogoutReqUrl.placeholder")),ariaLabel:g("".concat(Wn,".LogoutReqUrl.ariaLabel")),"data-testid":"".concat(p,"-LogoutReqUrl-field"),label:u.createElement(o.bH,{htmlFor:"LogoutReqUrl"},g("".concat(Wn,".LogoutReqUrl.label"))),maxLength:Rn,minLength:kn,hint:g("".concat(Wn,".LogoutReqUrl.hint")),readOnly:m}))),u.createElement(de.Z,{hidden:!0})),u.createElement(o.hj,{heading:"Request & Response Signing"},u.createElement(y.Z,null,u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,disabled:!1,name:"IsAuthnRespSigned",ariaLabel:g("".concat(Wn,".IsAuthnRespSigned.ariaLabel")),"data-testid":"".concat(p,"-IsAuthnRespSigned-field"),label:u.createElement(o.bH,{htmlFor:"IsAuthnRespSigned"},g("".concat(Wn,".IsAuthnRespSigned.label"))),hint:g("".concat(Wn,".IsAuthnRespSigned.hint")),readOnly:m})),u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"IsLogoutReqSigned",initialValue:ee,ariaLabel:g("".concat(Wn,".IsLogoutReqSigned.ariaLabel")),"data-testid":"".concat(p,"-IsLogoutReqSigned-field"),label:u.createElement(o.bH,{htmlFor:"IsLogoutEnabled"},g("".concat(Wn,".IsLogoutReqSigned.label"))),hint:g("".concat(Wn,".IsLogoutReqSigned.hint"),{productName:h.ui.productName}),listen:function(e){return te(Boolean(e))},readOnly:m})),u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"ISAuthnReqSigned",initialValue:re,ariaLabel:g("".concat(Wn,".ISAuthnReqSigned.ariaLabel")),"data-testid":"".concat(p,"-ISAuthnReqSigned-field"),label:u.createElement(o.bH,{htmlFor:"ISAuthnReqSigned"},g("".concat(Wn,".ISAuthnReqSigned.label"))),hint:g("".concat(Wn,".ISAuthnReqSigned.hint"),{productName:h.ui.productName}),listen:function(e){return ie(Boolean(e))},readOnly:m})),u.createElement(Jn,null,u.createElement(D.gN.Dropdown,{value:null==S?void 0:S.SignatureAlgorithm,required:oe,name:"SignatureAlgorithm",type:"select",disabled:!oe,placeholder:g("".concat(Wn,".SignatureAlgorithm.placeholder")),ariaLabel:g("".concat(Wn,".SignatureAlgorithm.ariaLabel")),"data-testid":"".concat(p,"-SignatureAlgorithm-field"),options:(ue=l.meta,se=ue.properties.find((function(e){return"SignatureAlgorithm"===e.key})),me=function(e){switch(e){case"DSA with SHA1":return"http://www.w3.org/2000/09/xmldsig#dsa-sha1";case"ECDSA with SHA1":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1";case"ECDSA with SHA256":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256";case"ECDSA with SHA384":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384";case"ECDSA with SHA512":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512";case"RSA with MD5":return"http://www.w3.org/2001/04/xmldsig-more#rsa-md5";case"RSA with RIPEMD160":return"http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160";case"RSA with SHA1":return"http://www.w3.org/2000/09/xmldsig#rsa-sha1";case"RSA with SHA256":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256";case"RSA with SHA384":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384";case"RSA with SHA512":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"}},se?se.options.map((function(e,t){return{key:t,text:me(e),value:e}})):[]),label:u.createElement(o.bH,{htmlFor:"SignatureAlgorithm"},g("".concat(Wn,".SignatureAlgorithm.label"))),validate:fe(),readOnly:m})),u.createElement(Jn,null,u.createElement(D.gN.Dropdown,{required:oe,name:"DigestAlgorithm",value:null==S?void 0:S.DigestAlgorithm,type:"select",disabled:!oe,placeholder:g("".concat(Wn,".DigestAlgorithm.placeholder")),ariaLabel:g("".concat(Wn,".DigestAlgorithm.ariaLabel")),"data-testid":"".concat(p,"-DigestAlgorithm-field"),options:Cn(l.meta),label:u.createElement(o.bH,{htmlFor:"DigestAlgorithm"},g("".concat(Wn,".DigestAlgorithm.label"))),validate:fe(),readOnly:m}))),u.createElement(de.Z,{hidden:!0})),u.createElement(o.hj,{heading:"Advanced"},u.createElement(y.Z,null,u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"IncludeProtocolBinding",initialValue:C,ariaLabel:g("".concat(Wn,".IncludeProtocolBinding.ariaLabel")),"data-testid":"".concat(p,"-IncludeProtocolBinding-field"),label:u.createElement(o.bH,{htmlFor:"IncludeProtocolBinding"},g("".concat(Wn,".IncludeProtocolBinding.label"))),hint:g("".concat(Wn,".IncludeProtocolBinding.hint")),listen:function(e){return _(Boolean(e))},readOnly:m})),u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"IsUserIdInClaims",initialValue:L,ariaLabel:g("".concat(Wn,".IsUserIdInClaims.ariaLabel")),"data-testid":"".concat(p,"-IsUserIdInClaims-field"),label:u.createElement(o.bH,{htmlFor:"IsUserIdInClaims"},g("".concat(Wn,".IsUserIdInClaims.label"))),hint:g("".concat(Wn,".IsUserIdInClaims.hint")),listen:function(e){return N(Boolean(e))},readOnly:m})),(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(n=b.identityProviderConfig.extendedSamlConfig)||void 0===n?void 0:n.enableAssertionSigningEnabled)&&u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"isAssertionSigned",defaultValue:Boolean(ce.isAssertionSigned),ariaLabel:"Enable Assertion Signing","data-testid":"".concat(p,"-isAssertionSigned-field"),label:u.createElement(o.bH,{htmlFor:"isAssertionSigned"},g("".concat(Wn,".isAssertionSigned.label"))),hint:g("".concat(Wn,".isAssertionSigned.hint")),readOnly:m})),(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(r=b.identityProviderConfig.extendedSamlConfig)||void 0===r?void 0:r.includePublicCertEnabled)&&u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"IncludeCert",initialValue:j,ariaLabel:"Include public certificate","data-testid":"".concat(p,"-includeCert-field"),label:u.createElement(o.bH,{htmlFor:"includeCert"},g("".concat(Wn,".includeCert.label"))),hint:g("".concat(Wn,".includeCert.hint")),listen:function(e){return U(Boolean(e))},readOnly:m})),(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(i=b.identityProviderConfig.extendedSamlConfig)||void 0===i?void 0:i.includeNameIDPolicyEnabled)&&u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"IncludeNameIDPolicy",initialValue:Z,ariaLabel:"Include Name ID Policy","data-testid":"".concat(p,"-includeNameIDPolicy-field"),label:u.createElement(o.bH,{htmlFor:"IncludeNameIDPolicy"},g("".concat(Wn,".includeNameIDPolicy.label"))),hint:g("".concat(Wn,".includeNameIDPolicy.hint")),listen:function(e){return F(Boolean(e))},readOnly:m})),(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(a=b.identityProviderConfig.extendedSamlConfig)||void 0===a?void 0:a.isAssertionEncryptionEnabled)&&u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"IsAssertionEncrypted",initialValue:V,ariaLabel:"Enable Assertion Encryption","data-testid":"".concat(p,"-isEnableAssertionEncryption-field"),label:u.createElement(o.bH,{htmlFor:"IsEnableAssertionEncryption"},g("".concat(Wn,".isEnableAssertionEncryption.label"))),hint:g("".concat(Wn,".isEnableAssertionEncryption.hint")),listen:function(e){return q(Boolean(e))},readOnly:m})),b.identityProviderConfig.extendedSamlConfig.includeAuthenticationContextEnabled&&u.createElement(Jn,null,u.createElement("p",null,"Include authentication context"),[{key:1,text:"Yes",value:"yes"},{key:2,text:"No",value:"no"},{key:3,text:"As request",value:"as_request"}].map((function(e,t){return u.createElement(D.gN.Radio,{key:t,ariaLabel:"".concat(e.value," layout swatch"),name:"IncludeAuthnContext",label:e.text,required:!1,value:e.value})}))),b.identityProviderConfig.extendedSamlConfig.forceAuthenticationEnabled&&u.createElement(Jn,null,u.createElement("p",null,"Force authentication"),[{key:1,text:"Yes",value:"yes"},{key:2,text:"No",value:"no"},{key:3,text:"As request",value:"no-authn"}].map((function(e,t){return u.createElement(D.gN.Radio,{key:t,ariaLabel:"".concat(e.value," layout swatch"),name:"ForceAuthentication",label:e.text,required:!1,value:e.value})}))),b.identityProviderConfig.extendedSamlConfig.responseAuthenticationContextClassEnabled&&u.createElement(Jn,null,u.createElement("p",null,"Response Authentication Context Class"),[{key:1,text:"Default",value:"default"},{key:2,text:"As response",value:"as_response"}].map((function(e,t){return u.createElement(D.gN.Radio,{key:t,ariaLabel:"".concat(e.value," layout swatch"),name:"ResponseAuthnContextClassRef",label:e.text,required:!1,value:e.value})}))),b.identityProviderConfig.extendedSamlConfig.authContextComparisonLevelEnabled&&u.createElement(Jn,null,u.createElement(D.gN.Dropdown,{required:!1,name:"AuthnContextComparisonLevel",defaultValue:null==ce?void 0:ce.AuthnContextComparisonLevel,placeholder:g("".concat(Wn,".authContextComparisonLevel.placeholder")),ariaLabel:g("".concat(Wn,".authContextComparisonLevel.ariaLabel")),"data-testid":"".concat(p,"-authContextComparisonLevel-field"),options:[{key:1,text:"Exact",value:"Exact"},{key:2,text:"Minimum",value:"Minimum"},{key:3,text:"Maximum",value:"Maximum"},{key:4,text:"Better",value:"Better"}],label:u.createElement(o.bH,{htmlFor:"AuthnContextComparisonLevel"},g("".concat(Wn,".authContextComparisonLevel.label"))),hint:g("".concat(Wn,".authContextComparisonLevel.hint")),readOnly:m})),b.identityProviderConfig.extendedSamlConfig.attributeConsumingServiceIndexEnabled&&u.createElement(Jn,null,u.createElement(D.gN.Input,{name:"AttributeConsumingServiceIndex",value:null==S?void 0:S.attributeConsumingServiceIndex,inputType:"default",placeholder:g("".concat(Wn,".attributeConsumingServiceIndex.placeholder")),ariaLabel:g("".concat(Wn,".attributeConsumingServiceIndex.ariaLabel")),"data-testid":"".concat(p,"-attributeConsumingServiceIndex-field"),label:u.createElement(o.bH,{htmlFor:"AttributeConsumingServiceIndex"},g("".concat(Wn,".attributeConsumingServiceIndex.label"))),maxLength:Rn,minLength:kn,hint:g("".concat(Wn,".attributeConsumingServiceIndex.hint")),readOnly:m})),!(null!=v&&v.includes("identityProviders.saml.authenticationContextClass"))&&u.createElement(Jn,null,u.createElement(On.Z,{variant:"body1"},g("".concat(Wn,".authenticationContextClass.label"))),u.createElement(Sn.Z,{multiple:!0,className:"forms-wrapped-autocomplete",disableCloseOnSelect:!0,size:"small",options:$,value:Y,onChange:function(e,t){W(t)},getOptionLabel:function(e){return null==e?void 0:e.text},renderInput:function(e){return e.inputProps.className="forms-wrapped-autocomplete-render-input",u.createElement(In.Z,Hn({},e,{size:"small",placeholder:g("".concat(Wn,".authenticationContextClass.placeholder"))}))}})),!(null!=v&&v.includes("identityProviders.saml.customAuthenticationContextClass"))&&u.createElement(Jn,null,u.createElement(D.gN.Input,{label:u.createElement(o.bH,{htmlFor:"CustomAuthnContextClassRef"},g("".concat(Wn,".customAuthenticationContextClass.label"))),name:"CustomAuthnContextClassRef",maxLength:100,minLength:0,value:ce.customAuthnContextClassRef,inputType:"default",placeholder:g("".concat(Wn,".customAuthenticationContextClass.placeholder")),ariaLabel:g("".concat(Wn,".customAuthenticationContextClass.ariaLabel")),"data-testid":"".concat(p,"-customAuthenticationContextClass-field")})),u.createElement(Jn,null,u.createElement(D.gN.QueryParams,{value:null==S?void 0:S.commonAuthQueryParams,label:g("".concat(Wn,".commonAuthQueryParams.label")),ariaLabel:g("".concat(Wn,".commonAuthQueryParams.ariaLabel")),name:"commonAuthQueryParams",readOnly:m}))),u.createElement(de.Z,{hidden:!0})),b.identityProviderConfig.extendedSamlConfig.isArtifactBindingEnabled&&u.createElement(o.hj,{heading:"Artifact Binding"},u.createElement(y.Z,null,u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"ISArtifactBindingEnabled",initialValue:ce.ISArtifactBindingEnabled,ariaLabel:g("".concat(Wn,".isArtifactBindingEnabled.label")),"data-testid":"".concat(p,"-isArtifactBindingEnabled-field"),label:u.createElement(o.bH,{htmlFor:"isArtifactBindingEnabled"},g("".concat(Wn,".isArtifactBindingEnabled.label"))),readOnly:m,listen:function(e){return z(e)}})),u.createElement(Jn,null,u.createElement(D.gN.Input,{name:"ArtifactResolveUrl",value:null==S?void 0:S.ArtifactResolveUrl,inputType:"url",placeholder:g("".concat(Wn,".artifactResolveEndpointUrl.placeholder")),ariaLabel:g("".concat(Wn,".artifactResolveEndpointUrl.ariaLabel")),"data-testid":"".concat(p,"-artifactResolveEndpointUrl-field"),label:u.createElement(o.bH,{htmlFor:"artifactResolveEndpointUrl"},g("".concat(Wn,".artifactResolveEndpointUrl.label"))),maxLength:Rn,minLength:kn,readOnly:m,disabled:!B})),u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"ISArtifactResolveReqSigned",defaultValue:"true"===ce.ISArtifactResolveReqSigned,ariaLabel:"Enable Artifact resolve request signing","data-testid":"".concat(p,"-isArtifactResolveReqSigned-field"),label:u.createElement(o.bH,{htmlFor:"isArtifactResolveReqSigned"},g("".concat(Wn,".isArtifactResolveReqSigned.label"))),readOnly:m,disabled:!B})),u.createElement(Jn,null,u.createElement(D.gN.Checkbox,{required:!1,name:"ISArtifactResponseSigned",defaultValue:"true"===ce.ISArtifactResponseSigned,ariaLabel:"Enable artifact response signing","data-testid":"".concat(p,"-isArtifactResponseSigned-field"),label:u.createElement(o.bH,{htmlFor:"isArtifactResponseSigned"},g("".concat(Wn,".isArtifactResponseSigned.label"))),readOnly:m,disabled:!B})))),u.createElement(D.gN.Button,{form:$n,size:"small",buttonType:"primary_btn",ariaLabel:"SAML authenticator update button",name:"update-button","data-testid":"".concat(p,"-submit-button"),disabled:f,loading:f,label:g("common:update"),hidden:m}))};Xn.defaultProps={"data-testid":"saml-authenticator-settings-form"};var Jn=function(e){var t=e.width,n=void 0===t?16:t,r=e.children;return u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{width:n},r))};function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rr(e,t,n){var r;return r=function(e,t){if("object"!=er(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==er(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var or="siwe-authenticator-form",lr=function(e){var t,n,r,i,a,l,c,d,m,f,p,v,h,y=e.metadata,g=e.initialValues,b=e.onSubmit,E=e.readOnly,S=e.isSubmitting,I=e["data-componentid"],O=(0,s.$)().t,P=ir((0,u.useState)(void 0),2),A=P[0],T=P[1],C=ir((0,u.useState)(void 0),2),_=C[0],w=C[1];(0,u.useEffect)((function(){if(!(0,Oe.Z)(null==g?void 0:g.properties)){var e=null,t=null;g.properties.map((function(n){var r=null==y?void 0:y.properties.find((function(e){return e.key===n.key}));e=nr(nr({},e),{},rr({},n.key,{meta:r,value:n.value})),t=nr(nr({},t),{},rr({},n.key,n.value))})),T(e),w(t)}}),[g]);return u.createElement(D.l0,{id:or,uncontrolledForm:!1,onSubmit:function(e){return b(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=ir(r[n],2),a=i[0],o=i[1];void 0!==a&&t.push({key:a,value:o})}return nr(nr({},g),{},{properties:t})}(e))},initialValues:_},u.createElement(D.gN.Input,{ariaLabel:"SIWE authenticator client ID",inputType:"default",name:"ClientId",label:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientId.label"),placeholder:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientId.placeholder"),hint:u.createElement(W.c,{i18nKey:"extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientId.hint"},"The ",u.createElement(o.EK,null,"Client ID")," you received from ",u.createElement(o.EK,null,"oidc.signinwithethereum.org"),"for your OIDC client."),required:null==A||null===(t=A.ClientId)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.isMandatory,readOnly:E||(null==A||null===(n=A.ClientId)||void 0===n||null===(n=n.meta)||void 0===n?void 0:n.readOnly),value:null==A||null===(r=A.ClientId)||void 0===r?void 0:r.value,maxLength:null==A||null===(i=A.ClientId)||void 0===i||null===(i=i.meta)||void 0===i?void 0:i.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(I,"-client-id")}),u.createElement(D.gN.Input,{ariaLabel:"SIWE authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientSecret.label"),placeholder:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientSecret.placeholder"),hint:u.createElement(W.c,{i18nKey:"extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientSecret.hint"},"The ",u.createElement(o.EK,null,"Client secret")," you received ",u.createElement(o.EK,null,"oidc.signinwithethereum.org"),"for your OIDC client."),required:null==A||null===(a=A.ClientSecret)||void 0===a||null===(a=a.meta)||void 0===a?void 0:a.isMandatory,readOnly:E||(null==A||null===(l=A.ClientSecret)||void 0===l||null===(l=l.meta)||void 0===l?void 0:l.readOnly),value:null==A||null===(c=A.ClientSecret)||void 0===c?void 0:c.value,maxLength:null==A||null===(d=A.ClientSecret)||void 0===d||null===(d=d.meta)||void 0===d?void 0:d.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(I,"-client-secret")}),u.createElement(D.gN.Input,{ariaLabel:"SIWE authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.callbackUrl.label"),placeholder:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.callbackUrl.placeholder"),hint:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.callbackUrl.hint"),required:null==A||null===(m=A.callbackUrl)||void 0===m||null===(m=m.meta)||void 0===m?void 0:m.isMandatory,value:null==A||null===(f=A.callbackUrl)||void 0===f?void 0:f.value,readOnly:E||(null==A||null===(p=A.callbackUrl)||void 0===p||null===(p=p.meta)||void 0===p?void 0:p.readOnly),maxLength:null==A||null===(v=A.callbackUrl)||void 0===v||null===(v=v.meta)||void 0===v?void 0:v.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(I,"-authorized-redirect-url")}),(null==A||null===(h=A.scope)||void 0===h?void 0:h.value)&&A.scope.value.split&&A.scope.value.split(" ").length>0&&u.createElement(o.hj,{heading:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.scopes.heading")},u.createElement("div",{className:"authenticator-dynamic-properties"},A.scope.value.split(" ").map((function(e,t){var n=function(e){return e===oe.X.SIWE_SCOPE_DICTIONARY.PROFILE?{description:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.scopes.list.profile.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},e),icon:"user outline"}:e===oe.X.SIWE_SCOPE_DICTIONARY.OPENID?{description:O("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.scopes.list.openid.description"),displayName:u.createElement(o.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},e),icon:"openid"}:{description:"",displayName:e,icon:"key"}}(e);return u.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},u.createElement("div",{className:"authenticator-dynamic-property-name-container"},u.createElement(o.dn,{square:!0,inline:!0,transparent:!0,icon:u.createElement(j.Z,{name:n.icon}),size:"micro",className:"authenticator-dynamic-property-icon",spaced:"right",verticalAlign:"top"}),u.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),u.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),u.createElement(o.kW,null,u.createElement(W.c,{i18nKey:"extensions:develop.identityProviders.siwe.forms.authenticatorSettings.scopes.hint"},"The type of access provided for the connected apps to access data from Ethereum wallet."))),u.createElement(D.gN.Button,{form:or,size:"small",buttonType:"primary_btn",ariaLabel:"GitHub authenticator update button",name:"update-button","data-testid":"".concat(I,"-submit-button"),disabled:S,loading:S,label:O("common:update"),hidden:E}))};lr.defaultProps={"data-componentid":"swe-idp-authenticator-form",enableSubmitButton:!0};var cr=function(e){var t=e.authenticator,n=e.connectionSettingsMetaData,r=e.metadata,i=e.mode,a=e.initialValues,o=e.onSubmit,l=e.type,c=e.triggerSubmit,s=e.enableSubmitButton,d=e.showCustomProperties,m=e.isReadOnly,f=e.isSubmitting,p=e.templateId,v=e["data-testid"],h=Se.identityProviderConfig.editIdentityProvider.getOverriddenAuthenticatorForm(l,p,{"data-componentid":v,enableSubmitButton:s,initialValues:a,isSubmitting:f,metadata:r,onSubmit:o,readOnly:m,showCustomProperties:d,triggerSubmit:c});if(h)return h;if(p===oe.v.EXPERT_MODE_TEMPLATE_ID)return u.createElement(Pt,{mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});switch(l){case oe.v.GOOGLE_OIDC_AUTHENTICATOR_ID:return u.createElement(rn,{mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case oe.v.FACEBOOK_AUTHENTICATOR_ID:return u.createElement(Ft,{mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case oe.v.GITHUB_AUTHENTICATOR_ID:return u.createElement(Yt,{mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case pe.f.EMAIL_OTP_AUTHENTICATOR_ID:return u.createElement(kt,{mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case pe.f.SMS_OTP_AUTHENTICATOR_ID:return u.createElement(En,{initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case pe.f.SAML_AUTHENTICATOR_ID:return u.createElement(Xn,{mode:i,onSubmit:o,authenticator:t,readOnly:m,isSubmitting:f});case oe.v.MICROSOFT_AUTHENTICATOR_ID:return p===oe.v.IDP_TEMPLATE_IDS.MICROSOFT?u.createElement(mn,{mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f}):u.createElement(Pt,{mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case oe.v.SIWE_AUTHENTICATOR_ID:if(p===oe.v.IDP_TEMPLATE_IDS.SWE)return u.createElement(lr,{"data-componentid":v,enableSubmitButton:s,initialValues:a,isSubmitting:f,metadata:r,onSubmit:o,readOnly:m,showCustomProperties:d,triggerSubmit:c});break;case oe.v.HYPR_AUTHENTICATOR_ID:if(p===oe.v.IDP_TEMPLATE_IDS.HYPR)return u.createElement(Pt,{mode:i,onSubmit:o,initialValues:a,enableSubmitButton:s,triggerSubmit:c,metadata:r,"data-testid":v,showCustomProperties:d,readOnly:m});break;case oe.v.APPLE_AUTHENTICATOR_ID:return u.createElement(tt,{mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-componentid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});default:return u.createElement(Be,{connectorSettings:n,mode:i,initialValues:a,metadata:r,onSubmit:o,triggerSubmit:c,enableSubmitButton:s,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f})}};cr.defaultProps={enableSubmitButton:!0},cr.defaultProps={"data-testid":"idp-edit-authenticator-settings-form-factory"};var ur=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,i=e.onSubmit,a=e.triggerSubmit,o=e.enableSubmitButton,l=e.readOnly,c=e["data-testid"];return u.createElement(Ot,{mode:n,onSubmit:i,initialValues:r,enableSubmitButton:o,triggerSubmit:a,metadata:t,"data-testid":c,readOnly:l})};ur.defaultProps={enableSubmitButton:!0};var sr=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,i=e.onSubmit,a=(e.type,e.triggerSubmit),o=e.enableSubmitButton,l=e.isReadOnly,c=e["data-testid"];return u.createElement(u.Fragment,null,u.createElement(ur,{mode:n,initialValues:r,metadata:t,onSubmit:i,triggerSubmit:a,enableSubmitButton:o,"data-testid":c,readOnly:l}))};sr.defaultProps={enableSubmitButton:!0},sr.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings-form-factory"};var dr=n(51865),mr=n.n(dr),fr=n(84902),pr=n(40501);function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yr=function(e){return e.ENABLE_JIT_PROVISIONING_KEY="enableJITProvisioning",e.PROVISIONING_USER_STORE_DOMAIN_KEY="provisioningUserstoreDomain",e.PROVISIONING_SCHEME_TYPE_KEY="provisioningScheme",e.ASSOCIATE_LOCAL_USER="associateLocalUser",e.ATTRIBUTE_SYNC_METHOD="attributeSyncMethod",e}(yr||{}),gr=function(e){var t,n,r,i,a,l=e.initialValues,c=e.onSubmit,m=e.useStoreList,f=e.isReadOnly,p=e.isSubmitting,v=e["data-testid"],h=(0,s.$)().t,g=(0,o.fQ)().getLink,E=(0,fr.z)().isSubOrganization,S=(0,d.v9)((function(e){return e.config.ui.features})),I=vr((0,u.useState)(!1),2),O=I[0],P=I[1];(0,u.useEffect)((function(){null!=l&&l.isEnabled&&P(null==l?void 0:l.isEnabled)}),[l]);var A,T=[{label:h("authenticationProvider:forms.jitProvisioning.provisioningScheme.children.0"),value:pr.vA.PROMPT_USERNAME_PASSWORD_CONSENT},{label:h("authenticationProvider:forms.jitProvisioning.provisioningScheme.children.1"),value:pr.vA.PROMPT_PASSWORD_CONSENT},{label:h("authenticationProvider:forms.jitProvisioning.provisioningScheme.children.2"),value:pr.vA.PROMPT_CONSENT},{label:h("authenticationProvider:forms.jitProvisioning.provisioningScheme.children.3"),value:pr.vA.PROVISION_SILENTLY}],C=u.createElement("div",{style:{animationDuration:"350ms"},className:mr()("ui image warning scale transition",{"hidden animating out":O,"visible animating in":!O})},u.createElement(o.v0,{"data-componentid":"proxy-mode-conflict-warning-message","data-testid":"proxy-mode-conflict-warning-message",type:"warning",header:"Warning",content:u.createElement(u.Fragment,null,"JIT user provisioning should be enabled for external identity providers (connections) when there are MFA mechanisms such as ",u.createElement(o.EK,null,"TOTP")," and ",u.createElement(o.EK,null,"Email OTP")," configured in an application's login flow.",u.createElement(o.eb,{link:g("develop.connections.edit.advancedSettings.jit")},"Learn More"))}));return u.createElement(ge.Es,{onSubmit:function(e){return c(function(e){var t,n,r,i,a,o;return{associateLocalUser:null!==(t=null===(n=e.get(yr.ASSOCIATE_LOCAL_USER))||void 0===n?void 0:n.includes(yr.ASSOCIATE_LOCAL_USER))&&void 0!==t?t:null==l?void 0:l.associateLocalUser,attributeSyncMethod:null!==(r=null==e?void 0:e.get(yr.ATTRIBUTE_SYNC_METHOD))&&void 0!==r?r:null==l?void 0:l.attributeSyncMethod,isEnabled:null!==(i=e.get(yr.ENABLE_JIT_PROVISIONING_KEY).includes(yr.ENABLE_JIT_PROVISIONING_KEY))&&void 0!==i?i:null==l?void 0:l.isEnabled,scheme:null!==(a=e.get(yr.PROVISIONING_SCHEME_TYPE_KEY))&&void 0!==a?a:null==l?void 0:l.scheme,userstore:null!==(o=e.get(yr.PROVISIONING_USER_STORE_DOMAIN_KEY))&&void 0!==o?o:l.userstore}}(e))}},u.createElement(y.Z,null,(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(t=b.identityProviderConfig.jitProvisioningSettings)||void 0===t||null===(t=t.enableJitProvisioningField)||void 0===t?void 0:t.show)&&u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},u.createElement(ge.gN,{name:yr.ENABLE_JIT_PROVISIONING_KEY,label:"",required:!1,requiredErrorMessage:"",value:null!=l&&l.isEnabled?[yr.ENABLE_JIT_PROVISIONING_KEY]:[],type:"checkbox",listen:function(e){P(e.get(yr.ENABLE_JIT_PROVISIONING_KEY).includes(yr.ENABLE_JIT_PROVISIONING_KEY))},children:[{label:h("authenticationProvider:forms.jitProvisioning.enableJITProvisioning.label"),value:yr.ENABLE_JIT_PROVISIONING_KEY}],"data-testid":"".concat(v,"-is-enable"),readOnly:f}),u.createElement(o.kW,null,"When enabled, users who log in with this identity provider will be provisioned to your organization."),O?u.createElement(u.Fragment,null):C)),E()&&(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(n=b.identityProviderConfig.jitProvisioningSettings)||void 0===n||null===(n=n.enableAssociateLocalUserField)||void 0===n?void 0:n.show)&&u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},u.createElement(ge.gN,{name:yr.ASSOCIATE_LOCAL_USER,label:"",required:!1,disabled:!O,requiredErrorMessage:"",value:null!=l&&l.associateLocalUser?[yr.ASSOCIATE_LOCAL_USER]:[],type:"checkbox",children:[{label:h("authenticationProvider:forms.jitProvisioning.associateLocalUser.label"),value:yr.ASSOCIATE_LOCAL_USER}],"data-testid":"".concat(v,"-is-enable"),readOnly:f}),u.createElement(o.kW,null,h("authenticationProvider:forms.jitProvisioning.associateLocalUser.hint")))),null!==b.identityProviderConfig&&void 0!==b.identityProviderConfig&&null!==(r=b.identityProviderConfig.jitProvisioningSettings)&&void 0!==r&&null!==(r=r.userstoreDomainField)&&void 0!==r&&r.show?u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},u.createElement(ge.gN,{name:yr.PROVISIONING_USER_STORE_DOMAIN_KEY,label:h("authenticationProvider:forms.jitProvisioning.provisioningUserStoreDomain.label"),required:!1,requiredErrorMessage:"",type:"dropdown",default:m&&m.length>0&&m[0].name,value:null==l?void 0:l.userstore,children:(A=[],m&&(null==m||m.map((function(e){A.push({key:m.indexOf(e),text:null==e?void 0:e.name,value:null==e?void 0:e.name})}))),A),disabled:!O,"data-testid":"".concat(v,"-user-store-domain"),readOnly:f}),u.createElement(o.kW,null,h("authenticationProvider:forms.jitProvisioning.provisioningUserStoreDomain.hint")))):u.createElement(u.Fragment,null),null!==b.identityProviderConfig&&void 0!==b.identityProviderConfig&&null!==(i=b.identityProviderConfig.jitProvisioningSettings)&&void 0!==i&&null!==(i=i.provisioningSchemeField)&&void 0!==i&&i.show?u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},u.createElement(u.Fragment,null,u.createElement(ge.gN,{required:!1,requiredErrorMessage:"",label:h("authenticationProvider:forms.jitProvisioning.provisioningScheme.label"),name:yr.PROVISIONING_SCHEME_TYPE_KEY,default:null!=l&&l.scheme?null==l?void 0:l.scheme:pr.vA.PROMPT_USERNAME_PASSWORD_CONSENT,type:"radio",children:T,disabled:!O,"data-testid":"".concat(v,"-scheme"),readOnly:f}),u.createElement(o.kW,null,h("authenticationProvider:forms.jitProvisioning.provisioningScheme.hint"))))):u.createElement(u.Fragment,null),u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},u.createElement(R.di,{when:null==S||null===(a=S.identityProviders)||void 0===a||null===(a=a.scopes)||void 0===a?void 0:a.update},u.createElement(be.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:p,disabled:p,"data-testid":"".concat(v,"-update-button")},h("common:update")))))))};gr.defaultProps={"data-testid":"idp-edit-jit-provisioning-settings"};var br=n(35542),Er=n(45481);function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Or="idp-implicit-association-form",Pr=function(e){var t=e.onSubmit,n=e.isSubmitting,r=e.config,l=e["data-componentid"],c=(0,s.$)().t,m=(0,d.I0)(),f=Sr((0,u.useState)(r.isEnabled),2),p=f[0],v=f[1],h=Sr((0,u.useState)([]),2),y=h[0],g=h[1],b=Sr((0,u.useState)([]),2),E=b[0],S=b[1],I=Sr((0,u.useState)([]),2),O=I[0],P=I[1],A=Sr((0,u.useState)(r.lookupAttribute.length>0?r.lookupAttribute[0]:""),2),T=A[0],C=A[1],_=Sr((0,u.useState)(r.lookupAttribute.length>1?r.lookupAttribute[1]:""),2),w=_[0],L=_[1];(0,u.useEffect)((function(){var e=y.filter((function(e){return e.value!==T})),t=y.filter((function(e){return e.value!==w}));P(e),S(t)}),[T,w,y]),(0,u.useEffect)((function(){var e=[];(0,br.ne)(Er.Q.ATTRIBUTE_DIALECT_IDS.get("LOCAL")).then((function(t){t.forEach((function(t){oe.v.IMPLICIT_ACCOUNT_LINKING_ATTRIBUTES.includes(t.claimURI)&&e.push({key:t.id,text:u.createElement(fa,{key:t.id,displayName:t.displayName,claimURI:t.claimURI,value:t.claimURI}),value:t.claimURI})})),g(e)})).catch((function(e){var t;m((0,a.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||c("claims:dialects.notifications.fetchADialect.genericError.description"),level:i.QU.ERROR,message:(null==e?void 0:e.message)||c("claims:dialects.notifications.fetchADialect.genericError.message")}))}))}),[]);return u.createElement(D.l0,{id:Or,uncontrolledForm:!1,onSubmit:function(e){return t(function(e){var t=[];return T.length>0&&t.push(T),w.length>0&&t.push(w),{isEnabled:e.isEnabled,lookupAttribute:t.length>0?t:[""]}}(e))},"data-testid":l},u.createElement(D.gN.Checkbox,{ariaLabel:"implicitAccountLinking",name:"isEnabled",label:c("idp:forms.advancedConfigs.implicitAssociation.enable.label"),required:!1,disabled:!1,hint:c("idp:forms.advancedConfigs.implicitAssociation.enable.hint"),width:16,listen:function(e){return v(e)},"data-testid":"".concat(l,"-enable-checkbox"),defaultValue:r.isEnabled}),u.createElement(D.gN.Dropdown,{disabled:!p,ariaLabel:"Primary Lookup Attribute",name:"primaryLookupAttribute",label:c("idp:forms.advancedConfigs.implicitAssociation.primaryAttribute.label"),required:!0,value:T,options:E,"data-componentid":"".concat(l,"-primary-lookup-attribute"),listen:function(e){C(e)},placeholder:c("console:develop.features.idp.forms.advancedConfigs.implicitAssociation.primaryAttribute.placeholder"),enableReinitialize:!0,hint:u.createElement(o.kW,{disabled:!p},c("idp:forms.advancedConfigs.implicitAssociation.primaryAttribute.hint"))}),u.createElement(D.gN.Dropdown,{disabled:!p||0===(null==T?void 0:T.length),ariaLabel:"Secondary Lookup Attribute",name:"secondaryLookupAttribute",label:c("idp:forms.advancedConfigs.implicitAssociation.secondaryAttribute.label"),required:!1,value:w,options:O,"data-componentid":"".concat(l,"-secondary-lookup-attribute"),listen:function(e){L(e)},enableReinitialize:!0,placeholder:c("console:develop.features.idp.forms.advancedConfigs.implicitAssociation.secondaryAttribute.placeholder"),clearable:!0,hint:u.createElement(o.kW,{disabled:!p},c("idp:forms.advancedConfigs.implicitAssociation.secondaryAttribute.hint"))}),u.createElement(o.v0,{type:"warning",content:c("idp:forms.advancedConfigs.implicitAssociation.warning"),hidden:!p}),u.createElement(D.gN.Button,{form:Or,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button",hidden:!1,loading:n,disabled:p&&0===(null==T?void 0:T.length),"data-componentid":"".concat(l,"-submit-button"),label:c("common:update")}))};function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e,t,n){var r;return r=function(e,t){if("object"!=Ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ar(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(){_r=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:T(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,o,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,o)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,o,l){var c=d(e[i],e,a);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Ar(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=m;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ar(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new A(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(O),u(O,c,"Generator"),u(O,o,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function wr(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function Lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){wr(a,r,i,o,l,"next",e)}function l(e){wr(a,r,i,o,l,"throw",e)}o(void 0)}))}}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Pr.defaultProps={"data-componentid":"trusted-token-issuer-advanced-settings"};var kr=function(e){var t,n,r,l,c=e.editingIDP,m=e.isLoading,f=e.onDelete,p=e.onUpdate,v=e.isReadOnly,h=e.hideIdPLogoEditField,y=e.isSaml,g=e.isOidc,b=e.templateType,E=e.loader,S=e["data-testid"],I=(0,d.I0)(),O=(0,s.$)().t,P=(0,d.v9)((function(e){return e.config.ui.features})),A=Nr((0,u.useState)(!1),2),T=A[0],C=A[1],_=Nr((0,u.useState)(!1),2),L=_[0],N=_[1],k=Nr((0,u.useState)(void 0),2),D=k[0],M=k[1],x=Nr((0,u.useState)(!1),2),j=x[0],U=x[1],G=Nr((0,u.useState)(!0),2),Z=G[0],F=G[1],H=Nr((0,u.useState)(!1),2),V=H[0],q=H[1],K=(0,w.NR)(),B=K.data,z=K.isLoading,Q=K.error;(0,u.useEffect)((function(){Q&&(0,ve.GL)(Q)}),[Q]);var Y=function(e){q(!0),(0,w.wI)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){Cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:c.id},e),void 0===c.idpIssuerName).then((function(){I((0,a.V_)({description:O("authenticationProvider:notifications.updateIDP.success.description"),level:i.QU.SUCCESS,message:O("authenticationProvider:notifications.updateIDP.success.message")})),p(c.id)})).catch((function(e){(0,ve.fk)(e)})).finally((function(){q(!1)}))};return m||z?u.createElement(E,null):u.createElement(u.Fragment,null,u.createElement(ye,{isSaml:y,isOidc:g,templateType:b,hideIdPLogoEditField:h,editingIDP:c,onSubmit:Y,onUpdate:p,idpList:B,"data-testid":"".concat(S,"-form"),isReadOnly:v,isSubmitting:V}),u.createElement(de.Z,{hidden:!0}),!pe.f.DELETING_FORBIDDEN_IDPS.includes(c.name)&&u.createElement(R.di,{when:(null==P||null===(t=P.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update)||(null==P||null===(n=P.identityProviders)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.delete)},u.createElement(o.v9,{sectionHeader:O("authenticationProvider:dangerZoneGroup.header")},u.createElement(R.di,{when:null==P||null===(r=P.identityProviders)||void 0===r||null===(r=r.scopes)||void 0===r?void 0:r.update},u.createElement(o.cN,{actionTitle:O("authenticationProvider:dangerZoneGroup.disableIDP.actionTitle",{state:c.isEnabled?O("common:disable"):O("common:enable")}),header:O("authenticationProvider:dangerZoneGroup.disableIDP.header",{state:c.isEnabled?O("common:disable"):O("common:enable")}),subheader:c.isEnabled?O("authenticationProvider:dangerZoneGroup.disableIDP.subheader"):O("authenticationProvider:dangerZoneGroup.disableIDP.subheader2"),onActionClick:void 0,toggle:{checked:c.isEnabled,onChange:function(e,t){F(!0),(0,w.yz)(c.id).then(function(){var e=Lr(_r().mark((function e(n){return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===n.count?Y({isEnabled:t.checked}):I((0,a.V_)({description:O("authenticationProvider:notifications.disableIDPWithConnectedApps.error.description"),level:i.QU.WARNING,message:O("authenticationProvider:notifications.disableIDPWithConnectedApps.error.message")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){I((0,a.V_)({description:(null==e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:i.QU.ERROR,message:(null==e?void 0:e.message)||"Error Occurred."}))})).finally((function(){F(!1)}))}},"data-testid":"".concat(S,"-disable-idp-danger-zone")})),u.createElement(R.di,{when:null==P||null===(l=P.identityProviders)||void 0===l||null===(l=l.scopes)||void 0===l?void 0:l.delete},u.createElement(o.cN,{actionTitle:O("authenticationProvider:dangerZoneGroup.deleteIDP.actionTitle"),header:O("authenticationProvider:dangerZoneGroup.deleteIDP.header"),subheader:O("authenticationProvider:dangerZoneGroup.deleteIDP.subheader"),onActionClick:function(){F(!0),(0,w.yz)(c.id).then(function(){var e=Lr(_r().mark((function e(t){var n,r,o;return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.count){e.next=4;break}C(!0),e.next=11;break;case 4:return U(!0),n=t.connectedApps.map((function(e){return(0,fe.sl)(e.appId)})),e.next=8,Promise.all(n.map((function(e){return e.catch((function(e){I((0,a.V_)({description:(null==e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:i.QU.ERROR,message:(null==e?void 0:e.message)||"Error Occurred."}))}))})));case 8:r=e.sent,o=r.map((function(e){return null==e?void 0:e.name})),M(o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){I((0,a.V_)({description:(null==e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:i.QU.ERROR,message:(null==e?void 0:e.message)||"Error Occurred."}))})).finally((function(){F(!1)}))},"data-testid":"".concat(S,"-delete-idp-danger-zone")})))),T&&u.createElement(o.cV,{primaryActionLoading:L,onClose:function(){return C(!1)},type:"negative",open:T,assertion:c.name,assertionHint:O("authenticationProvider:confirmations.deleteIDP.assertionHint"),assertionType:"checkbox",primaryAction:O("common:confirm"),secondaryAction:O("common:cancel"),onSecondaryActionClick:function(){return C(!1)},onPrimaryActionClick:function(){return N(!0),void(0,w.Rd)(c.id).then((function(){I((0,a.V_)({description:O("authenticationProvider:notifications.deleteIDP.success.description"),level:i.QU.SUCCESS,message:O("authenticationProvider:notifications.deleteIDP.success.message")})),C(!1),f()})).catch((function(e){(0,ve.Xq)(e)})).finally((function(){N(!1)}))},"data-testid":"".concat(S,"-delete-idp-confirmation"),closeOnDimmerClick:!1},u.createElement(o.cV.Header,{"data-testid":"".concat(S,"-delete-idp-confirmation")},O("authenticationProvider:confirmations.deleteIDP.header")),u.createElement(o.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(S,"-delete-idp-confirmation")},O("authenticationProvider:confirmations.deleteIDP.message")),u.createElement(o.cV.Content,{"data-testid":"".concat(S,"-delete-idp-confirmation")},O("authenticationProvider:confirmations.deleteIDP.content"))),j&&u.createElement(o.cV,{onClose:function(){return U(!1)},type:"negative",open:j,secondaryAction:O("common:close"),onSecondaryActionClick:function(){return U(!1)},"data-testid":"".concat(S,"-delete-idp-confirmation"),closeOnDimmerClick:!1},u.createElement(o.cV.Header,{"data-testid":"".concat(S,"-delete-idp-confirmation")},O("authenticationProvider:confirmations.deleteIDPWithConnectedApps.header")),u.createElement(o.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(S,"-delete-idp-confirmation")},O("authenticationProvider:confirmations.deleteIDPWithConnectedApps.message")),u.createElement(o.cV.Content,{"data-testid":"".concat(S,"-delete-idp-confirmation")},O("authenticationProvider:confirmations.deleteIDPWithConnectedApps.content"),u.createElement(de.Z,{hidden:!0}),u.createElement(me.Z,{ordered:!0,className:"ml-6"},Z?u.createElement(o.pO,null):null==D?void 0:D.map((function(e,t){return u.createElement(me.Z.Item,{key:t},e)}))))))};kr.defaultProps={"data-testid":"idp-edit-general-settings",hideIdPLogoEditField:!1};var Dr=n(46440),Mr=n(26972),xr=n(93758),jr=n(28213),Ur=n(43752),Gr=n(72705);function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function Fr(){Fr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:T(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,o,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,o)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,o,l){var c=d(e[i],e,a);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Zr(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=m;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Zr(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new A(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(O),u(O,c,"Generator"),u(O,o,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Hr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Vr(e){return function(e){if(Array.isArray(e))return Wr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Br(e,t,n){var r;return r=function(e,t){if("object"!=Zr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Zr(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zr(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function Qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||Yr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){if(e){if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wr(e,t):void 0}}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $r=2048,Xr=["callbackUrl","callBackUrl"],Jr=[oe.v.GOOGLE_OIDC_AUTHENTICATOR_ID,oe.v.MS_LIVE_AUTHENTICATOR_ID,oe.v.FACEBOOK_AUTHENTICATOR_ID,oe.v.GITHUB_AUTHENTICATOR_ID,oe.v.APPLE_AUTHENTICATOR_ID,oe.v.TRUSTED_TOKEN_TEMPLATE_ID,oe.v.SAML_AUTHENTICATOR_ID,oe.v.OIDC_AUTHENTICATOR_ID],ei=function(e){var t=e.connectionSettingsMetaData,n=e.identityProvider,r=e.isLoading,l=e.onUpdate,c=e.isReadOnly,m=e.loader,v=e["data-testid"],h=(0,d.I0)(),g=(0,p.Z)().UIConfig,E=(0,s.$)().t,S=(0,d.v9)((function(e){return e.config.ui.features})),I=null==g?void 0:g.connectionTemplates,O=Qr((0,u.useState)(!1),2),P=O[0],A=O[1],T=Qr((0,u.useState)(void 0),2),C=T[0],w=T[1],L=Qr((0,u.useState)([]),2),N=L[0],k=L[1],D=Qr((0,u.useState)(void 0),2),M=D[0],x=D[1],U=Qr((0,u.useState)(void 0),2),G=U[0],Z=U[1],F=Qr((0,u.useState)(void 0),2),H=F[0],V=F[1],q=Qr((0,u.useState)(!1),2),K=q[0],B=q[1],z=Qr((0,u.useState)(!1),2),Q=z[0],Y=z[1],$=Qr((0,u.useState)([]),2),X=$[0],J=$[1],ee=Qr((0,u.useState)(void 0),1)[0],te=Qr((0,u.useState)(void 0),2),ne=te[0],re=te[1],ie=(0,d.v9)((function(e){return e.config})),ae=(0,u.useMemo)((function(){var e;return(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(e=b.identityProviderConfig.templates)||void 0===e?void 0:e.expertMode)&&n.templateId===oe.v.EXPERT_MODE_TEMPLATE_ID}),[n,b.identityProviderConfig]);(0,u.useEffect)((function(){le()}),[]),(0,u.useEffect)((function(){ge()}),[N]);var le=function(){return(0,_.Q3)().then((function(e){var t=e.filter((function(e){return e.authenticatorId!==pe.f.LEGACY_SMS_OTP_AUTHENTICATOR_ID&&e.authenticatorId!==pe.f.LEGACY_EMAIL_OTP_AUTHENTICATOR_ID}));x(t)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:E("authenticationProvider:notifications.getFederatedAuthenticatorsList.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:E("authenticationProvider:notifications.getFederatedAuthenticatorsList.error.message")})):h((0,a.V_)({description:E("authenticationProvider:notifications.getFederatedAuthenticatorsList.genericError.description"),level:i.QU.ERROR,message:E("authenticationProvider:notifications.getFederatedAuthenticatorsList.genericError.message")}))}))},ce=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ue(e),!ae&&e.authenticatorId===oe.v.GOOGLE_OIDC_AUTHENTICATOR_ID){var r=e.properties,o=!0;r.forEach((function(e){"ClientId"!==e.key&&"ClientSecret"!==e.key||(0,Oe.Z)(e.value)&&(o=!1)})),e.isEnabled=o,Se(r,"scopes")}(null==e?void 0:e.tags)&&delete e.tags,Y(!0),(0,_.$X)(n.id,e).then((function(){t&&h((0,a.V_)({description:E("authenticationProvider:notifications.updateFederatedAuthenticator.success.description"),level:i.QU.SUCCESS,message:E("authenticationProvider:notifications.updateFederatedAuthenticator.success.message")})),l(n.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:E("authenticationProvider:notifications.updateFederatedAuthenticator.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:E("authenticationProvider:notifications.updateFederatedAuthenticator.error.message")})):h((0,a.V_)({description:E("authenticationProvider:notifications.updateFederatedAuthenticator.genericError.description"),level:i.QU.ERROR,message:E("authenticationProvider:notifications.updateFederatedAuthenticator.genericError.message")}))})).finally((function(){Y(!1)}))},ue=function(e){var t,n;if(!!(null==e||null===(t=e.properties)||void 0===t||!t.find((function(e){return Xr.includes(null==e?void 0:e.key)})))){var r,i,a=null==N?void 0:N.find((function(t){return(null==e?void 0:e.authenticatorId)===(null==t?void 0:t.id)})),o=null==a||null===(n=a.data)||void 0===n||null===(n=n.properties)||void 0===n?void 0:n.findIndex((function(e){return Xr.includes(null==e?void 0:e.key)}));if(o>=0)null==e||null===(r=e.properties)||void 0===r||r.push(null==a||null===(i=a.data)||void 0===i?void 0:i.properties[o])}},se=function(e){return new Promise((function(t){(0,_.pD)(n.id,e).then((function(n){(0,_.go)(e).then((function(r){t({data:n,id:e,meta:r})})).catch((function(e){(0,ve.Rw)(e)}))})).catch((function(e){!function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:E("authenticationProvider:notifications.getFederatedAuthenticator.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:E("authenticationProvider:notifications.getFederatedAuthenticator.error.message")})):h((0,a.V_)({description:E("authenticationProvider:notifications.getFederatedAuthenticator.genericError.description"),level:i.QU.ERROR,message:E("authenticationProvider:notifications.getFederatedAuthenticator.genericError.message")}))}(e)}))}))};function de(){var e;return e=Fr().mark((function e(){var t,r,i,a;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=Hr(n.federatedAuthenticators.authenticators),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=13;break}return a=i.value,e.t0=t,e.next=9,se(a.authenticatorId);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(2),r.e(e.t2);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})),de=function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){zr(a,r,i,o,l,"next",e)}function l(e){zr(a,r,i,o,l,"throw",e)}o(void 0)}))},de.apply(this,arguments)}(0,u.useEffect)((function(){var e;(0,Oe.Z)(null===(e=n.federatedAuthenticators)||void 0===e?void 0:e.authenticators)||(re(!0),k([]),function(){return de.apply(this,arguments)}().then((function(e){var t=e[0].data;if(ae||(t.isEnabled=!0),!n.federatedAuthenticators.defaultAuthenticatorId&&n.federatedAuthenticators.authenticators.length>0){var r;t.isDefault=!0;var i=Boolean(null==n||null===(r=n.federatedAuthenticators)||void 0===r?void 0:r.defaultAuthenticatorId);ce(t,i)}k(e)})).finally((function(){return re(!1)})))}),[null==n?void 0:n.federatedAuthenticators]);var me,fe=function(e,t,n){var r=N.find((function(e){return e.id===n})).data;r.isDefault=t.checked,ce(r)},he=function(e,t,r){var o=N.find((function(e){return e.id===r})).data;o.isDefault&&!t.checked?(h((0,a.V_)({description:E("authenticationProvider:notifications.disableAuthenticator.error.description"),level:i.QU.WARNING,message:E("authenticationProvider:notifications.disableAuthenticator.error.message")})),l(n.id)):(o.isEnabled=t.checked,ce(o))},ye=function(e,t){if(t){var n=N.find((function(e){return e.id===t}));n&&(w(n.data),A(!0))}},ge=function(){var e,t,n,r=null==N?void 0:N.map((function(e){return e.id})),i=null==I?void 0:I.filter((function(e){var t,n;return(null==e||null===(t=e.idp)||void 0===t||null===(t=t.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)&&!(null!=r&&r.includes(null==e||null===(n=e.idp)||void 0===n||null===(n=n.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId))}));null==i||i.sort((function(e,t){return(null==e?void 0:e.displayOrder)>(null==t?void 0:t.displayOrder)?1:-1}));var a=(0,Mr.Z)((0,Ur.e)(),"authenticatorId"),o=(0,Dr.Z)(M);o=null===(n=o=null===(t=o=null===(e=o)||void 0===e?void 0:e.filter((function(e){return!Jr.includes(e.authenticatorId)})))||void 0===t?void 0:t.map((function(e){return Kr(Kr({},e),a[null==e?void 0:e.authenticatorId])})))||void 0===n?void 0:n.filter((function(e){return!r.includes(null==e?void 0:e.authenticatorId)&&(null==e?void 0:e.authenticatorId)!==oe.v.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID})),V(o),Z(i)},be=function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.isDefault},Ee=function(e){var t,n,r,i,a=be(e);return[(null==N?void 0:N.length)>1&&{defaultChecked:a,disabled:(null===(t=e.data)||void 0===t?void 0:t.isDefault)||!(null!==(n=e.data)&&void 0!==n&&n.isEnabled),label:E(a?"authenticationProvider:forms.authenticatorAccordion.default.0":"authenticationProvider:forms.authenticatorAccordion.default.1"),onChange:fe,type:"checkbox"},(null==N?void 0:N.length)>1&&{defaultChecked:null===(r=e.data)||void 0===r?void 0:r.isEnabled,disabled:a,label:E(null!==(i=e.data)&&void 0!==i&&i.isEnabled?"authenticationProvider:forms.authenticatorAccordion.enable.0":"authenticationProvider:forms.authenticatorAccordion.enable.1"),onChange:he,type:"toggle"}]},Se=function(e,t){var n=e.find((function(e){return e.key===t})),r=e.indexOf(n);r>=0&&e.splice(r,1)},Ie=function(e,t){if(t){var n=Vr(X);if(n.includes(t.accordionIndex)){var r=n.indexOf(t.accordionIndex);n.splice(r,1)}else n.push(t.accordionIndex);J(n)}},Pe=function(){ge(),B(!0)};return r||ne?u.createElement(m,null):u.createElement("div",{className:"authentication-section"},u.createElement(y.Z,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:16},u.createElement(o.pJ,{padded:"very"},function(){if(N.length>0){var e,r;if(ae)return d=function(e){var t=(0,Ur.e)().find((function(t){return(null==t?void 0:t.authenticatorId)===(null==e?void 0:e.id)?t:null}));return null!=t&&t.icon?t.icon:(0,jr.xs)().default},m=function(e){var t,n,r=(0,Ur.e)().find((function(t){return(null==t?void 0:t.authenticatorId)===(null==e?void 0:e.id)?t:null}));return null!=r&&r.displayName?r.displayName:(null===(t=e.meta)||void 0===t?void 0:t.displayName)||(null==e||null===(n=e.data)||void 0===n?void 0:n.name)||e.id},u.createElement(y.Z,null,(null==N?void 0:N.length)>1&&u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:16,textAlign:"right"},u.createElement(o.KM,{onClick:Pe,disabled:oe.v.SHOW_PREDEFINED_TEMPLATES_IN_EXPERT_MODE_SETUP?(0,Oe.Z)(G)&&(0,Oe.Z)(H):(0,Oe.Z)(H),loading:ee,"data-testid":"".concat(v,"-add-authenticator-button")},u.createElement(j.Z,{name:"add"}),E("authenticationProvider:buttons.addAuthenticator")))),u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:16},N.map((function(e,r){var i,a;return u.createElement(xr.Us,{key:r,globalActions:[{disabled:(null==N?void 0:N.length)>1&&be(e),icon:"trash alternate",onClick:ye,popoverText:"Remove Authenticator",type:"icon"}],authenticators:[{actions:Ee(e),content:e&&u.createElement(cr,{connectionSettingsMetaData:t,mode:ze.Pk.CREATE,authenticator:e,metadata:e.meta,showCustomProperties:e.id!==oe.v.GITHUB_AUTHENTICATOR_ID,initialValues:e.data,onSubmit:ce,type:e.id,"data-testid":"".concat(v,"-").concat(null===(i=e.meta)||void 0===i?void 0:i.name,"-content"),isReadOnly:c,isSubmitting:Q,templateId:n.templateId}),hideChevron:(null==N?void 0:N.length)<=1||(0,Oe.Z)(null===(a=e.meta)||void 0===a?void 0:a.properties),icon:{icon:d(e)},id:null==e?void 0:e.id,title:m(e)}],accordionActiveIndexes:(null==N?void 0:N.length)>1?X:[0],accordionIndex:r,handleAccordionOnClick:Ie,"data-testid":"".concat(v,"-accordion")})})))));var i,a=N.find((function(e){return n.federatedAuthenticators.defaultAuthenticatorId===e.id}));if(!a)return;if(a.id===oe.v.OIDC_AUTHENTICATOR_ID)if(a.meta.properties.map((function(e){"ClientId"===e.key?(e.displayName="Client ID",e.description="The client identifier value of the identity provider.",e.maxLength=100):"ClientSecret"===e.key?(e.displayName="Client secret",e.description="The client secret value of the identity provider.",e.maxLength=100):"callbackUrl"===e.key?(e.displayName="Authorized redirect URL",e.description="The ".concat(ie.ui.productName," URL to which the user needs to be redirected\n                            after completing the authentication at the identity provider. The\n                            identity provider needs to send the authorization code to this URL upon\n                            successful authentication."),e.readOnly=!0):"OAuth2AuthzEPUrl"===e.key?(e.displayName="Authorization endpoint URL",e.description="The standard authorization endpoint URL obtained from the identity provider.",e.maxLength=$r):"OAuth2TokenEPUrl"===e.key?(e.displayName="Token endpoint URL",e.description="The standard token endpoint URL obtained from the identity provider.",e.maxLength=$r):"UserInfoUrl"===e.key?(e.displayName="User info endpoint URL",e.description="The URL corresponding to the userinfo endpoint.",e.maxLength=$r):"commonAuthQueryParams"===e.key?(e.displayName="Additional query parameters",e.description="These  will be sent to the identity provider as query parameters in the authentication request. \nE.g., loginHint=hint1"):"IsBasicAuthEnabled"===e.key&&(e.displayName="Enable HTTP basic authentication for client authentication",e.description="Specify whether to enable HTTP basic authentication. Unless, client credentials will be sent in the request body")})),Se(a.meta.properties,"IsUserIdInClaims"),null===(i=a.meta.properties)||void 0===i||!i.find((function(e){return"OIDCLogoutEPUrl"===e.key}))){a.data.properties.push({key:"OIDCLogoutEPUrl"});var l={description:"The URL of the identity provider to which\n                         ".concat(ie.ui.productName," will send session\n                            invalidation requests."),displayName:"Logout URL",displayOrder:7,isConfidential:!1,isMandatory:!1,key:"OIDCLogoutEPUrl",options:[],subProperties:[],type:"URL"};a.meta.properties.push(l)}return u.createElement(cr,{connectionSettingsMetaData:t,mode:ze.Pk.EDIT,authenticator:a,metadata:a.meta,initialValues:a.data,onSubmit:ce,type:null===(e=a.meta)||void 0===e?void 0:e.authenticatorId,"data-testid":"".concat(v,"-").concat(null===(r=a.meta)||void 0===r?void 0:r.name,"-content"),isReadOnly:c,isSubmitting:Q,templateId:n.templateId})}var s,d,m;return u.createElement(o.$J,{action:u.createElement(R.di,{when:null==S||null===(s=S.identityProviders)||void 0===s||null===(s=s.scopes)||void 0===s?void 0:s.update},u.createElement(o.KM,{onClick:Pe,loading:ee,"data-testid":"".concat(v,"-add-authenticator-button")},u.createElement(j.Z,{name:"add"}),E("authenticationProvider:buttons.addAuthenticator"))),image:(0,f.jF)().newList,imageSize:"tiny",title:E("authenticationProvider:placeHolders.emptyAuthenticatorList.title"),subtitle:[E("authenticationProvider:placeHolders.emptyAuthenticatorList.subtitles.0"),E("authenticationProvider:placeHolders.emptyAuthenticatorList.subtitles.1"),E("authenticationProvider:placeHolders.emptyAuthenticatorList.subtitles.2")],"data-testid":"".concat(v,"-empty-placeholder")})}())))),C&&u.createElement(o.cV,{onClose:function(){return A(!1)},type:"negative",open:P,assertion:null==C?void 0:C.name,assertionHint:u.createElement("p",null,u.createElement(W.c,{i18nKey:"authenticationProvider:confirmations.deleteAuthenticator.assertionHint",tOptions:{name:null==C?void 0:C.name}},"Please type ",u.createElement("strong",null,null==C?void 0:C.name)," to confirm.")),assertionType:"input",primaryAction:E("common:confirm"),secondaryAction:E("common:cancel"),onSecondaryActionClick:function(){return A(!1)},onPrimaryActionClick:function(){return function(e){var t=[],r=N.find((function(t){return t.id===e}));N.map((function(e){e.id!==r.id&&t.push(e.data)}));var o={authenticators:t,defaultAuthenticatorId:0!==(null==t?void 0:t.length)?n.federatedAuthenticators.defaultAuthenticatorId:""};(0,_.Fv)(o,n.id).then((function(){h((0,a.V_)({description:E("authenticationProvider:notifications.updateFederatedAuthenticators.success.description"),level:i.QU.SUCCESS,message:E("authenticationProvider:notifications.updateFederatedAuthenticators.success.message")})),l(n.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:E("authenticationProvider:notifications.updateFederatedAuthenticators.error.message")})):h((0,a.V_)({description:E("authenticationProvider:notifications.updateFederatedAuthenticators.genericError.description"),level:i.QU.ERROR,message:E("authenticationProvider:notifications.updateFederatedAuthenticators.genericError.message")}))})),w(void 0),A(!1)}(C.authenticatorId)},"data-testid":"".concat(v,"-authenticator-delete-confirmation"),closeOnDimmerClick:!1},u.createElement(o.cV.Header,{"data-testid":"".concat(v,"-authenticator-delete-confirmation")},E("authenticationProvider:confirmations.deleteAuthenticator.header")),u.createElement(o.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(v,"-authenticator-delete-confirmation")},E("authenticationProvider:confirmations.deleteAuthenticator.message")),u.createElement(o.cV.Content,{"data-testid":"".concat(v,"-authenticator-delete-confirmation")},E("authenticationProvider:confirmations.deleteAuthenticator.content"))),K&&u.createElement(Gr.P,{title:E("authenticationProvider:modals.addAuthenticator.title"),subTitle:E("authenticationProvider:modals.addAuthenticator.subTitle",{idpName:n.name}),closeWizard:function(){B(!1),k([]),l(n.id)},manualModeOptions:H,availableTemplates:oe.v.SHOW_PREDEFINED_TEMPLATES_IN_EXPERT_MODE_SETUP&&G,idpId:n.id,isDefaultAuthenticatorAvailable:!(null==n||null===(me=n.federatedAuthenticators)||void 0===me||!me.defaultAuthenticatorId),"data-testid":"".concat(v,"-authenticator-create-wizard")}))};ei.defaultProps={"data-testid":"idp-edit-authenticator-settings"};var ti=n(51558),ni=n(23587),ri=n(77757),ii=n(12742);function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ci(e,t,n){var r;return r=function(e,t){if("object"!=ai(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ai(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e){return function(e){if(Array.isArray(e))return mi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||di(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||di(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){if(e){if("string"==typeof e)return mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(e,t):void 0}}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fi=function(e){var t,n,r=e.idpId,l=e.idpRoles,c=e.isReadOnly,f=e.onUpdate,p=e["data-testid"],v=si((0,u.useState)(void 0),2),h=v[0],g=v[1],b=si((0,u.useState)(void 0),2),E=b[0],S=b[1],I=si((0,u.useState)(void 0),2),O=I[0],P=I[1],A=si((0,u.useState)(!1),2),T=A[0],C=A[1],_=(0,d.I0)(),L=(0,fr.z)().isSuperOrganization,N=(0,s.$)().t,k=(0,d.v9)((function(e){return e.config.ui.features}));(0,u.useEffect)((function(){L()&&((0,ii.Sd)(null).then((function(e){if(200===e.status){var t,n=e.data;P(null==n||null===(t=n.Resources)||void 0===t?void 0:t.filter((function(e){return!(e.displayName.includes("Application/")||e.displayName.includes("Internal/"))})))}})).catch((function(e){(0,ve.A0)(e)})),S(void 0===l.outboundProvisioningRoles?[]:l.outboundProvisioningRoles))}),[]);return u.createElement(y.Z,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:8},u.createElement(o.X6,{as:"h5"},N("authenticationProvider:forms.outboundProvisioningRoles.heading")))),u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:8},u.createElement(ri.Z,{className:"outbound-provisioning-roles role-select-dropdown"},u.createElement(ri.Z.Select,{options:null==O?void 0:O.map((function(e){return{key:e.id,text:e.displayName,value:e.displayName}})),value:h,placeholder:N("authenticationProvider:forms.outboundProvisioningRoles.placeHolder"),onChange:function(e,t){var n;(0,Oe.Z)(null==t||null===(n=t.value)||void 0===n?void 0:n.toString())||g(t.value.toString())},search:!0,label:N("authenticationProvider:forms.outboundProvisioningRoles.label"),"data-testid":"".concat(p,"-role-select-dropdown"),readOnly:c}),u.createElement(o.GI,{trigger:u.createElement(R.di,{when:null==k||null===(t=k.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},u.createElement(be.Z,{onClick:function(e){return function(e){e.preventDefault(),(0,Oe.Z)(h)||((0,Oe.Z)(E.find((function(e){return e===h})))&&S([].concat(ui(E),[h])),g(""))}(e)},icon:"add",disabled:!1,className:"inline"})),position:"top center",content:N("authenticationProvider:forms.outboundProvisioningRoles.popup.content"),inverted:!0,"data-testid":"".concat(p,"-add-button")})),u.createElement(o.kW,null,N("authenticationProvider:forms.outboundProvisioningRoles.hint")),E&&(null==E?void 0:E.map((function(e,t){var n;return u.createElement(R.di,{key:t,when:null==k||null===(n=k.identityProviders)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},u.createElement(m.Z,null,e,u.createElement(j.Z,{name:"delete",onClick:function(){return t=e,void((0,Oe.Z)(t)||S((0,ti.Z)(E,(function(e){return!(0,ni.Z)(t,e)}))));var t},"data-testid":"".concat(p,"-delete-button")})))}))))),u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:8},u.createElement(R.di,{when:null==k||null===(n=k.identityProviders)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},u.createElement(be.Z,{primary:!0,size:"small",loading:T,disabled:T,onClick:function(){var e;void 0!==E&&(e=E,C(!0),(0,w.Am)(r,li(li({},l),{},{outboundProvisioningRoles:e})).then((function(){_((0,a.V_)({description:N("authenticationProvider:notifications.updateIDPRoleMappings.success.description"),level:i.QU.SUCCESS,message:N("authenticationProvider:notifications.updateIDPRoleMappings.success.message")})),f(r)})).catch((function(e){(0,ve.St)(e)})).finally((function(){C(!1)})))},"data-testid":"".concat(p,"-update-button")},N("common:update"))))))};fi.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings-roles"};var pi=n(54126),vi=n(9592),hi=n(62170),yi=n(95165);function gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ei=function(e){var t=e.initialSelection,n=e.onSubmit,r=e.triggerSubmit,i=e["data-testid"],a=(0,s.$)().t,l=gi((0,u.useState)(void 0),2),c=l[0],d=l[1];(0,u.useEffect)((function(){vi.v&&Array.isArray(vi.v)&&vi.v.length>0&&d(vi.v.find((function(e){return t===e.connectorId})))}),[t]);return u.createElement(ge.Es,{onSubmit:function(){n({connectorId:null==c?void 0:c.connectorId})},submitState:r},u.createElement(o.X6,{as:"h4"},a("authenticationProvider:wizards.addProvisioningConnector.steps.connectorSelection.defaultSetup.title"),u.createElement(o.X6,{subHeading:!0,as:"h6"},a("authenticationProvider:wizards.addProvisioningConnector.steps.connectorSelection.defaultSetup.subTitle"))),u.createElement(yi.Z.Group,{className:"authenticators-grid mt-3"},vi.v&&vi.v.length>0?vi.v.map((function(e,t){return u.createElement(yi.Z,{key:t,onClick:function(){return function(e){d(e)}(e)},selected:c?(null==c?void 0:c.connectorId)===(null==e?void 0:e.connectorId):0===t,className:(null==c?void 0:c.connectorId)===(null==e?void 0:e.connectorId)?"selection-info-card selected":"selection-info-card",size:"small","data-testid":"".concat(i,"-connector-").concat(t)},u.createElement(yi.Z.Content,{className:"p-4"},u.createElement(o.dn,{icon:e.icon,size:"micro",floated:"left",shape:"square",className:"theme-icon hover-rounded card-image",inline:!0,transparent:!0}),u.createElement(yi.Z.Header,{textAlign:"left",className:"card-header ellipsis pt-1"},e.displayName),u.createElement(yi.Z.Description,{className:"card-description"},e.description)))})):null))};function Si(e){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(e)}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){Pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pi(e,t,n){var r;return r=function(e,t){if("object"!=Si(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Si(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Si(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ai=function(e){var t,n=e.metadata,r=e.initialValues,i=e.isLoading,a=e.onSubmit,l=e.triggerSubmit,c=e["data-testid"];return i?u.createElement(o.pO,null):u.createElement(sr,{mode:ze.Pk.EDIT,metadata:n,initialValues:null==r||null===(t=r.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t?void 0:t.connectors[0],onSubmit:function(e){a(Oi(Oi({},r),{},{provisioning:Oi(Oi({},null==r?void 0:r.provisioning),{},{outboundConnectors:{connectors:[Oi(Oi({},e),{},{isDefault:!0})],defaultConnectorId:null==e?void 0:e.connectorId}})}))},triggerSubmit:l,enableSubmitButton:!1,"data-testid":c})},Ti=n(46978);function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){Li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Li(e,t,n){var r;return r=function(e,t){if("object"!=Ci(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ci(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ci(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ri(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ki=function(e){return e.CONNECTOR_SELECTION="ConnectorSelection",e.CONNECTOR_DETAILS="ConnectorDetails",e.SUMMARY="summary",e}(ki||{}),Di=function(e){var t,n,r,l,c=e.identityProvider,m=e.closeWizard,f=e.currentStep,p=e.onUpdate,v=e["data-testid"],h=(0,s.$)().t,g=(0,d.I0)(),b=Ni((0,ge.cC)(),2),E=b[0],S=b[1],I=Ni((0,ge.cC)(),2),O=I[0],P=I[1],A=Ni((0,ge.cC)(),2),T=A[0],C=A[1],_=Ni((0,u.useState)(void 0),2),L=_[0],N=_[1],R=Ni((0,u.useState)(f),2),k=R[0],D=R[1],M=Ni((0,u.useState)(void 0),2),x=M[0],G=M[1],Z=Ni((0,u.useState)([]),2),F=Z[0],H=Z[1],V=Ni((0,u.useState)(void 0),2),q=V[0],K=V[1],B=Ni((0,u.useState)(void 0),2),z=B[0],Q=B[1],Y=Ni((0,u.useState)(!1),2),W=Y[0],$=Y[1],X=Ni((0,u.useState)(void 0),2),J=X[0],ee=X[1],te=Ni((0,u.useState)(!1),2),ne=te[0],re=te[1],ie=Ni((0,o.IK)(),3),ae=ie[0],oe=ie[1],le=ie[2];(0,u.useEffect)((function(){F&&Array.isArray(F)&&F.length>0&&G(Li({},ki.CONNECTOR_SELECTION,{connectorId:F[0].connectorId}))}),[F]),(0,u.useEffect)((function(){void 0!==L&&(D(k-1),N(void 0))}),[L]),(0,u.useEffect)((function(){var e,t;if(void 0!==z){var n=wi({},z);delete(n=wi(wi({},n),{},{connectorId:null===(e=x[ki.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,properties:null===(t=x[ki.CONNECTOR_DETAILS])||void 0===t||null===(t=t.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t||null===(t=t.connectors[0])||void 0===t?void 0:t.properties})).displayName,(0,w.Wm)(c.id,n).then((function(){g((0,a.V_)({description:h("authenticationProvider:notifications.updateOutboundProvisioningConnector.success.description"),level:i.QU.SUCCESS,message:h("authenticationProvider:notifications.updateOutboundProvisioningConnector.success.message")})),p(c.id)})).catch((function(e){(0,ve.hN)(e)}))}}),[z]),(0,u.useEffect)((function(){(0,w.xy)().then((function(e){H(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?oe({description:h("authenticationProvider:notifications.getOutboundProvisioningConnectorsList.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:h("authenticationProvider:notifications.getOutboundProvisioningConnectorsList.error.message")}):oe({description:h("authenticationProvider:notifications.getOutboundProvisioningConnectorsList.genericError.description"),level:i.QU.ERROR,message:h("authenticationProvider:notifications.getOutboundProvisioningConnectorsList.genericError.message")})}))}),[]),(0,u.useEffect)((function(){var e;if(x||q){$(!0);var t=null===(e=x[ki.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,n=F.find((function(e){return e.connectorId===t}));n=wi(wi({},n),{},{isEnabled:!0}),ee(n),(0,w.PL)(t).then((function(e){K(e)})).catch((function(e){(0,ve.x8)(e)})).finally((function(){$(!1)}))}}),[x&&(null===(t=x[ki.CONNECTOR_SELECTION])||void 0===t?void 0:t.connectorId)]),(0,u.useEffect)((function(){var e;if(x||J){var t=null===(e=x[ki.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,n=F.find((function(e){return e.connectorId===t}));n=wi(wi({},n),{},{isEnabled:!0}),ee(n)}}),[x&&(null===(n=x[ki.CONNECTOR_SELECTION])||void 0===n?void 0:n.connectorId)]);var ce=function(){switch(k){case 0:S();break;case 1:P();break;case 2:re(!0),C()}},ue=function(e,t){D(k+1),G(wi(wi({},x),{},Li({},t,e)))},se=[{content:u.createElement(Ei,{initialSelection:x&&(null===(r=x[ki.CONNECTOR_SELECTION])||void 0===r?void 0:r.connectorId),triggerSubmit:E,onSubmit:function(e){ue(e,ki.CONNECTOR_SELECTION)},connectorList:F,"data-testid":"".concat(v,"-connector-selection")}),icon:(0,jr.df)().connectorSelection,title:h("authenticationProvider:wizards.addProvisioningConnector.steps.connectorSelection.title")},{content:u.createElement(Ai,{metadata:q,isLoading:W,initialValues:null!==(l=x&&x[ki.CONNECTOR_DETAILS])&&void 0!==l?l:c,onSubmit:function(e){return ue(e,ki.CONNECTOR_DETAILS)},triggerSubmit:O,defaultConnector:J,"data-testid":"".concat(v,"-provisioning-settings")}),icon:(0,jr.df)().connectorDetails,title:h("authenticationProvider:wizards.addProvisioningConnector.steps.connectorConfiguration.title")},{content:u.createElement(Ti.v,{provisioningConnectorMetadata:q,authenticatorMetadata:void 0,triggerSubmit:T,identityProvider:function(){if(x){for(var e=wi({},x),t={},n=0,r=Object.values(e);n<r.length;n++){var i=r[n];t=wi(wi({},t),i)}return(0,hi.Z)((0,Dr.Z)(t))}}(),onSubmit:function(){var e;(0,w.PL)(null===(e=x[ki.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId).then((function(e){Q(e)})).finally((function(){re(!1),m()}))},"data-testid":"".concat(v,"-summary")}),icon:(0,jr.df)().summary,title:h("authenticationProvider:wizards.addProvisioningConnector.steps.summary.title")}];return u.createElement(U.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:m,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(v,"-modal")},u.createElement(U.Z.Header,{className:"wizard-header","data-testid":"".concat(v,"-modal-header")},h("authenticationProvider:modals.addProvisioningConnector.title"),u.createElement(o.X6,{as:"h6"},h("authenticationProvider:modals.addProvisioningConnector.subTitle"))),u.createElement(U.Z.Content,{className:"steps-container","data-testid":"".concat(v,"-modal-content-1")},u.createElement(o.Rg.Group,{header:h("authenticationProvider:wizards.addProvisioningConnector.header"),current:k},se.map((function(e,t){return u.createElement(o.Rg.Step,{key:t,icon:e.icon,title:e.title})})))),u.createElement(U.Z.Content,{className:"content-container",scrolling:!0,"data-testid":"".concat(v,"-modal-content-2")},ae&&le,se[k].content),u.createElement(U.Z.Actions,{"data-testid":"".concat(v,"-modal-actions")},u.createElement(y.Z,null,u.createElement(y.Z.Row,{column:1},u.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.Qj,{floated:"left",onClick:function(){return m()},"data-testid":"".concat(v,"-modal-cancel-button")},h("common:cancel"))),u.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},k<se.length-1&&u.createElement(o.KM,{floated:"right",onClick:ce,loading:W,disabled:W,"data-testid":"".concat(v,"-modal-next-button")},h("authenticationProvider:wizards.buttons.next"),u.createElement(j.Z,{name:"arrow right"})),k===se.length-1&&u.createElement(o.KM,{floated:"right",onClick:ce,loading:ne,disabled:ne,"data-testid":"".concat(v,"-modal-finish-button")},h("authenticationProvider:wizards.buttons.finish")),k>0&&u.createElement(o.Qj,{floated:"right",onClick:function(){N(k)},"data-testid":"".concat(v,"-modal-previous-button")},u.createElement(j.Z,{name:"arrow left"}),h("authenticationProvider:wizards.buttons.previous")))))))};function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function xi(){xi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:T(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,o,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,o)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,o,l){var c=d(e[i],e,a);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Mi(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=m;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Mi(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new A(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(O),u(O,c,"Generator"),u(O,o,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function ji(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Fi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Ui(e){return function(e){if(Array.isArray(e))return Hi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function Zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||Fi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(e,t){if(e){if("string"==typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hi(e,t):void 0}}function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Di.defaultProps={currentStep:0,"data-testid":"idp-edit-provisioning-connector-create-wizard"};var Vi=function(e){var t,n,r=e.identityProvider,l=e.outboundConnectors,c=e.isLoading,m=e.onUpdate,p=e.isReadOnly,v=e["data-testid"],h=(0,d.I0)(),g=(0,s.$)().t,b=(0,d.v9)((function(e){return e.config.ui.features})),E=Zi((0,u.useState)(!1),2),S=E[0],I=E[1],O=Zi((0,u.useState)(!1),2),P=O[0],A=O[1],T=Zi((0,u.useState)([]),2),C=T[0],_=T[1],L=Zi((0,u.useState)(void 0),2),N=L[0],k=L[1],D=Zi((0,u.useState)([]),2),M=D[0],U=D[1];(0,u.useEffect)((function(){_([]),function(){return Z.apply(this,arguments)}().then((function(e){_(e)}))}),[r]);var G=function(e){return new Promise((function(t){(0,w.T_)(r.id,e).then((function(n){(0,w.PL)(e).then((function(r){t({data:n,id:e,localMeta:null===vi.v||void 0===vi.v?void 0:vi.v.find((function(t){return t.connectorId===e})),meta:r})})).catch((function(e){(0,ve.x8)(e)}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:g("authenticationProvider:notifications.getOutboundProvisioningConnector.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:g("authenticationProvider:notifications.getOutboundProvisioningConnector.error.message")})):h((0,a.V_)({description:g("authenticationProvider:notifications.getOutboundProvisioningConnector.genericError.description"),level:i.QU.ERROR,message:g("authenticationProvider:notifications.getOutboundProvisioningConnector.genericError.message")}))}))}))};function Z(){var e;return e=xi().mark((function e(){var t,n,i,a;return xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=ji(r.provisioning.outboundConnectors.connectors),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=13;break}return a=i.value,e.t0=t,e.next=9,G(a.connectorId);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(2),n.e(e.t2);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})),Z=function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Gi(a,r,i,o,l,"next",e)}function l(e){Gi(a,r,i,o,l,"throw",e)}o(void 0)}))},Z.apply(this,arguments)}var F=function(e){(0,w.Wm)(r.id,e).then((function(){h((0,a.V_)({description:g("authenticationProvider:notifications.updateOutboundProvisioningConnector.success.description"),level:i.QU.SUCCESS,message:g("authenticationProvider:notifications.updateOutboundProvisioningConnector.success.message")})),m(r.id)})).catch((function(e){(0,ve.hN)(e)}))},H=function(e,t){if(t){var n=C.find((function(e){return e.id==t}));n&&(k(n),I(!0))}},V=function(e,t,n){var r=C.find((function(e){return e.id===n})).data;r.isEnabled=t.checked,F(r)},q=function(e){var t,n;return[{defaultChecked:null===(t=e.data)||void 0===t?void 0:t.isEnabled,label:g(null!==(n=e.data)&&void 0!==n&&n.isEnabled?"authenticationProvider:forms.outboundConnectorAccordion.enable.0":"authenticationProvider:forms.outboundConnectorAccordion.enable.1"),onChange:V,type:"toggle"}]},K=function(e,t){if(t){var n=Ui(M);if(n.includes(t.accordionIndex)){var r=n.indexOf(t.accordionIndex);n.splice(r,1)}else n.push(t.accordionIndex);U(n)}};return u.createElement(o.pJ,{padded:"very"},u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:8},u.createElement(o.X6,{as:"h4"},g("idp:forms.outboundProvisioningTitle")))),l.connectors.length>0?c?u.createElement(o.pO,null):u.createElement("div",{className:"default-provisioning-connector-section"},u.createElement(y.Z,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,null,u.createElement(R.di,{when:null==b||null===(t=b.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},u.createElement(o.KM,{floated:"right",onClick:function(){return A(!0)},"data-testid":"".concat(v,"-add-connector-button")},u.createElement(j.Z,{name:"add"}),g("authenticationProvider:buttons.addConnector"))))),u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,null,C.filter((function(e){return e.id!==pe.f.DEPRECATED_SCIM1_PROVISIONING_CONNECTOR_ID})).map((function(e,t){var n,r,i,a,o,l,c;return u.createElement(f.Us,{key:t,globalActions:[{disabled:null===(n=e.data)||void 0===n?void 0:n.isEnabled,icon:"trash alternate",onClick:H,type:"icon"}],authenticators:[{actions:q(e),content:u.createElement(sr,{mode:ze.Pk.EDIT,metadata:e.meta,initialValues:e.data,onSubmit:F,type:null===(r=e.meta)||void 0===r?void 0:r.name,"data-testid":"".concat(v,"-").concat(null===(i=e.meta)||void 0===i?void 0:i.name,"-content"),isReadOnly:p}),icon:{icon:null==e||null===(a=e.localMeta)||void 0===a?void 0:a.icon,verticalAlign:"middle"},id:null==e?void 0:e.id,title:null!==(o=null==e||null===(l=e.localMeta)||void 0===l?void 0:l.displayName)&&void 0!==o?o:null==e||null===(c=e.meta)||void 0===c?void 0:c.displayName,titleOptions:{flex:!0}}],"data-testid":"".concat(v,"-accordion"),accordionActiveIndexes:M,accordionIndex:t,handleAccordionOnClick:K})})))))):u.createElement(y.Z,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:8},u.createElement(de.Z,{hidden:!0}),u.createElement(x.Z,null,u.createElement(o.$J,{title:g("authenticationProvider:placeHolders.emptyConnectorList.title"),subtitle:[g("authenticationProvider:placeHolders.emptyConnectorList.subtitles.0"),g("authenticationProvider:placeHolders.emptyConnectorList.subtitles.1")],imageSize:"tiny",action:u.createElement(R.di,{when:null==b||null===(n=b.identityProviders)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},u.createElement(o.KM,{onClick:function(){return A(!0)},"data-testid":"".concat(v,"-add-connector-button")},u.createElement(j.Z,{name:"add"}),g("authenticationProvider:buttons.addConnector"))),"data-testid":"".concat(v,"-empty-placeholder")})),u.createElement(de.Z,{hidden:!0})))),N&&u.createElement(o.cV,{onClose:function(){return I(!1)},type:"negative",open:S,assertion:null==N?void 0:N.meta.name,assertionHint:u.createElement("p",null,u.createElement(W.c,{i18nKey:"authenticationProvider:confirmations.deleteConnector.assertionHint",tOptions:{name:null==N?void 0:N.meta.name}},"Please type ",u.createElement("strong",null,null==N?void 0:N.meta.name)," to confirm.")),assertionType:"input",primaryAction:g("common:confirm"),secondaryAction:g("common:cancel"),onSecondaryActionClick:function(){return I(!1)},onPrimaryActionClick:function(){return function(e){var t=[];C.map((function(n){n.id!==e.id&&t.push(n.data)}));var n={connectors:t,defaultConnectorId:""};(0,w.ez)(n,r.id).then((function(){h((0,a.V_)({description:g("authenticationProvider:notifications.updateOutboundProvisioningConnectors.success.description"),level:i.QU.SUCCESS,message:g("authenticationProvider:notifications.updateOutboundProvisioningConnectors.success.message")})),m(r.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:g("authenticationProvider:notifications.updateOutboundProvisioningConnectors.error.message")})):h((0,a.V_)({description:g("authenticationProvider:notifications.updateOutboundProvisioningConnectors.genericError.description"),level:i.QU.ERROR,message:g("authenticationProvider:notifications.updateOutboundProvisioningConnectors.genericError.message")}))})),k(void 0),I(!1)}(N)},"data-testid":"".concat(v,"-authenticator-delete-confirmation"),closeOnDimmerClick:!1},u.createElement(o.cV.Header,{"data-testid":"".concat(v,"-authenticator-delete-confirmation")},g("authenticationProvider:confirmations.deleteConnector.header")),u.createElement(o.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(v,"-authenticator-delete-confirmation")},g("authenticationProvider:confirmations.deleteConnector.message")),u.createElement(o.cV.Content,{"data-testid":"".concat(v,"-authenticator-delete-confirmation")},g("authenticationProvider:confirmations.deleteConnector.content"))),P&&u.createElement(Di,{closeWizard:function(){return A(!1)},updateIdentityProvider:m,identityProvider:r,onUpdate:m,"data-testid":"".concat(v,"-connector-create-wizard")}),null!=r&&r.roles&&!c?u.createElement(pi.Yr,null,u.createElement(fi,{idpRoles:null==r?void 0:r.roles,idpId:null==r?void 0:r.id,"data-testid":"".concat(v,"-roles"),isReadOnly:p,onUpdate:m})):u.createElement(o.pO,null))};function qi(e){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(e)}function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bi(e,t,n){var r;return r=function(e,t){if("object"!=qi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qi(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Vi.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings"};var Yi=function(e){var t=e.editingIDP,n=e.advancedConfigurations,r=e.onUpdate,l=e.isReadOnly,c=e.isLoading,m=e.loader,f=e["data-testid"],p=e.templateType,v=e.implicitAssociationConfig,h=(0,d.I0)(),y=zi((0,u.useState)(!1),2),g=y[0],b=y[1],E=(0,s.$)().t;return c?u.createElement(m,null):u.createElement(o.pJ,{padded:"very",className:"advanced-configuration-section"},p===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER?u.createElement(Pr,{config:v,onSubmit:function(e){b(!0),(0,w.Gj)(t.id,e).then((function(){h((0,a.V_)({description:E("authenticationProvider:notifications.updateIDP.success.description"),level:i.QU.SUCCESS,message:E("authenticationProvider:notifications.updateIDP.success.message")})),r(t.id)})).catch((function(e){(0,ve.fk)(e)})).finally((function(){b(!1)}))},isSubmitting:g}):u.createElement(Ee,{config:n,onSubmit:function(e){b(!0),(0,w.wI)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){Bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t.id},e)).then((function(){h((0,a.V_)({description:E("authenticationProvider:notifications.updateIDP.success.description"),level:i.QU.SUCCESS,message:E("authenticationProvider:notifications.updateIDP.success.message")})),r(t.id)})).catch((function(e){(0,ve.fk)(e)})).finally((function(){b(!1)}))},"data-testid":f,isReadOnly:l,isSubmitting:g}))};Yi.defaultProps={"data-testid":"idp-edit-advance-settings"};var Wi=n(66528),$i=n(12950),Xi=function(e){var t=e.attribute,n=e.updateMapping,r=e.mapping,i=e.placeholder,a=e.isReadOnly,o=e["data-testid"],l=(0,s.$)().t;return u.createElement(Wi.Z.Row,{"data-testid":o},u.createElement(Wi.Z.Cell,null,null==t?void 0:t.displayName),u.createElement(u.Fragment,null,u.createElement(Wi.Z.Cell,{error:(0,Oe.Z)(r)},u.createElement($i.Z,{placeholder:i,value:(0,Oe.Z)(r)?"":r,onChange:function(e){var r=e.target.value;n({claim:t,mappedValue:r})},required:!0,"data-testid":"".concat(o,"-input"),readOnly:a}),(0,Oe.Z)(r)&&u.createElement(m.Z,{basic:!0,color:"red",pointing:"left"},l("authenticationProvider:forms.attributeSettings.attributeListItem.validation.empty")))))};Xi.defaultProps={"data-testid":"attribute-list-item"};var Ji=n(38314),ea=n(5043),ta=n(80254);function na(e){return function(e){if(Array.isArray(e))return aa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ia(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||ia(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ia(e,t){if(e){if("string"==typeof e)return aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aa(e,t):void 0}}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oa=function(e){var t=e.selectedAttributes,n=e.setSelectedAttributes,r=e.showAddModal,i=e.setShowAddModal,a=e.attributesList,l=e["data-testid"],c=(0,s.$)().t,d=ra((0,u.useState)([]),2),m=d[0],f=d[1],p=ra((0,u.useState)([]),2),v=p[0],h=p[1],y=ra((0,u.useState)([]),2),g=y[0],b=y[1],E=ra((0,u.useState)([]),2),S=E[0],I=E[1],O=ra((0,u.useState)([]),2),P=O[0],A=O[1],T=ra((0,u.useState)([]),2),C=T[0],_=T[1],w=ra((0,u.useState)(!1),2),L=w[0],N=w[1],R=ra((0,u.useState)(!1),2),k=R[0],D=R[1];(0,u.useEffect)((function(){_(k?g:[])}),[k]),(0,u.useEffect)((function(){A(L?m:[])}),[L]),(0,u.useEffect)((function(){if(r){var e=a.filter((function(e){return(0,Oe.Z)((0,Ji.Z)(t,(function(t){return t.claim.uri===e.uri})))}));f(e),h(e),b(t.map((function(e){return e.claim}))),I(t.map((function(e){return e.claim})))}else f([]),h([]),b([]),I([]);_([]),A([]),D(!1),N(!1)}),[r]);return u.createElement(U.Z,{open:r,size:"small",className:"user-attributes","data-testid":"".concat(l,"-modal")},u.createElement(U.Z.Header,{"data-testid":"".concat(l,"-modal-header")},c("authenticationProvider:modals.attributeSelection.title"),u.createElement(o.X6,{subHeading:!0,ellipsis:!0,as:"h6"},c("authenticationProvider:modals.attributeSelection.subTitle"))),u.createElement(U.Z.Content,{image:!0,"data-testid":"".concat(l,"-modal-content")},u.createElement(o.IX,{searchPlaceholder:c("authenticationProvider:modals.attributeSelection.content.searchPlaceholder"),addItems:function(){var e=na(g);(null==P?void 0:P.length)>0&&P.map((function(t){null!=e&&e.includes(t)||e.push(t)})),b(e),I(e),f(m.filter((function(t){return!(null!=e&&e.includes(t))}))),h(v.filter((function(t){return!(null!=e&&e.includes(t))}))),A(P.filter((function(t){return!(null!=e&&e.includes(t))}))),N(!1)},removeItems:function(){var e=na(m);(null==C?void 0:C.length)>0&&C.map((function(t){null!=e&&e.includes(t)||e.push(t)})),f(e),h(e),b(null==g?void 0:g.filter((function(t){return!(null!=e&&e.includes(t))}))),I(null==S?void 0:S.filter((function(t){return!(null!=e&&e.includes(t))}))),_(C.filter((function(t){return!(null!=e&&e.includes(t))}))),D(!1)},handleUnelectedListSearch:function(e){var t=e.target.value;if(t.length>0){var n=m.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(t.toLowerCase())})),r=m.filter((function(e){return-1!==e.uri.toLowerCase().indexOf(t.toLowerCase())}));h((0,ea.Z)((0,ta.Z)(n,r),"displayName"))}else h(m)},handleSelectedListSearch:function(e){var t=e.target.value;t.length>0?I(S.filter((function(e){return-1!==e.uri.toLowerCase().indexOf(t.toLowerCase())}))):I(g)},"data-testid":"".concat(l,"-modal-content")},u.createElement(o.Jv,{isListEmpty:!(v.length>0),listType:"unselected",listHeaders:["Attribute"],handleHeaderCheckboxChange:function(){N(!L)},isHeaderCheckboxChecked:L,"data-testid":"".concat(l,"-modal-content-unselected-list"),emptyPlaceholderDefaultContent:c("transferList:list.emptyPlaceholders.default")},null==v?void 0:v.map((function(e){return u.createElement(o.qT,{handleItemChange:function(){return function(e){var t=na(P);null!=t&&t.includes(e)?(t.splice(t.indexOf(e),1),A(t)):(t.push(e),A(t))}(e)},key:e.uri,listItem:e.displayName,listItemId:e.id,listItemIndex:e.uri,isItemChecked:P.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:e.uri===e.displayName?"":e.uri,"data-testid":"".concat(l,"-modal-content-unselected-list-item-").concat(e.id)})}))),u.createElement(o.Jv,{isListEmpty:!(S.length>0),listType:"selected",listHeaders:["Attribute"],handleHeaderCheckboxChange:function(){D(!k)},isHeaderCheckboxChecked:k,"data-testid":"".concat(l,"-modal-content-selected-list"),emptyPlaceholderDefaultContent:c("transferList:list.emptyPlaceholders.default")},null==S?void 0:S.map((function(e){return u.createElement(o.qT,{handleItemChange:function(){return t=e,void(null!=(n=na(C))&&n.includes(t)?(n.splice(n.indexOf(t),1),_(n)):(n.push(t),_(n)));var t,n},key:e.uri,listItem:e.displayName,listItemId:e.id,listItemIndex:e.uri,isItemChecked:C.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:e.uri===e.displayName?"":e.uri,"data-testid":"".concat(l,"-modal-content-selected-list-item-").concat(e.id)})}))))),u.createElement(U.Z.Actions,{"data-testid":"".concat(l,"-modal-actions")},u.createElement(o.Qj,{onClick:function(){i(!1)},"data-testid":"".concat(l,"-modal-cancel-button")},c("common:cancel")),u.createElement(o.KM,{onClick:function(){n(g.map((function(e){var n=t.find((function(t){return t.claim.uri===e.uri}));return(0,Oe.Z)(n)?{claim:e,mappedValue:""}:n}))),i(!1)},"data-testid":"".concat(l,"-modal-save-button")},c("common:save"))))};function la(e){return function(e){if(Array.isArray(e))return sa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){if(e){if("string"==typeof e)return sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sa(e,t):void 0}}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}oa.defaultProps={"data-testid":"idp-edit-attribute-settings-attribute-selection-wizard"};var da=function(e){var t,n,r,i=e.attributeList,a=e.setSelectedAttributesWithMapping,l=e.selectedAttributesWithMapping,c=e.uiProps,m=e.isReadOnly,f=e["data-testid"],p=(0,s.$)().t,v=(0,d.v9)((function(e){return e.config.ui.features})),h=ca((0,u.useState)(!1),2),g=h[0],b=h[1],E=ca((0,u.useState)(""),2),S=E[0],I=E[1],O=function(e){var t=e.target.value;I(t)},P=function(){b(!0)},A=function(e){a([].concat(la(l.filter((function(t){return t.claim.uri!==e.claim.uri}))),[e]))};return l||S?u.createElement(u.Fragment,null,u.createElement(y.Z.Row,{"data-testid":"".concat(f,"-section")},u.createElement(y.Z.Column,null,c.enablePrecedingDivider&&u.createElement(de.Z,null),u.createElement(o.X6,{as:"h4"},c.componentHeading),u.createElement(o.kW,null,c.hint),u.createElement(de.Z,{hidden:!0}),(null==l?void 0:l.length)>0?u.createElement(y.Z,{"data-testid":f,className:"user-role-edit-header-segment clearing attributes ml-0 mr-0"},u.createElement(y.Z.Row,null,u.createElement(Wi.Z,{"data-testid":"".concat(f,"-action-bar"),basic:"very",compact:!0},u.createElement(Wi.Z.Body,null,u.createElement(Wi.Z.Row,null,u.createElement(Wi.Z.Cell,null,u.createElement($i.Z,{icon:u.createElement(j.Z,{name:"search"}),onChange:O,placeholder:p("authenticationProvider:forms.attributeSettings.attributeSelection.searchAttributes.placeHolder"),floated:"left",size:"small","data-testid":"".concat(f,"-search")})),u.createElement(Wi.Z.Cell,{textAlign:"right"},u.createElement(R.di,{when:null==v||null===(n=v.identityProviders)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},u.createElement(be.Z,{size:"medium",icon:"pencil",floated:"right",onClick:P,"data-testid":"".concat(f,"-edit-button")}))))))),u.createElement(y.Z.Row,null,u.createElement(Wi.Z,{"data-testid":"".concat(f,"-list"),singleLine:!0,compact:!0},u.createElement(Wi.Z.Header,null,u.createElement(Wi.Z.Row,null,u.createElement(Wi.Z.HeaderCell,null,u.createElement("strong",null,c.attributeColumnHeader)),u.createElement(Wi.Z.HeaderCell,null,u.createElement("strong",null,c.attributeMapColumnHeader)))),u.createElement(Wi.Z.Body,null,null==l||null===(r=l.filter((function(e){var t;return!!(0,Oe.Z)(S)||(null==e||null===(t=e.claim)||void 0===t||null===(t=t.displayName)||void 0===t?void 0:t.startsWith(S))})))||void 0===r||null===(r=r.sort((function(e,t){return e.claim.displayName.localeCompare(t.claim.displayName)})))||void 0===r?void 0:r.map((function(e){return u.createElement(Xi,{key:null==e?void 0:e.claim.id,attribute:null==e?void 0:e.claim,placeholder:c.attributeMapInputPlaceholderPrefix+(null==e?void 0:e.claim.displayName),updateMapping:A,mapping:null==e?void 0:e.mappedValue,"data-testid":"".concat(f,"-attribute-list-item-").concat(null==e?void 0:e.claim.id),isReadOnly:m})})))))):u.createElement(x.Z,{"data-testid":f},u.createElement(o.$J,{title:p("authenticationProvider:placeHolders.noAttributes.title"),subtitle:[p("authenticationProvider:placeHolders.noAttributes.subtitles.0")],action:u.createElement(R.di,{when:null==v||null===(t=v.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},u.createElement(o.KM,{onClick:P,icon:"plus"},p("authenticationProvider:buttons.addAttribute"))),"data-testid":"".concat(f,"-empty-placeholder")})))),u.createElement(oa,{attributesList:i,selectedAttributes:l,setSelectedAttributes:a,showAddModal:g,setShowAddModal:b,"data-testid":"".concat(f,"-wizard")})):null};da.defaultProps={"data-testid":"attribute-selection"};var ma=function(e){var t=e.dropDownOptions,n=e.initialSubjectUri,r=e.initialRoleUri,i=e.claimMappingOn,a=e.updateRole,l=e.updateSubject,c=e.roleError,d=e.subjectError,m=e.isReadOnly,f=e.isMappingEmpty,v=e.isOIDC,h=e.isSaml,g=e.selectedClaimMappings,b=e["data-testid"],E=(0,s.$)().t,S=(0,p.Z)().UIConfig,I=function(e){return void 0!==(0,Ji.Z)(t,(function(t){return(null==t?void 0:t.value)===e}))?e:""};return u.createElement(u.Fragment,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,null,u.createElement(o.X6,{as:"h4"},E("authenticationProvider:forms.uriAttributeSettings.subject.heading")),u.createElement(ri.Z,null,u.createElement(ri.Z.Select,{fluid:!0,options:t.concat({key:"default_subject",text:E("authenticationProvider:forms.uriAttributeSettings.subject.placeHolder"),value:""}),value:I(n),placeholder:E("authenticationProvider:forms.uriAttributeSettings.subject.placeHolder"),onChange:function(e,t){l(t.value.toString())},search:!0,fullTextSearch:!1,label:E("authenticationProvider:forms.uriAttributeSettings.subject.label"),"data-testid":"".concat(b,"-form-element-subject"),error:d&&{content:E("authenticationProvider:forms.uriAttributeSettings.subject.validation.empty"),pointing:"above"},readOnly:m,disabled:f})),u.createElement(o.kW,null,h?u.createElement(W.c,{i18nKey:"console:authenticationProvider:forms.uriAttributeSettings.subject.hint"},"The attribute that identifies the user at the enterprise connection. When attributes are configured based on the authentication response of this connection, you can use one of them as the subject. Otherwise, the default ",u.createElement(o.EK,null,"saml2:Subject")," in the SAML response is used as the subject attribute."):u.createElement(W.c,{i18nKey:"console:idp:forms.uriAttributeSettings.subject.hint"},"Specifies the attribute that identifies the user at the connection.")))),S.useRoleClaimAsGroupClaim&&u.createElement(u.Fragment,null,u.createElement(de.Z,{hidden:!0}),u.createElement(y.Z.Row,{columns:2},u.createElement(y.Z.Column,null,u.createElement(o.X6,{as:"h4"},E("authenticationProvider:forms.uriAttributeSettings.group.heading")),i&&u.createElement(ri.Z,null,u.createElement(ri.Z.Select,{fluid:!0,options:t.concat({key:"default_subject",text:E("authenticationProvider:forms.uriAttributeSettings.group.placeHolder"),value:""}),value:I(r),placeholder:E("authenticationProvider:forms.uriAttributeSettings.group.placeHolder"),onChange:function(e,t){a(t.value.toString())},search:!0,fullTextSearch:!1,label:E("authenticationProvider:forms.uriAttributeSettings.group.label"),"data-testid":"".concat(b,"-form-element-role"),error:c&&{content:E("authenticationProvider:forms.uriAttributeSettings.group.validation.empty"),pointing:"above"},disabled:!i,readOnly:m}),u.createElement(o.kW,null,E("authenticationProvider:forms.uriAttributeSettings.group.hint"))),function(){if(!i)return v?u.createElement(o.v0,{type:"info",content:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.uriAttributeSettings.group.messageOIDC",tOptions:{attribute:oe.v.OIDC_ROLES_CLAIM}},"Please note that OpenID Connect attribute named",u.createElement("strong",null,oe.v.OIDC_ROLES_CLAIM),"will be considered as the default ",u.createElement("strong",null,"Group Attribute"),"as you have not added a custom attribute mapping.")}):u.createElement(o.v0,{type:"info",content:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.uriAttributeSettings.group.messageSAML",tOptions:{attribute:oe.v.CLAIM_ROLES}},"Please note that ",u.createElement("strong",null,oe.v.CLAIM_ROLES),"attribute will be considered as the default ",u.createElement("strong",null,"Group Attribute"),"as you have not added a custom attribute mapping.")});if(!(0,Oe.Z)(r))return null;if(S.isCustomClaimMappingEnabled&&!S.isCustomClaimMappingMergeEnabled){var e=function(){if(v||h){var e=null==g?void 0:g.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===oe.v.CLAIM_ROLES}));return null==e?void 0:e.mappedValue}return""}();return(0,Oe.Z)(e)?u.createElement(o.v0,{type:"info",content:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.uriAttributeSettings.group.mappedRolesAbsentMessage"},"With your current configuration, ",u.createElement("strong",null,"Group Attribute")," is not configured. You can select an attribute from the dropdown.")}):u.createElement(o.v0,{type:"info",content:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.uriAttributeSettings.group.mappedRolesPresentMessage",tOptions:{mappedRolesClaim:e,rolesClaim:oe.v.CLAIM_ROLES}},"Please note that ",u.createElement("strong",null,e),"which is mapped to the ",u.createElement("strong",null,oe.v.CLAIM_ROLES)," attribute will be considered as the default ",u.createElement("strong",null," Group Attribute")," with the current configuration. You can select an attribute from the dropdown.")})}return v?u.createElement(o.v0,{type:"info",content:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.uriAttributeSettings.group.messageOIDC",tOptions:{attribute:oe.v.OIDC_ROLES_CLAIM}},"Please note that OpenID Connect attribute named",u.createElement("strong",null,oe.v.OIDC_ROLES_CLAIM),"will be considered as the default ",u.createElement("strong",null,"Group Attribute"),"as you have not added a custom attribute mapping.")}):u.createElement(o.v0,{type:"info",content:u.createElement(W.c,{i18nKey:"authenticationProvider:forms.uriAttributeSettings.group.messageSAML",tOptions:{attribute:oe.v.CLAIM_ROLES}},"Please note that ",u.createElement("strong",null,oe.v.CLAIM_ROLES),"attribute will be considered as the default ",u.createElement("strong",null,"Group Attribute"),"as you have not added a custom attribute mapping.")})}()))))};ma.defaultProps={"data-testid":"idp-edit-attribute-settings-uri-attribute-settings"};n(48397),n(39594);var fa=function(e){var t=e.claimURI,n=e.displayName,r=e.localClaimDisplayName,i=e["data-testid"];return u.createElement(Wi.Z.Row,{"data-testid":i},u.createElement(Wi.Z.Cell,null,u.createElement("div",null,n||r),u.createElement(o.GI,{content:t,inverted:!0,trigger:u.createElement(o.EK,{compact:!0,withBackground:!1},t),position:"bottom left"})))},pa=n(12638);function va(e){return function(e){if(Array.isArray(e))return ga(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ya(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||ya(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){if(e){if("string"==typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ga(e,t):void 0}}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ba=function(e){return e?1:0},Ea="idp-attributes-mapping-list-item-form",Sa=function(e){var t=e.onSubmit,n=e.availableAttributeList,r=e.alreadyMappedAttributesList,i=(0,s.$)().t,a=ha((0,u.useState)([]),2),o=a[0],l=a[1],c=ha((0,u.useState)(),2),d=c[0],m=c[1],f=ha((0,u.useState)(),2),p=f[0],v=f[1],h=ha((0,u.useState)(),2),g=h[0],b=h[1];(0,u.useEffect)((function(){if(n){var e=va(n);l(e)}}),[n]);return u.createElement(D.l0,{id:Ea,onSubmit:function(e,n){var r={claim:va(o).find((function(t){return t.id===e.localClaimId})),mappedValue:e.mappedValue};t(r),n.change("mappedValue",""),n.change("localClaimId",""),n.resetFieldState("mappedValue"),n.resetFieldState("localClaimId"),m(""),v("")},uncontrolledForm:!0},u.createElement(y.Z,null,u.createElement(y.Z.Row,{columns:2,key:1},u.createElement(y.Z.Column,{width:8,key:1},u.createElement(D.gN.Input,{required:!0,name:"mappedValue",inputType:"identifier",maxLength:120,minLength:1,label:i("idp:forms.attributeSettings.attributeMapping.externalAttributeInput.label"),placeholder:i("idp:forms.attributeSettings.attributeMapping.externalAttributeInput.placeHolder"),ariaLabel:"External IdP Attribute Mapping Value",validation:function(e){return e&&e.trim()?ba(!M.I.url(e))&ba(!M.I.isValidResourceName(e))?(b(!0),D.yo.INVALID_RESOURCE_ERROR):new Set(r.map((function(e){return e.mappedValue}))).has(e)?(b(!0),i("idp:forms.attributeSettings.attributeMapping.externalAttributeInput.existingErrorMessage")):void b(!1):(b(!0),D.yo.FIELD_REQUIRED_ERROR)},listen:function(e){return m(e)},width:16})),u.createElement(y.Z.Column,{width:8,key:2},u.createElement(D.gN.Dropdown,{required:!0,search:!0,clearable:!0,width:16,options:o.map((function(e,t){return{content:u.createElement(pa.Z,{as:"h6",key:"attribute-option-".concat(t)},u.createElement(pa.Z.Content,null,null==e?void 0:e.displayName,u.createElement(pa.Z.Subheader,null,u.createElement("code",{className:"inline-code compact transparent"},e.uri)))),key:null==e?void 0:e.id,text:null==e?void 0:e.displayName,value:null==e?void 0:e.id}})),label:i("idp:forms.attributeSettings.attributeMapping.attributeDropdown.label"),ariaLabel:"Local Claim Attribute",name:"localClaimId",placeholder:i("idp:forms.attributeSettings.attributeMapping.attributeDropdown.placeHolder"),listen:function(e){return v(e)},noResultsMessage:i("idp:forms.attributeSettings.attributeMapping.attributeDropdown.noResultsMessage")}))),u.createElement(y.Z.Row,{columns:1,key:2},u.createElement(y.Z.Column,{width:16,textAlign:"right"},u.createElement(D.gN.Button,{form:Ea,disabled:g||!d||!p,buttonType:"primary_btn",type:"submit",name:"submit-button",label:i("idp:forms.attributeSettings.attributeMapping.addAttributeButtonLabel"),ariaLabel:"Attribute Selection Form Submit Button"})))))};function Ia(e){return function(e){if(Array.isArray(e))return Aa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||Pa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(e,t){if(e){if("string"==typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aa(e,t):void 0}}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ta=function(e){return e?1:0},Ca="idp-attributes-mapping-list-item-form",_a=function(e){var t,n,r,i,a=e.onSubmit,l=e.availableAttributeList,c=e.alreadyMappedAttributesList,d=e.mapping,m=(0,s.$)().t,f=(0,u.useRef)(null),p=Oa((0,u.useState)([]),2),v=p[0],h=p[1],g=Oa((0,u.useState)(),2),b=g[0],E=g[1],S=Oa((0,u.useState)(),2),I=S[0],O=S[1],P=Oa((0,u.useState)(),2),A=P[0],T=P[1];(0,u.useEffect)((function(){E(null==d?void 0:d.mappedValue),O(null==d?void 0:d.claim.id)}),[]),(0,u.useEffect)((function(){if(l){var e=Ia(l);d&&d.mappedValue&&d.claim&&e.push(d.claim),h(e)}}),[l]);return u.createElement(D.l0,{id:Ca,ref:f,onSubmit:function(e){var t={claim:v.find((function(t){return t.id===e.localClaimId})),mappedValue:e.mappedValue};a(t)},uncontrolledForm:!0,initialValues:d&&{localClaimId:null==d||null===(t=d.claim)||void 0===t?void 0:t.id,mappedValue:null==d?void 0:d.mappedValue}},u.createElement(y.Z,null,u.createElement(y.Z.Row,{columns:3},u.createElement(y.Z.Column,{width:7},u.createElement(D.gN.Input,{required:!0,name:"mappedValue",inputType:"identifier",maxLength:120,minLength:1,placeholder:m("idp:forms.attributeSettings.attributeMapping.externalAttributeInput.placeHolder"),ariaLabel:"External IdP Attribute Mapping Value",validation:function(e){return e&&e.trim()?Ta(!M.I.url(e))&Ta(!M.I.isValidResourceName(e))?(T(!0),D.yo.INVALID_RESOURCE_ERROR):new Set(c.map((function(e){return e.mappedValue}))).has(e)?(null==d?void 0:d.mappedValue)===e?void T(!1):(T(!0),m("idp:forms.attributeSettings.attributeMapping.externalAttributeInput.existingErrorMessage")):void T(!1):(T(!0),D.yo.FIELD_REQUIRED_ERROR)},listen:function(e){return E(e)},width:16})),u.createElement(y.Z.Column,{width:7},u.createElement("div",null,null==d||null===(n=d.claim)||void 0===n?void 0:n.displayName),u.createElement(o.GI,{content:null==d||null===(r=d.claim)||void 0===r?void 0:r.uri,inverted:!0,trigger:u.createElement(o.EK,null,null==d||null===(i=d.claim)||void 0===i?void 0:i.uri),position:"bottom left"})),u.createElement(y.Z.Column,{width:2,textAlign:"right"},u.createElement(D.gN.Button,{form:Ca,disabled:A||!b||!I,icon:"checkmark",name:"submit-button",size:"small",ariaLabel:"Attribute Selection Form Submit Button",buttonType:"secondary_btn",onClick:function(){var e;return null==f||null===(e=f.current)||void 0===e?void 0:e.triggerSubmit()}})))))};function wa(e){return function(e){if(Array.isArray(e))return Ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Na(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||Na(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){if(e){if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ra(e,t):void 0}}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ka=function(e){var t=e.availableAttributesList,n=e.attributeMappingsListToShow,r=e.alreadyMappedAttributesList,i=e.onMappingDeleted,a=e.onMappingEdited,l=e.noDataPlaceholder,c=e.readOnly,d=(0,s.$)().t,m=La((0,u.useState)([]),2),f=m[0],p=m[1];return 0===n.length?u.createElement(Wi.Z.Row,null,u.createElement(Wi.Z.Cell,{colSpan:"3"},l)):u.createElement(u.Fragment,null,n.map((function(e,n){var l,s,m,v;return e.mappedValue?u.createElement(Wi.Z.Row,{key:n},f.includes(null==e||null===(l=e.claim)||void 0===l?void 0:l.id)?u.createElement(Wi.Z.Cell,{colSpan:"3"},u.createElement(_a,{mapping:e,availableAttributeList:t,alreadyMappedAttributesList:r,onSubmit:function(t){return function(e,t){p(wa(f.filter((function(e){return e!==t.claim.id})).filter((function(t){return t!==e.claim.id})))),a(t,e)}(t,e)}})):u.createElement(u.Fragment,null,u.createElement(Wi.Z.Cell,null,u.createElement("div",null,null==e?void 0:e.mappedValue)),u.createElement(Wi.Z.Cell,null,u.createElement("div",null,null==e||null===(s=e.claim)||void 0===s?void 0:s.displayName),u.createElement(o.GI,{content:null==e||null===(m=e.claim)||void 0===m?void 0:m.uri,inverted:!0,trigger:u.createElement(o.EK,null,null==e||null===(v=e.claim)||void 0===v?void 0:v.uri),position:"bottom left"})),c?null:u.createElement(Wi.Z.Cell,{textAlign:"right"},u.createElement(o.GI,{trigger:u.createElement(j.Z,{link:!0,className:"list-icon pr-4",size:"small",color:"grey",name:"pencil alternate",onClick:function(){var t;return p([].concat(wa(f),[null==e||null===(t=e.claim)||void 0===t?void 0:t.id]))}}),position:"top right",content:d("common:edit"),inverted:!0}),u.createElement(o.GI,{trigger:u.createElement(j.Z,{link:!0,className:"list-icon pr-4",size:"small",color:"grey",name:"trash alternate",onClick:function(){return i(e)}}),position:"top right",content:d("common:remove"),inverted:!0})))):null})))};function Da(e){return function(e){if(Array.isArray(e))return ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||xa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e,t){if(e){if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ua=function(e){var t=e.attributeList,n=e.alreadyMappedAttributesList,r=e.show,i=e.onClose,a=e.onSave,l=(0,s.$)().t,c=Ma((0,u.useState)([]),2),d=c[0],m=c[1],f=Ma((0,u.useState)([]),2),p=f[0],v=f[1],h=Ma((0,u.useState)(!1),2),g=h[0],b=h[1],E=Ma((0,u.useState)(),2),S=E[0],I=E[1];(0,u.useEffect)((function(){v(Da(t)),I(Da(n))}),[]),(0,u.useEffect)((function(){b(0===d.length)}),[d]);return u.createElement(U.Z,{open:r,onClose:i,dimmer:"blurring",size:"small",closeOnDimmerClick:!1},u.createElement(U.Z.Header,null,l("idp:forms.attributeSettings.attributeMapping.modal.header")),u.createElement(U.Z.Content,{scrolling:!0,className:"edit-attribute-mapping"},u.createElement(y.Z,null,u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{width:16},u.createElement(Sa,{availableAttributeList:p,alreadyMappedAttributesList:S,onSubmit:function(e){var t=[].concat(Da(d),[e]),n=t.reduce((function(e,t){var n;return e.add(null==t||null===(n=t.claim)||void 0===n?void 0:n.id)}),new Set);m(t),v(Da(p.filter((function(e){return!n.has(e.id)})))),I([].concat(Da(S),[e]))}}))),u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,{width:16},g?u.createElement(o.$J,{title:l("idp:forms.attributeSettings.attributeMapping.modal.placeholder.title"),subtitle:[u.createElement("p",{key:"empty-attributes-mapping"},l("idp:forms.attributeSettings.attributeMapping.modal.placeholder.subtitle"))],image:null,imageSize:"tiny"}):u.createElement(Wi.Z,{singleLine:!0,compact:!0,fixed:!0},u.createElement(Wi.Z.Header,null,u.createElement(Wi.Z.Row,null,u.createElement(Wi.Z.HeaderCell,{width:"7"},u.createElement("strong",null,l("idp:forms.attributeSettings.attributeMapping.attributeMapTable.externalAttributeColumnHeader"))),u.createElement(Wi.Z.HeaderCell,{width:"7"},u.createElement("strong",null,l("idp:forms.attributeSettings.attributeMapping.attributeMapTable.mappedAttributeColumnHeader"))),u.createElement(Wi.Z.HeaderCell,{width:"2"}))),u.createElement(Wi.Z.Body,null,u.createElement(ka,{key:"attribute-mapping-working-list",alreadyMappedAttributesList:S,onMappingDeleted:function(e){var t=d.filter((function(t){return t.claim.id!==e.claim.id}));m(Da(t)),v([].concat(Da(p),[e.claim])),I(Da(S.filter((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.id)===(null==e?void 0:e.claim.id)}))))},onMappingEdited:function(e,t){m([].concat(Da(d.filter((function(t){return t.claim.id!==e.claim.id}))),[t])),I([].concat(Da(S.filter((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.id)===(null==e?void 0:e.claim.id)}))),[t]))},attributeMappingsListToShow:d,availableAttributesList:p}))))))),u.createElement(U.Z.Actions,null,u.createElement(o.Qj,{onClick:i},l("common:cancel")),u.createElement(o.KM,{disabled:0===(null==d?void 0:d.length),onClick:function(){return a(Da(d))}},l("common:save"))))};function Ga(e){return function(e){if(Array.isArray(e))return Ha(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||Fa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){if(e){if("string"==typeof e)return Ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ha(e,t):void 0}}function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ua.defaultProps={"data-testid":"add-attribute-modal"};var Va=function(e){var t=e.attributeList,n=e.mappedAttributesList,r=e.onAttributesSelected,i=e.isReadOnly,a=e["data-testid"],l=Za((0,u.useState)(!1),2),c=l[0],d=l[1],m=Za((0,u.useState)(void 0),2),f=m[0],p=m[1],v=Za((0,u.useState)([]),2),h=v[0],g=v[1],b=(0,s.$)().t;(0,u.useEffect)((function(){var e,t=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Fa(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.push(i.claim.id)}}catch(a){r.e(a)}finally{r.f()}g(t)}),[t]);return u.createElement(u.Fragment,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{computer:16,tablet:16,largeScreen:16,widescreen:16},u.createElement(o.X6,{as:"h4"},b("idp:forms.attributeSettings.attributeMapping.heading")),u.createElement(o.X6,{as:"h6",color:"grey"},b("idp:forms.attributeSettings.attributeMapping.subheading")),n&&n.length>0?u.createElement(u.Fragment,null,u.createElement(y.Z.Row,{className:"user-role-edit-header-segment attributes"},u.createElement(Wi.Z,{"data-testid":"".concat(a,"-action-bar"),basic:"very",compact:!0},u.createElement(Wi.Z.Body,null,u.createElement(Wi.Z.Row,null,u.createElement(Wi.Z.Cell,{collapsing:!0,width:"10"},u.createElement(D.l0,{id:"idp-attribute-selection-v2-form",onSubmit:function(){},uncontrolledForm:!1},u.createElement(D.gN.Input,{icon:"search",iconPosition:"left",inputType:"default",maxLength:120,minLength:1,width:16,placeholder:b("idp:forms.attributeSettings.attributeMapping.search.placeHolder"),listen:function(e){return p(e)},ariaLabel:"Search Field",name:"searchQuery"}))),u.createElement(Wi.Z.Cell,{textAlign:"right"},!i&&u.createElement(o.KM,{onClick:function(){return d(!0)},"data-testid":"".concat(a,"-list-layout-add-button")},u.createElement(j.Z,{name:"plus"}),b("idp:forms.attributeSettings.attributeMapping.placeHolder.action"))))))),u.createElement(x.Z,{className:"user-role-edit-header-segment attributes"},u.createElement(y.Z.Row,null,u.createElement(Wi.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(a,"-list"),fixed:!0},u.createElement(Wi.Z.Header,null,u.createElement(Wi.Z.Row,null,u.createElement(Wi.Z.HeaderCell,{width:"10"},u.createElement("strong",null,b("idp:forms.attributeSettings.attributeMapping.attributeMapTable.externalAttributeColumnHeader"))),u.createElement(Wi.Z.HeaderCell,{width:"10"},u.createElement("strong",null,b("idp:forms.attributeSettings.attributeMapping.attributeMapTable.mappedAttributeColumnHeader"))),u.createElement(Wi.Z.HeaderCell,{width:"2"}))),u.createElement(Wi.Z.Body,null,u.createElement(ka,{alreadyMappedAttributesList:Ga(n),attributeMappingsListToShow:n.filter((function(e){return!f||(e.mappedValue.startsWith(f)||e.claim.id.startsWith(f))})),noDataPlaceholder:u.createElement(o.$J,{action:u.createElement(o.Qj,{onClick:function(){return p(void 0)}},b("console:manage.placeholders.emptySearchResult.action")),title:b("console:manage.placeholders.emptySearchResult.title"),subtitle:[b("console:manage.placeholders.emptySearchResult.subtitles.0",{query:f}),b("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(a,"-empty-search-placeholder")}),availableAttributesList:Ga(t.filter((function(e){return!h.includes(e.id)}))),onMappingDeleted:function(e){r(Ga(null==n?void 0:n.filter((function(t){return t.claim.id!==e.claim.id}))))},onMappingEdited:function(e,t){r([].concat(Ga(n.filter((function(t){return t.claim.id!==e.claim.id}))),[t]))},readOnly:i})))))):u.createElement(x.Z,{component:!0,"data-testid":a},u.createElement(o.$J,{title:b("idp:forms.attributeSettings.attributeMapping.placeHolder.title"),subtitle:[b("idp:forms.attributeSettings.attributeMapping.placeHolder.subtitle")],action:!i&&u.createElement(o.KM,{onClick:function(){return d(!0)}},u.createElement(j.Z,{name:"plus"}),b("idp:forms.attributeSettings.attributeMapping.placeHolder.action")),"data-testid":"".concat(a,"-empty-placeholder")})))),c&&u.createElement(Ua,{attributeList:Ga(t.filter((function(e){return!h.includes(e.id)}))),alreadyMappedAttributesList:Ga(n),show:c,onClose:function(){d(!1)},onSave:function(e){r([].concat(Ga(n),Ga(e))),d(!1)}}))};Va.defaultProps={"data-testid":"attributes-selection-v2"};var qa=function(e,t){return(0,Oe.Z)(e)?t:null==e?void 0:e.map((function(e){var t;if(null!=e&&null!==(t=e.claim)&&void 0!==t&&t.id&&null!=e&&e.mappedValue)return{displayName:e.mappedValue,id:e.claim.id,uri:e.mappedValue}}))},Ka=function(e,t){return(0,Oe.Z)(e)?t.map((function(e){if(null!=e&&e.uri)return{key:e.id,text:e.uri,value:e.uri}})):e.map((function(e){var t;if(null!=e&&e.mappedValue)return{key:null==e||null===(t=e.claim)||void 0===t?void 0:t.id,text:null==e?void 0:e.mappedValue,value:null==e?void 0:e.mappedValue}}))};function Ba(e){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(e)}function za(e){return function(e){if(Array.isArray(e))return Xa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ya(e,t,n){var r;return r=function(e,t){if("object"!=Ba(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ba(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||$a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $a(e,t){if(e){if("string"==typeof e)return Xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xa(e,t):void 0}}function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ja=function(e){var t,n=e.idpId,r=e.initialClaims,l=e.isLoading,c=e.onUpdate,m=e.provisioningAttributesEnabled,v=e.hideIdentityClaimAttributes,h=e.isReadOnly,g=e.isRoleMappingsEnabled,b=e.loader,E=e.isOIDC,S=e.isSaml,I=e["data-testid"],O=(0,d.I0)(),P=(0,s.$)().t,A=(0,p.Z)().UIConfig,T=(0,d.v9)((function(e){return e.config.ui.features})),C=Wa((0,u.useState)([]),2),_=C[0],L=C[1],N=Wa((0,u.useState)([]),2),k=N[0],D=N[1],M=Wa((0,u.useState)([]),2),x=M[0],j=M[1],U=Wa((0,u.useState)(),2),G=U[0],Z=U[1],F=Wa((0,u.useState)(),2),H=F[0],V=F[1],q=Wa((0,u.useState)(!1),2),K=q[0],B=q[1],z=Wa((0,u.useState)(void 0),1)[0],Q=Wa((0,u.useState)(!1),2),Y=Q[0],$=Q[1],X=Wa((0,u.useState)(!0),2),J=X[0],ee=X[1];(0,u.useEffect)((function(){ee(!0),(0,br.WN)(null).then((function(e){L(null==e?void 0:e.map((function(e){return{displayName:e.displayName,id:e.id,uri:e.claimURI}}))),ee(!1)})).catch((function(e){ee(!1),function(e){e.response&&e.response.data&&e.response.data.description&&f.h.dispatch((0,a.V_)({description:it.I18n.instance.t("authenticationProvider:notifications.getAllLocalClaims.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:it.I18n.instance.t("authenticationProvider:notifications.getAllLocalClaims.error.message")})),f.h.dispatch((0,a.V_)({description:it.I18n.instance.t("authenticationProvider:notifications.getAllLocalClaims.genericError.description"),level:i.QU.ERROR,message:it.I18n.instance.t("authenticationProvider:notifications.getAllLocalClaims.genericError.message")}))}(e)}))}),[]);(0,u.useEffect)((function(){(0,Oe.Z)(_)||(function(e,t,n){var r,i;t(null==e||null===(r=e.userIdClaim)||void 0===r?void 0:r.uri),n(null==e||null===(i=e.roleClaim)||void 0===i?void 0:i.uri)}(r,Z,V),function(e,t){var n;t(null==e||null===(n=e.mappings)||void 0===n?void 0:n.map((function(e){return{claim:e.localClaim,mappedValue:e.idpClaim}})))}(r,D),function(e,t){var n;t(null==e||null===(n=e.provisioningClaims)||void 0===n?void 0:n.map((function(e){var t,n,r;return{claim:{displayName:null==e||null===(t=e.claim)||void 0===t?void 0:t.uri,id:null==e||null===(n=e.claim)||void 0===n?void 0:n.uri,uri:null==e||null===(r=e.claim)||void 0===r?void 0:r.uri},mappedValue:e.defaultValue}})))}(r,j))}),[_]),(0,u.useEffect)((function(){(0,Oe.Z)(k)?(j(x.filter((function(e){return _.find((function(t){return t.uri===e.claim.uri}))}))),(0,Oe.Z)(null==_?void 0:_.find((function(e){return e.uri===G})))&&Z("")):(j(x.filter((function(e){return function(e,t){return void 0!==(0,Ji.Z)(t,(function(t){return t.mappedValue===e.claim.uri}))}(e,k)}))),(0,Oe.Z)(null==k?void 0:k.find((function(e){return e.mappedValue===H})))&&V(""),(0,Oe.Z)(null==k?void 0:k.find((function(e){return e.mappedValue===G})))&&Z(""))}),[k]);var te=function(){B(!0);var e=!0,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){Ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);(0,Oe.Z)(null==k?void 0:k.filter((function(e){return(0,Oe.Z)(e.mappedValue)})))||(e=!1),t.mappings=k.map((function(e){return{idpClaim:e.mappedValue,localClaim:e.claim}})),m&&((0,Oe.Z)(null==x?void 0:x.filter((function(e){return(0,Oe.Z)(e.mappedValue)})))||(e=!1),t.provisioningClaims=x.map((function(e){return{claim:e.claim,defaultValue:e.mappedValue}})));var o=_.find((function(e){return e.uri===G}));if(t.userIdClaim=o||{uri:G},g)if((0,Oe.Z)(k))t.roleClaim={uri:""};else{var l=_.find((function(e){return e.uri===H}));t.roleClaim=l||{uri:H}}e?(B(!1),$(!0),function(e,t,n,r){return(0,w.GY)(e,t).then((function(){r(e),(0,w.Am)(e,{mappings:n,outboundProvisioningRoles:[""]}).then((function(){r(e),f.h.dispatch((0,a.V_)({description:it.I18n.instance.t("authenticationProvider:notifications.updateAttributes.success.description"),level:i.QU.SUCCESS,message:it.I18n.instance.t("authenticationProvider:notifications.updateAttributes.success.message")}))})).catch((function(e){(0,ve.St)(e)}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description&&f.h.dispatch((0,a.V_)({description:it.I18n.instance.t("authenticationProvider:notifications.updateClaimsConfigs.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:it.I18n.instance.t("authenticationProvider:notifications.updateClaimsConfigs.error.message")})),f.h.dispatch((0,a.V_)({description:it.I18n.instance.t("authenticationProvider:notifications.updateClaimsConfigs.genericError.description"),level:i.QU.ERROR,message:it.I18n.instance.t("authenticationProvider:notifications.updateClaimsConfigs.genericError.message")}))}))}(n,t,z,c).finally((function(){$(!1)}))):O((0,a.V_)({description:P("idp:notifications.submitAttributeSettings.error.description"),level:i.QU.WARNING,message:P("idp:notifications.submitAttributeSettings.error.message")}))};return(0,u.useEffect)((function(){null!=z&&te()}),[z]),l||J?u.createElement(b,null):u.createElement(o.pJ,{padded:"very"},u.createElement(y.Z,{className:"attributes-settings"},u.createElement("div",{className:"form-container with-max-width"},!(null!=A&&A.isCustomClaimMappingEnabled)&&u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,null,u.createElement(o.v0,{type:"warning",content:u.createElement(W.c,null,u.createElement("strong",null,"Custom Attribute Mapping")," is disabled in your system configuration. This might affect certain flows related to the connection. Proceed with caution.")}),u.createElement(de.Z,{hidden:!0}))),u.createElement(y.Z.Row,{columns:1},u.createElement(y.Z.Column,null,u.createElement(Va,{onAttributesSelected:function(e){D(za(e))},attributeList:v?_.filter((function(e){var t=e.uri;return!/identity/.test(t)})):_,mappedAttributesList:za(k),isReadOnly:h}))),u.createElement(de.Z,{hidden:!0}),k&&u.createElement(ma,{dropDownOptions:Ka(k,_).filter((function(e){return!(0,Oe.Z)(e)})),initialRoleUri:H,initialSubjectUri:G,claimMappingOn:g&&!(0,Oe.Z)(k),updateRole:V,updateSubject:Z,"data-testid":"".concat(I,"-uri-attribute-settings"),roleError:K&&!H,subjectError:K&&!G,isReadOnly:h,isMappingEmpty:(0,Oe.Z)(k),isOIDC:E,isSaml:S,selectedClaimMappings:k}),u.createElement(de.Z,{hidden:!0}),m&&x&&u.createElement(da,{attributeList:qa(k,_).filter((function(e){return!(0,Oe.Z)(null==e?void 0:e.uri)})),selectedAttributesWithMapping:x,setSelectedAttributesWithMapping:j,uiProps:{attributeColumnHeader:(0,Oe.Z)(k)?P("authenticationProvider:forms.attributeSettings.attributeProvisioning.attributeColumnHeader.0"):P("authenticationProvider:forms.attributeSettings.attributeProvisioning.attributeColumnHeader.1"),attributeMapColumnHeader:P("authenticationProvider:forms.attributeSettings.attributeProvisioning.attributeMapColumnHeader"),attributeMapInputPlaceholderPrefix:P("authenticationProvider:forms.attributeSettings.attributeProvisioning.attributeMapInputPlaceholderPrefix"),componentHeading:P("authenticationProvider:forms.attributeSettings.attributeProvisioning.componentHeading"),enablePrecedingDivider:!1,hint:P("authenticationProvider:forms.attributeSettings.attributeProvisioning.hint")},"data-testid":"".concat(I,"-provisioning-attribute-selection"),isReadOnly:h}),u.createElement(de.Z,{hidden:!0}),u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,null,u.createElement(R.di,{when:null==T||null===(t=T.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},u.createElement(be.Z,{primary:!0,size:"small",loading:Y,disabled:Y,onClick:te,"data-testid":"".concat(I,"-update-button")},P("common:update"))))))))};Ja.defaultProps={"data-testid":"idp-edit-attribute-settings",hideIdentityClaimAttributes:!1,provisioningAttributesEnabled:!0};var eo=n(69496),to=n(72418),no=n(6776),ro=n(9261),io=n(74636),ao=n(80259);function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function lo(){lo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:T(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,o,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,o)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,o,l){var c=d(e[i],e,a);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==oo(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=m;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(oo(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new A(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(O),u(O,c,"Generator"),u(O,o,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function co(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return so(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return so(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mo=function(e){var t=e.editingIDP,n=e.isSetStrongerAuth,l=e.defaultListItemLimit,c=e.showListItemActions,p=e.onListItemClick,v=e.selection,h=e.isRenderedOnPortal,y=e.isLoading,g=e.loader,b=e["data-componentid"],E=(0,d.I0)(),S=(0,fr.z)().organizationType,I=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),O=uo((0,u.useState)(),2),P=O[0],A=O[1],T=uo((0,u.useState)([]),2),C=T[0],_=T[1],L=uo((0,u.useState)(0),2),N=L[0],R=L[1],k=uo((0,u.useState)(!0),2),D=k[0],M=k[1],x=uo((0,u.useState)(""),2),U=x[0],G=x[1],Z=(0,d.v9)((function(e){return e.config.ui.features})),F=(0,d.v9)((function(e){return e.application.templates})),H=(0,d.v9)((function(e){var t;return null==e||null===(t=e.application)||void 0===t?void 0:t.groupedTemplates})),V=uo((0,u.useState)(!1),2),q=V[0],K=V[1],B=(0,s.$)().t;(0,u.useEffect)((function(){M(!0),(0,w.yz)(t.id).then(function(){var e,t=(e=lo().mark((function e(t){var n,r;return lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(t.count),!(t.count>0)){e.next=8;break}return n=t.connectedApps.map((function(e){return(0,fe.sl)(e.appId)})),e.next=5,Promise.all(n.map((function(e){return e.catch((function(e){E((0,a.V_)({description:(null==e?void 0:e.description)||B("idp:connectedApps.genericError.description"),level:i.QU.ERROR,message:(null==e?void 0:e.message)||B("idp:connectedApps.genericError.message")}))}))})));case 5:r=e.sent,A(r),_(r);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){co(a,r,i,o,l,"next",e)}function l(e){co(a,r,i,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()).catch((function(e){E((0,a.V_)({description:(null==e?void 0:e.description)||B("idp:connectedApps.genericError.description"),level:i.QU.ERROR,message:(null==e?void 0:e.message)||B("idp:connectedApps.genericError.message")}))})).finally((function(){M(!1)}))}),[]),(0,u.useEffect)((function(){void 0===F&&(K(!0),io.e.getApplicationTemplates().catch((function(e){E((0,a.V_)({description:(null==e?void 0:e.description)||B("applications:notifications.fetchTemplates.genericError.description"),level:i.QU.ERROR,message:(null==e?void 0:e.message)||B("applications:notifications.fetchTemplates.genericError.message")}))})).finally((function(){K(!1)})))}),[F,H]);var z=function(e,r,i,a){if(n){var o;if(null==I||null===(o=I.legacyMode)||void 0===o||!o.applicationListSystemApps){if(a===no.jo.CONSOLE_APP_NAME)return void f.m8.push({hash:"tab=".concat(ao.w.LOGIN_FLOW),pathname:f.$x.getPaths().get("CONSOLE_SETTINGS")});if(a===no.jo.MY_ACCOUNT_APP_NAME)return void f.m8.push({pathname:f.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:"#tab=".concat(no.jo.MY_ACCOUNT_LOGIN_FLOW_TAB)})}f.m8.push({pathname:f.$x.getPaths().get("APPLICATION_SIGN_IN_METHOD_EDIT").replace(":id",e).replace(":tabName",i),search:"?".concat(no.jo.APP_STATE_STRONG_AUTH_PARAM_KEY,"=\n                ").concat(no.jo.APP_STATE_STRONG_AUTH_PARAM_VALUE),state:{id:t.id,name:t.name}})}else{var l;if(null==I||null===(l=I.legacyMode)||void 0===l||!l.applicationListSystemApps){if(a===no.jo.CONSOLE_APP_NAME)return void f.m8.push({hash:"tab=".concat(ao.w.LOGIN_FLOW),pathname:f.$x.getPaths().get("CONSOLE_SETTINGS")});if(a===no.jo.MY_ACCOUNT_APP_NAME)return void f.m8.push({pathname:f.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:"#tab=".concat(S===eo.$.SUBORGANIZATION?no.jo.SUB_ORG_MY_ACCOUNT_LOGIN_FLOW_TAB:no.jo.MY_ACCOUNT_LOGIN_FLOW_TAB)})}f.m8.push({pathname:f.$x.getPaths().get("APPLICATION_SIGN_IN_METHOD_EDIT").replace(":id",e).replace(":tabName",i),search:r===ro.Ch.READ?"?".concat(no.jo.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY,"=true"):"",state:{id:t.id,name:t.name}})}},Q=function(){return 0===C.length&&0!==N?u.createElement(o.$J,{image:(0,f.jF)().emptySearch,imageSize:"tiny",title:B("console:develop.placeholders.emptySearchResult.title"),subtitle:[B("console:develop.placeholders.emptySearchResult.subtitles.0",{query:U}),B("console:develop.placeholders.emptySearchResult.subtitles.1")],"data-componentid":"".concat(b,"-empty-search-placeholder")}):0===N?u.createElement(o.$J,{className:h?"":"list-placeholder mr-0",image:(0,f.jF)().newList,imageSize:"tiny",subtitle:[B("idp:connectedApps.placeholders.emptyList",{idpName:t.name})],"data-componentid":"".concat(b,"-empty-placeholder")}):null},Y=function(e){var t=P.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())}));_(t)};return D?u.createElement(g,null):u.createElement(o.pJ,{padded:"very"},u.createElement(o.X6,{as:"h4"},B("idp:connectedApps.header",{idpName:t.name})),u.createElement(de.Z,{hidden:!0}),P&&u.createElement($i.Z,{icon:u.createElement(j.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value.trim();G(t),t.length>0?Y(t):_(P)},placeholder:B("idp:connectedApps.placeholders.search"),floated:"left",size:"small",style:{width:"250px"},"data-componentid":"".concat(b,"-searched")}),u.createElement(o.wQ,{className:"connected-applications-table",isLoading:y||q,loadingStateOptions:{count:null!=l?l:f.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:!n&&function(){if(c)return[{"data-componentid":"".concat(b,"-item-edit-button"),hidden:function(){return!(0,r.cr)(null==Z?void 0:Z.applications,no.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT"))},icon:function(){return"caret right"},onClick:function(e,t){z(t.id,t.access,"#tab=".concat(no.jo.SIGN_IN_METHOD_TAB_URL_FRAG),t.name)},popupText:function(){return B("idp:connectedApps.action")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n="";if(new Set([no.jo.CUSTOM_APPLICATION_SAML,no.jo.CUSTOM_APPLICATION_OIDC,no.jo.CUSTOM_APPLICATION_PASSIVE_STS]).has(e.templateId))n=F&&F instanceof Array&&F.length>0&&F.find((function(e){return e.id===no.jo.CUSTOM_APPLICATION})).name;else{var r=F&&F instanceof Array&&F.length>0&&F.find((function(t){return t.id===e.templateId}));if(null!=r&&r.templateGroup){var i=r.templateGroup;n=H&&H instanceof Array&&H.length>0&&H.find((function(e){return e.id===i||e.templateGroup===i})).name}}return u.createElement(pa.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(b,"-item-heading")},e.image?u.createElement(o.JT,{size:"mini",name:e.name,image:e.image,spaced:"right","data-componentid":"".concat(b,"-item-image")}):u.createElement(o.JT,{image:u.createElement(o.Xo,{name:e.name,size:"mini","data-componentid":"".concat(b,"-item-image-inner")}),size:"mini",spaced:"right","data-componentid":"".concat(b,"-item-image")}),u.createElement(pa.Z.Content,null,e.name,(null===(t=e.advancedConfigurations)||void 0===t?void 0:t.fragment)&&u.createElement(m.Z,{size:"mini"},B("applications:list.labels.fragment")),u.createElement("div",null,n&&u.createElement(m.Z,{className:"no-margin-left",size:"tiny"},n))))},title:B("applications:list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:B("applications:list.columns.actions")}],data:C,onRowClick:function(e,t){z(t.id,t.access,"#tab=".concat(no.jo.SIGN_IN_METHOD_TAB_URL_FRAG),t.name),p&&p(e,t)},placeholders:Q(),selectable:v,showHeader:to.applicationListConfig.enableTableHeaders,transparent:!(y||q)&&null!==Q(),"data-componentid":"".concat(b,"-data-table")}))};mo.defaultProps={"data-componentid":"idp-edit-connected-apps",selection:!0,showListItemActions:!0};var fo=n(67442);function po(e){return function(e){if(Array.isArray(e))return yo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ho(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||ho(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t){if(e){if("string"==typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(e,t):void 0}}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var go=function(e){var t=e.closeWizard,n=e.updateList,r=e.idpId,l=e.groupsList,c=e["data-componentid"],m=(0,s.$)().t,f=(0,d.I0)(),p=vo((0,u.useState)(!1),2),v=p[0],h=p[1],g=vo((0,u.useState)(""),2),b=g[0],E=g[1];return u.createElement(U.Z,{open:!0,className:"wizard create-role-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!1,"data-componentid":c,as:ri.Z,onSubmit:function(){h(!0);var e=[].concat(po(l),[{id:"",name:b.trim()}]);if(l.some((function(e){return e.name===b.trim()})))return f((0,a.V_)({description:m("extensions:console.identityProviderGroups.createGroupWizard.notifications.duplicateGroupError.description"),level:i.QU.ERROR,message:m("extensions:console.identityProviderGroups.createGroupWizard.notifications.duplicateGroupError.message")})),t(),void h(!1);(0,w.Ro)(r,e).then((function(){f((0,a.V_)({description:m("extensions:console.identityProviderGroups.createGroupWizard.notifications.createIdentityProviderGroup.success.description"),level:i.QU.SUCCESS,message:m("extensions:console.identityProviderGroups.createGroupWizard.notifications.createIdentityProviderGroup.success.message")})),t(),n()})).catch((function(){f((0,a.V_)({description:m("extensions:console.identityProviderGroups.createGroupWizard.notifications.createIdentityProviderGroup.genericError.description"),level:i.QU.ERROR,message:m("extensions:console.identityProviderGroups.createGroupWizard.notifications.createIdentityProviderGroup.genericError.message")}))})).finally((function(){h(!1)}))},id:"create-idp-group-form"},u.createElement(U.Z.Header,{className:"wizard-header"},m("roles:addRoleWizard.heading",{type:"Group"}),u.createElement(o.X6,{as:"h6"},m("extensions:console.identityProviderGroups.createGroupWizard.subHeading"))),u.createElement(U.Z.Content,{className:"pb-6",scrolling:!0},u.createElement(y.Z,null,u.createElement(y.Z.Row,{columns:1,key:1},u.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10,key:"identityProviderGroupName"},u.createElement(ri.Z.Input,{name:"identityProviderGroupName",label:m("extensions:console.identityProviderGroups.createGroupWizard.groupNameLabel"),placeholder:m("extensions:console.identityProviderGroups.createGroupWizard.groupNamePlaceHolder"),onChange:function(e){return E(e.target.value)},value:b,required:!0,maxLength:oe.v.CLAIM_CONFIG_FIELD_MAX_LENGTH,minLength:oe.v.CLAIM_CONFIG_FIELD_MIN_LENGTH,width:16,"data-componentid":"".concat(c,"-group-name")}),u.createElement(o.kW,null,m("extensions:console.identityProviderGroups.createGroupWizard.groupNameHint")))))),u.createElement(U.Z.Actions,null,u.createElement(y.Z,null,u.createElement(y.Z.Row,{column:1,key:1},u.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.Qj,{floated:"left",onClick:function(){return t()},"data-componentid":"".concat(c,"-cancel-button")},m("common:cancel"))),u.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.KM,{floated:"right","data-componentid":"".concat(c,"-finish-button"),disabled:b.trim().length<=0||v,loading:v,type:"submit"},m("common:create")))))))};function bo(e){return function(e){if(Array.isArray(e))return Io(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||So(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||So(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){if(e){if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Io(e,t):void 0}}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}go.defaultProps={"data-componentid":"identity-provider-group-create-wizard"};var Oo=function(e){var t,n=e.allowedScopes,l=e.featureConfig,c=e.readOnly,m=e.idpId,p=e.isGroupListLoading,v=e["data-componentid"],h=(0,s.$)().t,y=(0,d.I0)(),g=Eo((0,u.useState)(!1),2),b=g[0],E=g[1],S=Eo((0,u.useState)(!1),2),I=S[0],O=S[1],P=Eo((0,u.useState)(!1),2),A=P[0],T=P[1],C=Eo((0,u.useState)([]),2),_=C[0],L=C[1],N=Eo((0,u.useState)(void 0),2),k=N[0],D=N[1],M=Eo((0,u.useState)(""),2),x=M[0],U=M[1],G=(0,w.MZ)(m),Z=G.data,F=G.isLoading,H=G.mutate,V=G.error;(0,u.useEffect)((function(){Z instanceof fo.u||V?K():Z&&L(Z)}),[Z]),(0,u.useEffect)((function(){if(x){var e=null==Z?void 0:Z.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())}));L(e)}else L(Z)}),[x]);var q,K=function(){y((0,a.V_)({description:h("extensions:console.identityProviderGroups.groupsList.notifications.fetchGroups.genericError.description"),level:i.QU.ERROR,message:h("extensions:console.identityProviderGroups.groupsList.notifications.fetchGroups.genericError.message")}))};return u.createElement(u.Fragment,null,u.createElement(o.PS,{showTopActionPanel:!(p||F||(0,Oe.Z)(x)&&0===(null==_?void 0:_.length)),listItemLimit:f.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,showPagination:!1,onPageChange:function(){return null},totalPages:Math.ceil((null==_?void 0:_.length)/f.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),"data-componentId":"".concat(v,"-list-layout"),leftActionPanel:u.createElement("div",{className:"advanced-search-wrapper aligned-left fill-default p-1 pl-3 pr-3"},u.createElement($i.Z,{className:"with-add-on mt-3","data-componentId":"".concat(v,"-list-search-input"),icon:"search",iconPosition:"left",onChange:function(e){return U(e.target.value)},placeholder:h("extensions:console.identityProviderGroups.groupsList.searchByName"),value:x,floated:"right",size:"small",transparent:!0}),u.createElement(R.di,{when:null==l||null===(t=l.groups)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create},u.createElement(o.KM,{"data-testid":"user-mgt-roles-list-update-button",size:"medium",icon:u.createElement(j.Z,{name:"add"}),floated:"right",onClick:function(){return E(!0)}},u.createElement(j.Z,{name:"add"}),h("extensions:console.identityProviderGroups.groupsList.newGroup"))))},u.createElement(o.wQ,{className:"idp-groups-table",isLoading:p||F,loadingStateOptions:{count:1,imageType:"square"},actions:[{hidden:function(){var e;return!(0,r.Xr)(null==l?void 0:l.identityProviders,null==l||null===(e=l.identityProviders)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,n)||c},icon:function(){return"trash alternate"},onClick:function(e,t){D(t),T(!0)},popupText:function(){return it.I18n.instance.t("common:delete")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return u.createElement(pa.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(v,"-item-heading")},u.createElement(o.JT,{image:u.createElement(o.Xo,{name:e.name,size:"mini","data-testid":"".concat(v,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(v,"-item-image")}),u.createElement(pa.Z.Content,null,e.name))},title:null},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:_,onRowClick:function(){return null},placeholders:x&&0===(null==_?void 0:_.length)?u.createElement(o.$J,{"data-testid":"".concat(v,"-search-empty-placeholder"),action:u.createElement(o.Qj,{"data-testid":"".concat(v,"-search-empty-placeholder-clear-button"),onClick:function(){return U("")}},h("roles:list.emptyPlaceholders.search.action")),image:(0,f.jF)().emptySearch,imageSize:"tiny",title:h("roles:list.emptyPlaceholders.search.title"),subtitle:[h("roles:list.emptyPlaceholders.search.subtitles.0",{searchQuery:x}),h("roles:list.emptyPlaceholders.search.subtitles.1")]}):0===(null==_?void 0:_.length)?(0,r.Xr)(null==l?void 0:l.groups,null==l||null===(q=l.groups)||void 0===q||null===(q=q.scopes)||void 0===q?void 0:q.create,n)?u.createElement(o.$J,{"data-testid":"".concat(v,"-empty-list-empty-placeholder"),action:u.createElement(o.KM,{"data-testid":"".concat(v,"-empty-list-empty-placeholder-add-button"),onClick:function(){return E(!0)}},u.createElement(j.Z,{name:"add"}),h("roles:list.emptyPlaceholders.emptyRoleList.action",{type:"Group"})),image:(0,f.jF)().newList,imageSize:"tiny",title:h("extensions:console.applicationRoles.connectorGroups.placeholder.title"),subtitle:[h("extensions:console.applicationRoles.connectorGroups.placeholder.subTitle.0"),h("extensions:console.applicationRoles.connectorGroups.placeholder.subTitle.1")]}):u.createElement(o.$J,{"data-testid":"".concat(v,"-empty-list-empty-placeholder"),image:(0,f.jF)().newList,imageSize:"tiny",title:h("extensions:console.identityProviderGroups.groupsList.noGroupsAvailable"),subtitle:[h("roles:list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"groups"})]}):null,transparent:null,showHeader:!1,"data-testid":v})),u.createElement(o.cV,{primaryActionLoading:I,"data-componentid":"".concat(v,"-delete-confirmation-modal"),onClose:function(){return T(!1)},type:"negative",open:A,assertionHint:h("extensions:develop.emailProviders.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:h("common:confirm"),secondaryAction:h("common:cancel"),onSecondaryActionClick:function(){return T(!1)},onPrimaryActionClick:function(){var e;O(!0),(e=bo(_.filter((function(e){return e.id!==k.id}))),(0,w.Ro)(m,e).then((function(){return y((0,a.V_)({description:h("extensions:console.identityProviderGroups.groupsList.notifications.deleteGroup.success.description"),level:i.QU.SUCCESS,message:h("extensions:console.identityProviderGroups.groupsList.notifications.deleteGroup.success.message")})),H(),Promise.resolve()})).catch((function(){return y((0,a.V_)({description:h("extensions:console.identityProviderGroups.groupsList.notifications.deleteGroup.genericError.description"),level:i.QU.ERROR,message:h("extensions:console.identityProviderGroups.groupsList.notifications.deleteGroup.genericError.message")})),Promise.reject()}))).finally((function(){O(!1),T(!1)}))},closeOnDimmerClick:!1},u.createElement(o.cV.Header,{"data-componentid":"".concat(v,"-delete-confirmation-modal-header")},h("extensions:develop.emailProviders.confirmationModal.header")),u.createElement(o.cV.Message,{"data-componentid":"".concat(v,"-delete-confirmation-modal-message"),attached:!0,negative:!0},h("extensions:console.identityProviderGroups.groupsList.confirmation.deleteGroup.message")),u.createElement(o.cV.Content,null,h("extensions:console.identityProviderGroups.groupsList.confirmation.deleteGroup.content",{groupName:null==k?void 0:k.name}))),b&&u.createElement(go,{idpId:m,groupsList:_,closeWizard:function(){return E(!1)},updateList:function(){return H()}}))};function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ao(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Oo.defaultProps={"data-componentid":"identity-provider-groups-list"};var To=function(e){var t=e.editingIDP,n=e.isReadOnly,r=e.isOIDC,l=e["data-componentid"],c=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),m=(0,d.v9)((function(e){return e.config.ui.features})),f=(0,p.Z)().UIConfig,v=(0,d.I0)(),h=(0,s.$)().t,g=Po((0,u.useState)(""),2),b=g[0],E=g[1],S=(0,w.$V)(null==t?void 0:t.id),I=S.data,O=S.isLoading,P=S.error;(0,u.useEffect)((function(){I instanceof fo.u||P?A():I&&E(T())}),[I]);var A=function(){v((0,a.V_)({description:h("extensions:console.identityProviderGroups.claimConfigs.notifications.fetchConfigs.genericError.description"),level:i.QU.ERROR,message:h("extensions:console.identityProviderGroups.claimConfigs.notifications.fetchConfigs.genericError.message")}))},T=function(){var e;if((null==I||null===(e=I.mappings)||void 0===e?void 0:e.length)>0){var t=I.mappings.find((function(e){return e.localClaim.uri===oe.v.LOCAL_DIALECT_GROUP_CLAIM}));return t?t.idpClaim:""}return""};return O?u.createElement(o.pJ,{padded:!0},u.createElement(o.pO,{inline:"centered",active:!0})):u.createElement(u.Fragment,null,function(){var e,n;if(!f)return null;if(f.useRoleClaimAsGroupClaim)return u.createElement(o.v0,{header:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributeLabel"),content:u.createElement(u.Fragment,null,u.createElement("p",null,"Please note that the attribute selected in the Group section of the ",u.createElement("strong",null,"Attributes tab")," as the ",u.createElement("strong",null,"Group Attribute")," is used to identify groups at the Connection."),u.createElement("p",null,"For modifications to the ",u.createElement("strong",null,"Group Attribute"),", please go to the Group section in the ",u.createElement("strong",null,"Attributes tab"),".")),"data-componentid":"".concat(l,"-group-attribute-message"),info:!0});var i=r?oe.v.STANDARD_DIALECT_GROUP_CLAIM:oe.v.LOCAL_DIALECT_GROUP_CLAIM,a=u.createElement(o.v0,{header:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributeLabel"),content:r?u.createElement(W.c,{i18nKey:"extensions:console.identityProviderGroups.claimConfigs.groupAttributeMessageOIDC",tOptions:{attribute:i}},"Please note that OpenID Connect attribute named ",u.createElement("strong",null,i)," will be considered as the default ",u.createElement("strong",null,"Group Attribute")," as you have not added a custom attribute mapping."):u.createElement(W.c,{i18nKey:"extensions:console.identityProviderGroups.claimConfigs.groupAttributeMessageSAML",tOptions:{attribute:i}},"Please note that ",u.createElement("strong",null,i)," attribute will be considered as the default ",u.createElement("strong",null,"Group Attribute")," as you have not added a custom attribute mapping."),"data-componentid":"".concat(l,"-group-attribute-message"),info:!0});return 0===(null!==(e=null==t||null===(n=t.claims)||void 0===n||null===(n=n.mappings)||void 0===n?void 0:n.length)&&void 0!==e?e:0)?a:(0,Oe.Z)(b)?f.isCustomClaimMappingEnabled&&!f.isCustomClaimMappingMergeEnabled?u.createElement(o.v0,{header:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributeLabel"),content:u.createElement("p",null,"Please note that you have enabled custom attribute mapping, but have not added a custom attribute mapping for the connection's groups attribute. Go to the ",u.createElement("strong",null,"Attributes tab")," to add a custom attribute mapping for the connection's groups attribute."),"data-componentid":"".concat(l,"-group-attribute-message"),info:!0}):a:u.createElement(o.pJ,{padded:"very"},u.createElement(y.Z,null,u.createElement(y.Z.Row,null,u.createElement(y.Z.Column,{width:8},u.createElement(ri.Z,{id:"idp-group-attributes-form"},u.createElement(ri.Z.Input,{name:"groupAttribute",label:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributeLabel"),placeholder:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributePlaceholder"),readOnly:!0,maxLength:oe.v.CLAIM_CONFIG_FIELD_MAX_LENGTH,minLength:oe.v.CLAIM_CONFIG_FIELD_MIN_LENGTH,"data-componentid":"".concat(l,"-group-attribute-input"),value:b,onChange:function(e){E(e.target.value)},width:16}),u.createElement(o.kW,null,"The attribute from the connection that will be mapped to the organization's group attribute. For modifications, please go to the",u.createElement("strong",null," Attributes tab"),"."))))))}(),u.createElement(de.Z,{hidden:!0}),u.createElement(o.pJ,{padded:"very"},u.createElement(Oo,{idpId:null==t?void 0:t.id,featureConfig:m,readOnly:n,allowedScopes:c,isGroupListLoading:!1})))};To.defaultProps={"data-componentid":"identity-provider-groups-tab"};var Co=n(97474);function _o(e){return function(e){if(Array.isArray(e))return No(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||Lo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){if(e){if("string"==typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?No(e,t):void 0}}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ro=function(e){var t=e.idpId,n=e.isLoading,r=e.jitProvisioningConfigurations,l=e.onUpdate,c=e.isReadOnly,m=e.loader,f=e["data-testid"],p=(0,d.I0)(),v=(0,fr.z)(),h=v.isSuperOrganization,y=v.isFirstLevelOrganization,g=(0,s.$)().t,b=wo((0,u.useState)([]),2),E=b[0],S=b[1];return(0,u.useEffect)((function(){var e=[];e.push({id:"PRIMARY",name:"PRIMARY"}),h()||y()?(0,Co.ow)().then((function(t){e.push.apply(e,_o(t.data)),S(e)})).catch((function(){S(e)})):S(e)}),[]),n?u.createElement(m,null):u.createElement(o.pJ,{padded:"very"},u.createElement(gr,{idpId:t,initialValues:r,onSubmit:function(e){(0,w.Lv)(t,e).then((function(){p((0,a.V_)({description:g("authenticationProvider:notifications.updateJITProvisioning.success.description"),level:i.QU.SUCCESS,message:g("authenticationProvider:notifications.updateJITProvisioning.success.message")})),l(t)})).catch((function(){p((0,a.V_)({description:g("authenticationProvider:notifications.updateJITProvisioning.genericError.description"),level:i.QU.ERROR,message:g("authenticationProvider:notifications.updateJITProvisioning.genericError.message")}))}))},useStoreList:E,"data-testid":f,isReadOnly:c}))};Ro.defaultProps={"data-testid":"idp-edit-jit-provisioning-settings"};var ko=n(2332);function Do(e){return function(e){if(Array.isArray(e))return jo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||xo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(e,t){if(e){if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(e,t):void 0}}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uo=function(e){var t=e.connectionSettingsMetaData,i=e.identityProvider,a=e.isLoading,l=e.isSaml,c=e.isOidc,s=e.onDelete,m=e.onUpdate,f=e.template,p=e.type,v=e.isReadOnly,h=e.isAutomaticTabRedirectionEnabled,y=e.setIsAutomaticTabRedirectionEnabled,g=e.tabIdentifier,E=e["data-testid"],S=(0,d.v9)((function(e){return e.config.ui.features})),I=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),O=Mo((0,u.useState)(void 0),2),P=O[0],A=O[1],T=Mo((0,u.useState)(0),2),C=T[0],_=T[1],w=(0,d.v9)((function(e){var t;return null===(t=e.config.ui.features.identityProviders)||void 0===t?void 0:t.disabledFeatures})),L=Mo((0,u.useState)(!1),2),N=L[0],R=L[1],k=Mo((0,u.useState)(!1),2),D=k[0],M=k[1],x=(0,u.useMemo)((function(){var e;return(0,r.Xr)(null==S?void 0:S.applications,null==S||null===(e=S.applications)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.read,I)}),[S,I]),j=i.federatedAuthenticators.defaultAuthenticatorId===oe.v.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID,U=(null==i?void 0:i.federatedAuthenticators.defaultAuthenticatorId)===pe.f.SAML_AUTHENTICATOR_ID||(null==i?void 0:i.federatedAuthenticators.defaultAuthenticatorId)===pe.f.OIDC_AUTHENTICATOR_ID,G=new URLSearchParams(location.search),Z={alias:i.alias,certificate:i.certificate,homeRealmIdentifier:i.homeRealmIdentifier,isFederationHub:i.isFederationHub},F={isEnabled:i.implicitAssociation.isEnabled,lookupAttribute:i.implicitAssociation.lookupAttribute},H=function(e){m(e,h&&g?g:X()[C]["data-tabid"])},V=function(){return u.createElement(o.pJ,{padded:!0},u.createElement(o.pO,{inline:"centered",active:!0}))},q=function(){var e,t;return u.createElement(o.M$.Pane,{controlledSegmentation:!0},u.createElement(kr,{hideIdPLogoEditField:null===(e=b.identityProviderConfig.utils)||void 0===e?void 0:e.hideLogoInputFieldInIdPGeneralSettingsForm(null==i||null===(t=i.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId),templateType:p,isSaml:l,isOidc:c,editingIDP:i,isLoading:a,onDelete:s,onUpdate:H,"data-testid":"".concat(E,"-general-settings"),isReadOnly:v,loader:V}))},K=function(){return u.createElement(o.M$.Pane,{controlledSegmentation:!0},u.createElement(Ja,{idpId:i.id,initialClaims:i.claims,initialRoleMappings:i.roles.mappings,isLoading:a,onUpdate:H,hideIdentityClaimAttributes:(l||c)&&b.identityProviderConfig.utils.hideIdentityClaimAttributes(i.federatedAuthenticators.defaultAuthenticatorId),isRoleMappingsEnabled:l||b.identityProviderConfig.utils.isRoleMappingsEnabled(i.federatedAuthenticators.defaultAuthenticatorId),"data-testid":"".concat(E,"-attribute-settings"),provisioningAttributesEnabled:!(null!=w&&w.includes("identityProviders.attributes.provisioningAttributes"))&&(l||b.identityProviderConfig.utils.isProvisioningAttributesEnabled(i.federatedAuthenticators.defaultAuthenticatorId)),isReadOnly:v,loader:V,isOIDC:c,isSaml:l}))},B=function(){return u.createElement(o.M$.Pane,{controlledSegmentation:!0},u.createElement(ei,{connectionSettingsMetaData:t,identityProvider:i,isLoading:a,onUpdate:H,"data-testid":"".concat(E,"-authenticator-settings"),isReadOnly:v,loader:V}))},z=function(){var e;return u.createElement(o.M$.Pane,{controlledSegmentation:!0},u.createElement(Vi,{identityProvider:i,outboundConnectors:null===(e=i.provisioning)||void 0===e?void 0:e.outboundConnectors,isLoading:a,onUpdate:H,"data-testid":"".concat(E,"-outbound-provisioning-settings"),isReadOnly:v,loader:V}))},Q=function(){var e;return u.createElement(o.M$.Pane,{controlledSegmentation:!0},u.createElement(Ro,{idpId:i.id,jitProvisioningConfigurations:null===(e=i.provisioning)||void 0===e?void 0:e.jit,isLoading:a,onUpdate:H,"data-testid":"".concat(E,"-jit-provisioning-settings"),isReadOnly:v,loader:V}))},Y=function(){return u.createElement(o.M$.Pane,{controlledSegmentation:!0},u.createElement(Yi,{editingIDP:i,advancedConfigurations:Z,implicitAssociationConfig:F,onUpdate:H,"data-testid":"".concat(E,"-advance-settings"),isReadOnly:v,isLoading:a,loader:V,templateType:p}))},W=function(){return u.createElement(o.M$.Pane,{controlledSegmentation:!0},u.createElement(mo,{editingIDP:i,isReadOnly:v,isLoading:a,loader:V,"data-componentid":"".concat(E,"-connected-apps-settings")}))},$=function(){return u.createElement(o.M$.Pane,{controlledSegmentation:!0},u.createElement(To,{editingIDP:i,isReadOnly:v,isLoading:a,loader:V,isOIDC:c,"data-componentid":"".concat(E,"-groups-settings")}))};(0,u.useEffect)((function(){R("trusted-token-issuer"===p),M("expert-mode-idp"===p)}),[p]),(0,u.useEffect)((function(){var e,r;if(!P&&null!=t&&null!==(e=t.edit)&&void 0!==e&&null!==(e=e.tabs)&&void 0!==e&&e.quickStart&&null!=i&&i.id){var a,o=[];if("string"==typeof(null==t||null===(r=t.edit)||void 0===r||null===(r=r.tabs)||void 0===r?void 0:r.quickStart))o=b.identityProviderConfig.editIdentityProvider.getTabExtensions({content:(0,u.lazy)((function(){var e;return n(53715)("./".concat(null==t||null===(e=t.edit)||void 0===e||null===(e=e.tabs)||void 0===e?void 0:e.quickStart,"/quick-start"))})),identityProvider:i,template:f});else o=b.identityProviderConfig.editIdentityProvider.getTabExtensions({content:(0,u.lazy)((function(){return n.e(86880).then(n.bind(n,86880))})),identityProvider:i,quickStartContent:null==t||null===(a=t.edit)||void 0===a||null===(a=a.tabs)||void 0===a?void 0:a.quickStart,template:f});Array.isArray(o)&&o.length>0&&(G.get(oe.v.IDP_STATE_URL_SEARCH_PARAM_KEY)||_(1)),A(o)}}),[f,P,i,t]);var X=function(){var e,t=[];P&&P.length>0&&t.push.apply(t,Do(P)),J(p,pr.VR.GENERAL)&&t.push({"data-tabid":oe.v.GENERAL_TAB_ID,menuItem:"General",render:q}),J(p,pr.VR.SETTINGS)&&!j&&t.push({"data-tabid":oe.v.SETTINGS_TAB_ID,menuItem:"Settings",render:B});var n,r=l&&b.identityProviderConfig.editIdentityProvider.attributesSettings,i=c;(!J(p,pr.VR.USER_ATTRIBUTES)||j||p===ko.b.IDP_TEMPLATE_IDS.OIDC&&!i||p===ko.b.IDP_TEMPLATE_IDS.SAML&&!r||t.push({"data-tabid":oe.v.ATTRIBUTES_TAB_ID,menuItem:"Attributes",render:K}),J(p,pr.VR.CONNECTED_APPS)&&x&&t.push({"data-tabid":oe.v.CONNECTED_APPS_TAB_ID,menuItem:"Connected Apps",render:W}),J(p,pr.VR.IDENTITY_PROVIDER_GROUPS)&&null!=S&&null!==(e=S.identityProviderGroups)&&void 0!==e&&e.enabled&&!j&&t.push({"data-tabid":oe.v.IDENTITY_PROVIDER_GROUPS_TAB_ID,menuItem:"Groups",render:$}),J(p,pr.VR.OUTBOUND_PROVISIONING)&&b.identityProviderConfig.editIdentityProvider.showOutboundProvisioning&&!j&&t.push({"data-tabid":oe.v.OUTBOUND_PROVISIONING_TAB_ID,menuItem:"Outbound Provisioning",render:z}),J(p,pr.VR.JIT_PROVISIONING)&&b.identityProviderConfig.editIdentityProvider.showJitProvisioning&&!j)&&t.push({"data-tabid":oe.v.JIT_PROVISIONING_TAB_ID,menuItem:null===(n=b.identityProviderConfig.jitProvisioningSettings)||void 0===n?void 0:n.menuItemName,render:Q});return J(p,pr.VR.ADVANCED)&&b.identityProviderConfig.editIdentityProvider.showAdvancedSettings&&!j&&t.push({"data-tabid":oe.v.ADVANCED_TAB_ID,menuItem:"Advanced",render:Y}),t},J=function(e,t){var n=b.identityProviderConfig.editIdentityProvider.isTabEnabledForIdP(e,t);return void 0===n||n};return i&&!a&&(j||N||U||D||P)?u.createElement(o.M$,{isLoading:a,"data-testid":"".concat(E,"-resource-tabs"),panes:X(),defaultActiveIndex:C,onTabChange:function(e,t){_(t.activeIndex),h&&y(!1)},isAutomaticTabRedirectionEnabled:h,tabIdentifier:g}):u.createElement(V,null)};Uo.defaultProps={"data-testid":"idp-edit"};var Go=n(88453),Zo=n(94422),Fo=n(83175);function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){Ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ko(e,t,n){var r;return r=function(e,t){if("object"!=Ho(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ho(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qo=function(e){var t,n,h,y=e.location,g=e["data-testid"],b=(0,d.I0)(),E=(0,s.$)().t,S=(0,p.Z)().UIConfig,I=(0,Go.z)(),O=(0,u.useRef)(null),P=null==S?void 0:S.connectionResourcesUrl,A=Bo((0,u.useState)(void 0),2),T=A[0],L=A[1],N=Bo((0,u.useState)(void 0),2),R=N[0],k=N[1],D=Bo((0,u.useState)([]),2),M=D[0],x=D[1],j=Bo((0,u.useState)(void 0),2),U=j[0],G=j[1],Z=Bo((0,u.useState)(void 0),2),F=Z[0],H=Z[1],V=(0,d.v9)((function(e){return e.config.ui.features})),q=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),K=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName})),B=Bo((0,u.useState)(!1),2),z=B[0],Q=B[1],Y=Bo((0,u.useState)(),2),W=Y[0],$=Y[1],X=Bo((0,u.useState)(!1),2),J=X[0],ee=X[1],te=Bo((0,u.useState)(void 0),2),ne=te[0],re=te[1],ie=Bo((0,u.useState)(void 0),2),ae=ie[0],le=ie[1],ce=(0,u.useMemo)((function(){var e;return!(0,r.Xr)(null==V?void 0:V.identityProviders,null==V||null===(e=V.identityProviders)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,q)}),[V,q]),ue=(0,o.fQ)().getLink;(0,u.useEffect)((function(){if(R&&Array.isArray(R)&&R.length>0){var e=R.map((function(e){return"enterprise-oidc-idp"===e.id||"enterprise-saml-idp"===e.id?qo(qo({},e),{},{templateGroup:"enterprise-protocols"}):e}));Fo.K.reorderConnectionTemplates(e).then((function(e){x(e)}))}}),[R]),(0,u.useEffect)((function(){M&&Array.isArray(M)&&M.length>0&&Fo.K.categorizeTemplates(M).then((function(e){var t;e.filter((function(e){e.templates=(0,c.Z)(e.templates,["comingSoon"],["desc"])})),I(null===(t=e[0])||void 0===t?void 0:t.templates)})).catch((function(){I([])}))}),[M]),(0,u.useEffect)((function(){if(O||F){var e=O.current;e&&e.offsetWidth<e.scrollWidth&&Q(!0)}}),[O,F]),(0,u.useEffect)((function(){if(v.identityProviderConfig){var e=y.pathname.split("/"),t=e[e.length-1],n=(0,l.Z)(v.identityProviderConfig.authenticators,t);null!=n&&n.isEnabled?he(t,null==n?void 0:n.useAuthenticatorsAPI):fe(t)}}),[v.identityProviderConfig]),(0,u.useEffect)((function(){se()}),[]);var se=function(){var e=arguments.length>1?arguments[1]:void 0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e=null==y?void 0:y.state),void 0!==e&&(ee(!0),$(e))};(0,u.useEffect)((function(){if(U&&ve.Zs.isConnectorIdentityProvider(U))if(null!=S&&S.connectionTemplates&&(null==S?void 0:S.connectionTemplates)instanceof Array&&(null==S?void 0:S.connectionTemplates.length)>0){U.templateId||(U.templateId=oe.v.EXPERT_MODE_TEMPLATE_ID);var e={},t=U.templateId;if(!t){var n,r=null==U||null===(n=U.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId;r===oe.v.FACEBOOK_AUTHENTICATOR_ID?t=oe.v.IDP_TEMPLATE_IDS.FACEBOOK:r===oe.v.GOOGLE_OIDC_AUTHENTICATOR_ID?t=oe.v.IDP_TEMPLATE_IDS.GOOGLE:r===oe.v.OIDC_AUTHENTICATOR_ID?t=oe.v.IDP_TEMPLATE_IDS.OIDC:r===oe.v.SAML_AUTHENTICATOR_ID?t=oe.v.IDP_TEMPLATE_IDS.SAML:r===oe.v.GITHUB_AUTHENTICATOR_ID?t=oe.v.IDP_TEMPLATE_IDS.GITHUB:r===oe.v.APPLE_AUTHENTICATOR_ID&&(t=oe.v.IDP_TEMPLATE_IDS.APPLE)}if(t===oe.v.IDP_TEMPLATE_IDS.OIDC||t===oe.v.IDP_TEMPLATE_IDS.SAML){var i,a=null==S?void 0:S.connectionTemplates.find((function(e){return"enterprise-protocols"===e.id}));e=null==a||null===(i=a.subTemplates)||void 0===i?void 0:i.find((function(e){return e.id===t}))}else e=null==S?void 0:S.connectionTemplates.find((function(e){return e.id===t}));L(e)}else de()}),[null==S?void 0:S.connectionTemplates,U]),(0,u.useEffect)((function(){T&&(null==T?void 0:T.id)!==oe.v.TRUSTED_TOKEN_TEMPLATE_ID&&(null==T?void 0:T.id)!==oe.v.EXPERT_MODE_TEMPLATE_ID&&(null==T?void 0:T.id)!==oe.v.IDP_TEMPLATE_IDS.OIDC&&(null==T?void 0:T.id)!==oe.v.IDP_TEMPLATE_IDS.SAML&&me(T.id)}),[T]);var de=function(){(0,w.Ty)().then((function(e){k(e)}))},me=function(e){le(!0),(0,w.fh)(e).then((function(e){re(e)})).catch((function(e){(0,ve.p1)(e)})).finally((function(){le(!1)}))},fe=function(e){H(!0),(0,w.Wv)(e).then((function(e){G(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?b((0,a.V_)({description:E("authenticationProvider:notifications.getIDP.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:E("authenticationProvider:notifications.getIDP.error.message")})):b((0,a.V_)({description:E("authenticationProvider:notifications.getIDP.genericError.description"),level:i.QU.ERROR,message:E("authenticationProvider:notifications.getIDP.genericError.message")}))})).finally((function(){H(!1)}))},he=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];H(!0);var n=function(t){t(e).then((function(e){G(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?b((0,a.V_)({description:E("authenticationProvider:notifications.getConnectionDetails.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:E("authenticationProvider:notifications.getConnectionDetails.error.message")})):b((0,a.V_)({description:E("authenticationProvider:notifications.getConnectionDetails.genericError.description"),level:i.QU.ERROR,message:E("authenticationProvider:notifications.getConnectionDetails.genericError.message")}))})).finally((function(){H(!1)}))};n(t?_.hc:_.Rz)},ye=function(){f.m8.push(f.$x.getPaths().get("IDP"))};return u.createElement(o.O9,{pageTitle:"Edit Connection",isLoading:F,loadingStateOptions:{count:5,imageType:"square"},title:function(e){return e?ve.Zs.isConnectorIdentityProvider(e)?u.createElement(u.Fragment,null,e.name,!1===F&&e.name&&function(e){return e&&ve.Zs.isConnectorIdentityProvider(e)?null!=e&&e.isEnabled?u.createElement(o._x,{popupHeader:E("authenticationProvider:popups.appStatus.enabled.header"),popupSubHeader:E("authenticationProvider:popups.appStatus.enabled.content"),labelColor:"green"}):u.createElement(o._x,{popupHeader:E("authenticationProvider:popups.appStatus.disabled.header"),popupSubHeader:E("authenticationProvider:popups.appStatus.disabled.content"),labelColor:"grey"}):null}(e)):(e.id===pe.f.FIDO_AUTHENTICATOR_ID&&(e.displayName=v.identityProviderConfig.getOverriddenAuthenticatorDisplayName(e.id,e.displayName)),e.friendlyName||e.displayName||e.name):null}(U),contentTopMargin:!0,description:function(e){var t,n,r,i;return e?ve.Zs.isConnectorIdentityProvider(e)?u.createElement("div",{className:"with-label ellipsis",ref:O},(null==T?void 0:T.name)&&u.createElement(m.Z,{size:"small"},"Expert Mode"===T.name?"Custom Connector":null==T?void 0:T.name),u.createElement(o.GI,{disabled:!z,content:null==e||null===(r=e.description)||void 0===r?void 0:r.replaceAll("{{productName}}",K),trigger:u.createElement("span",null,null==e||null===(i=e.description)||void 0===i?void 0:i.replaceAll("{{productName}}",K))})):u.createElement("div",{className:"with-label ellipsis",ref:O},null!=e&&e.description?u.createElement(o.GI,{disabled:!z,content:null==e||null===(t=e.description)||void 0===t?void 0:t.replaceAll("{{productName}}",K),trigger:u.createElement("span",null,null==e||null===(n=e.description)||void 0===n?void 0:n.replaceAll("{{productName}}",K))}):Zo.C.getAuthenticatorDescription(e.id),u.createElement(o.eb,{link:ue("develop.connections.newConnection.".concat(e.name,".learnMore"))},E("common:learnMore"))):null}(U),image:function(e){var t,n,r=ve.Zs.isOrganizationSSOConnection(null==e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId);return e?ve.Zs.isConnectorIdentityProvider(e)&&!r?e.image?u.createElement(o.JT,{hoverable:!1,name:e.name,image:ve.Zs.resolveConnectionResourcePath(P,null==e?void 0:e.image),size:"tiny"}):u.createElement(o.Xo,{hoverable:!1,name:e.name,size:"tiny",floated:"left"}):u.createElement(o.JT,{hoverable:!1,name:e.name,image:r?Zo.C.getAuthenticatorIcon(null===(n=e.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId):Zo.C.getAuthenticatorIcon(null==e?void 0:e.id),size:"tiny"}):u.createElement(o.JT,{hoverable:!1,isLoading:!0,size:"tiny"})}(U),backButton:{"data-testid":"".concat(g,"-page-back-button"),onClick:function(){f.m8.push(f.$x.getPaths().get("IDP"))},text:E("console:develop.pages.authenticationProviderTemplate.backButton")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(g,"-page-layout")},ve.Zs.isConnectorIdentityProvider(U)?u.createElement(Uo,{connectionSettingsMetaData:ne,identityProvider:U,isLoading:F||ae,onDelete:ye,onUpdate:function(e,t){fe(e),se(!1,t)},isGoogle:void 0===(null==T?void 0:T.name)?void 0:T.name===pr.u9.GOOGLE,isSaml:void 0===(null==U||null===(t=U.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)?void 0:(null==U||null===(n=U.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)===pe.f.SAML_AUTHENTICATOR_ID,isOidc:void 0===(null==U||null===(h=U.federatedAuthenticators)||void 0===h?void 0:h.defaultAuthenticatorId)?void 0:U.federatedAuthenticators.defaultAuthenticatorId===pe.f.OIDC_AUTHENTICATOR_ID,"data-testid":g,template:T,type:null==T?void 0:T.id,isReadOnly:ce,isAutomaticTabRedirectionEnabled:J,setIsAutomaticTabRedirectionEnabled:ee,tabIdentifier:W}):u.createElement(C,{authenticator:U,isLoading:F,onDelete:ye,onUpdate:function(e){if(v.identityProviderConfig){var t=(0,l.Z)(v.identityProviderConfig.authenticators,e);he(e,null==t?void 0:t.useAuthenticatorsAPI)}},type:null==U?void 0:U.id,isReadOnly:ce}))};Qo.defaultProps={"data-testid":"idp-edit-page"};const Yo=Qo},96570:e=>{e.exports=[[e.id,".authenticator-settings-dynamic-input-field input{background-color:#fff}.authenticator-settings-dynamic-input-field .MuiFormControl-root.MuiTextField-root{margin-top:5px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0b3Itc2V0dGluZ3MtZm9ybS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtEQUFrRCxxQkFBcUIsQ0FBQyxtRkFBbUYsY0FBYyIsImZpbGUiOiJhdXRoZW50aWNhdG9yLXNldHRpbmdzLWZvcm0uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hdXRoZW50aWNhdG9yLXNldHRpbmdzLWR5bmFtaWMtaW5wdXQtZmllbGQgaW5wdXR7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5hdXRoZW50aWNhdG9yLXNldHRpbmdzLWR5bmFtaWMtaW5wdXQtZmllbGQgLk11aUZvcm1Db250cm9sLXJvb3QuTXVpVGV4dEZpZWxkLXJvb3R7bWFyZ2luLXRvcDo1cHh9Il19 */","",""]]}}]);