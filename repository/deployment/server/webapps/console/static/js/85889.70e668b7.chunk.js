/*! For license information please see 85889.70e668b7.chunk.js.LICENSE.txt */
(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[85889],{85889:(e,t,n)=>{"use strict";n.d(t,{y:()=>Ne});var i=n(90988),o=n(59149),r=n(24184),a=n(54833),l=n(93129),s=n(3356),c=n(66112),u=n(86727),p=n(46440),d=n(17),f=n(67127),m=n(62170),h=n(24730),v=n(5043),g=n(44194),b=n(10479),E=n(47245),y=n(50735),A=n(89141),S=n(95165),L=n(62508),C=n(39114),w=n(39640),R=n(45246),I=n(89583),O=n(66651),T=n(24393),P=n(29459),U=n(61763),_=n(84870),N=n(32459),k=n(84902),M=n(88996),x=n(78537),D=n(65735),j=n(6776),Z=n(89608),z=n(45572),H=n(56514),F=n(9261),V=n(39521),W=n(12735),B=n(39345),Q=n(47018),G=n(19980),q=n(719),Y=n(29249),X=n(48397);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}var J=["applicationId","clientId","onApplicationSharingCompleted","onClose","data-componentid"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},K.apply(this,arguments)}function ee(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(){te=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,a=Object.create(r.prototype),l=new P(i||[]);return o(a,"_invoke",{value:R(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",m="executing",h="completed",v={};function g(){}function b(){}function E(){}var y={};c(y,a,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(U([])));S&&S!==n&&i.call(S,a)&&(y=S);var L=E.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,r,a,l){var s=p(e[o],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==$(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function R(t,n,i){var o=d;return function(r,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var s=I(l,i);if(s){if(s===v)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===d)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=m;var c=p(t,n,i);if("normal"===c.type){if(o=i.done?h:f,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=h,i.method="throw",i.arg=c.arg)}}}function I(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var r=p(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function U(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError($(t)+" is not iterable")}return b.prototype=E,o(L,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=c(E,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(w.prototype),c(w.prototype,l,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new w(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(L),c(L,s,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=U,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:U(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}function ne(e,t,n,i,o,r,a){try{var l=e[r](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,o)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){ne(r,i,o,a,l,"next",e)}function l(e){ne(r,i,o,a,l,"throw",e)}a(void 0)}))}}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function le(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var se=function(e){return e[e.SHARE_ALL=0]="SHARE_ALL",e[e.SHARE_SELECTED=1]="SHARE_SELECTED",e[e.UNSHARE=2]="UNSHARE",e}(se||{}),ce=function(e){var t=e.applicationId,n=e.clientId,i=e.onApplicationSharingCompleted,o=e.onClose,r=e["data-componentid"],a=le(e,J),c=(0,E.I0)(),p=(0,b.$)().t,d=(0,E.v9)((function(e){return e.organization.organization})),m=oe((0,g.useState)([]),2),h=m[0],v=m[1],y=oe((0,g.useState)([]),2),A=y[0],S=y[1],C=oe((0,g.useState)(se.SHARE_ALL),2),w=C[0],R=C[1],I=oe((0,g.useState)([]),2),O=I[0],P=I[1],U=oe((0,g.useState)([]),2),_=U[0],N=U[1],k=oe((0,g.useState)(),2),M=k[0],x=k[1],D=T.lD.getInstance();(0,g.useEffect)((function(){return v(O||[])}),[O]),(0,g.useEffect)((function(){return S(_||[])}),[_]),(0,g.useEffect)((function(){open&&isOrganizationManagementEnabled&&((0,X.jX)(null,null,null,null,!0,!1).then((function(e){P(e.organizations)})).catch((function(e){null!=e&&e.description?c((0,s.V_)({description:e.description,level:l.QU.ERROR,message:p("organizations:notifications.getOrganizationList.error.message")})):c((0,s.V_)({description:p("organizations:notifications.getOrganizationList.genericError.description"),level:l.QU.ERROR,message:p("organizations:notifications.getOrganizationList.genericError.message")}))})),(0,X.DM)(d.id,t).then((function(e){N(e.data.organizations)})).catch((function(e){e.response.data.description?c((0,s.V_)({description:e.response.data.description,level:l.QU.ERROR,message:p("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):c((0,s.V_)({description:p("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:l.QU.ERROR,message:p("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))})))}),[X.jX,open]);var j=(0,g.useCallback)(ie(te().mark((function e(){var r,a,u,f;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w!==se.SHARE_ALL){e.next=4;break}r={shareWithAllChildren:!0},e.next=14;break;case 4:if(w!==se.SHARE_SELECTED){e.next=14;break}if(!w){e.next=11;break}return u=A.map((function(e){return e.id})),e.next=9,(0,X.An)(t,d.id);case 9:e.next=13;break;case 11:u=(0,W.Z)(A,_,"id").map((function(e){return e.id})),a=(0,W.Z)(_,A,"id");case 13:r={shareWithAllChildren:!1,sharedOrganizations:u};case 14:w===se.SHARE_ALL||w===se.SHARE_SELECTED?((0,X.Bn)(d.id,t,r).then((function(){o(null,null),c((0,s.V_)({description:p("applications:edit.sections.shareApplication.addSharingNotification.success.description"),level:l.QU.SUCCESS,message:p("applications:edit.sections.shareApplication.addSharingNotification.success.message")})),D.publish("application-share",{"client-id":n})})).catch((function(e){o(null,null),e.response.data.message?c((0,s.V_)({description:e.response.data.message,level:l.QU.ERROR,message:p("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})):c((0,s.V_)({description:p("applications:edit.sections.shareApplication.addSharingNotification.genericError.description"),level:l.QU.ERROR,message:p("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})),D.publish("application-share-error",{"client-id":n})})).finally((function(){return i()})),null===(f=a)||void 0===f||f.forEach((function(e){(0,X.NY)(d.id,t,e.id).then((function(){o(null,null),c((0,s.V_)({description:p("applications:edit.sections.shareApplication.stopSharingNotification.success.description",{organization:e.name}),level:l.QU.SUCCESS,message:p("applications:edit.sections.shareApplication.stopSharingNotification.success.message")})),D.publish("application-share",{"client-id":n})})).catch((function(t){o(null,null),t.response.data.message?c((0,s.V_)({description:t.response.data.message,level:l.QU.ERROR,message:p("applications:edit.sections.shareApplication.stopSharingNotification.genericError.message")})):c((0,s.V_)({description:p("applications:edit.sections.shareApplication.stopSharingNotification.genericError.description",{organization:e.name}),level:l.QU.ERROR,message:p("applications:edit.sections.shareApplication.stopSharingNotification.genericError.message")})),D.publish("application-share-error",{"client-id":n})}))}))):w===se.UNSHARE&&(0,X.An)(t,d.id).then((function(){o(null,null),c((0,s.V_)({description:p("applications:edit.sections.shareApplication.addSharingNotification.success.description"),level:l.QU.SUCCESS,message:p("applications:edit.sections.shareApplication.addSharingNotification.success.message")})),D.publish("application-share",{"client-id":n})})).catch((function(e){o(null,null),e.response.data.message?c((0,s.V_)({description:e.response.data.message,level:l.QU.ERROR,message:p("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})):c((0,s.V_)({description:p("applications:edit.sections.shareApplication.addSharingNotification.genericError.description"),level:l.QU.ERROR,message:p("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})),D.publish("application-share-error",{"client-id":n})})).finally((function(){return i()}));case 15:case"end":return e.stop()}}),e)}))),[_,A,X.NY,c,d.id,t,o,w]),Z=(0,g.useCallback)((function(){A.length!==O.length?S(O):S([])}),[O,v,A]);return g.createElement(Q.Z,K({isLoading:!0,closeOnDimmerClick:!0,dimmer:"blurring",size:"tiny",closeOnDocumentClick:!0,closeOnEscape:!0,"data-testid":"".concat(r,"-share-application-modal")},a),g.createElement(Q.Z.Header,null,p("applications:edit.sections.shareApplication.heading")),g.createElement(Q.Z.Content,null,g.createElement(u.X6,{ellipsis:!0,as:"h6"},p("organizations:shareApplicationSubTitle")),g.createElement(G.Z,{basic:!0},g.createElement(q.Z,{label:p("organizations:shareApplicationRadio"),onChange:function(){return R(se.SHARE_ALL)},checked:w===se.SHARE_ALL,"data-componentid":"".concat(r,"-share-with-all-checkbox")}),g.createElement(u.kW,{popup:!0,inline:!0},p("organizations:shareApplicationInfo")),g.createElement(L.Z,{hidden:!0,className:"mb-1 mt-0"}),g.createElement(q.Z,{label:p("organizations:shareWithSelectedOrgsRadio"),onChange:function(){return R(se.SHARE_SELECTED)},checked:w===se.SHARE_SELECTED,"data-componentid":"".concat(r,"-share-with-all-checkbox")}),g.createElement(Y.Z,{visible:w===se.SHARE_SELECTED,animation:"slide down",duration:1e3},g.createElement(u.IX,{className:"pl-2",disabled:w!==se.SHARE_SELECTED,selectionComponent:!0,searchPlaceholder:p("transferList:searchPlaceholder",{type:"organizations"}),handleUnelectedListSearch:function(e,t){var n=t.value,i=[];if((0,f.Z)(n))v(O);else{x(n);var o=new RegExp((0,B.Z)(n),"i");O&&O.map((function(e){o.test(e.name)&&i.push(e)})),v(i)}},"data-componentId":"application-share-modal-organization-transfer-component"},g.createElement(u.Jv,{disabled:w!==se.SHARE_SELECTED,isListEmpty:!((null==h?void 0:h.length)>0),handleHeaderCheckboxChange:Z,isHeaderCheckboxChecked:(null==A?void 0:A.length)===(null==O?void 0:O.length),listType:"unselected",listHeaders:[p("transferList:list.headers.1"),""],emptyPlaceholderContent:p("console:develop.placeholders.emptySearchResult.subtitles.0",{query:M})+". "+p("console:develop.placeholders.emptySearchResult.subtitles.1"),"data-testid":"application-share-modal-organization-transfer-component-all-items",emptyPlaceholderDefaultContent:p("transferList:list.emptyPlaceholders.default")},null==h?void 0:h.map((function(e,t){var n=null==e?void 0:e.name,i=-1!==A.findIndex((function(t){return t.id===e.id}));return g.createElement(u.qT,{disabled:w!==se.SHARE_SELECTED,handleItemChange:function(){return function(e){var t=ee(A),n=t.findIndex((function(t){return t.id===e.id}));-1!==n?(t.splice(n,1),S(t)):(t.push(e),S(t))}(e)},key:t,listItem:n,listItemId:e.id,listItemIndex:t,isItemChecked:i,showSecondaryActions:!1,"data-testid":"application-share-modal-organization-transfer-component -unselected-organizations"})}))))))),g.createElement(Q.Z.Actions,null,g.createElement(u.Qj,{"data-testid":"".concat(r,"-cancel-button"),onClick:function(){return i()}},p("common:cancel")),g.createElement(u.KM,{disabled:w===se.SHARE_SELECTED&&(0==(null==A?void 0:A.length)||!O),onClick:function(){j()},"data-testid":"".concat(r,"-save-button")},p("applications:edit.sections.shareApplication.shareApplication"))))};ce.defaultProps={"data-componentid":"application-share-modal"};var ue=n(51835),pe=n.n(ue),de=n(27975),fe=n.n(de),me=n(55900),he=n.n(me),ve=n(21555),ge=n.n(ve),be=n(3621),Ee=n.n(be),ye=n(5062),Ae=n.n(ye),Se=n(48912),Le=n.n(Se),Ce={};Ce.styleTagTransform=Ae(),Ce.setAttributes=ge(),Ce.insert=he().bind(null,"head"),Ce.domAPI=fe(),Ce.insertStyleElement=Ee();pe()(Le(),Ce);Le()&&Le().locals&&Le().locals;function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Re(){Re=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,a=Object.create(r.prototype),l=new P(i||[]);return o(a,"_invoke",{value:R(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",m="executing",h="completed",v={};function g(){}function b(){}function E(){}var y={};c(y,a,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(U([])));S&&S!==n&&i.call(S,a)&&(y=S);var L=E.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,r,a,l){var s=p(e[o],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==we(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function R(t,n,i){var o=d;return function(r,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var s=I(l,i);if(s){if(s===v)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===d)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=m;var c=p(t,n,i);if("normal"===c.type){if(o=i.done?h:f,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=h,i.method="throw",i.arg=c.arg)}}}function I(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var r=p(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function U(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(we(t)+" is not iterable")}return b.prototype=E,o(L,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=c(E,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(w.prototype),c(w.prototype,l,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new w(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(L),c(L,s,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=U,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:U(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}function Ie(e,t,n,i,o,r,a){try{var l=e[r](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,o)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){var i;return i=function(e,t){if("object"!=we(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=we(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==we(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ne=function(e){var t=e.title,n=e.closeWizard,W=e.template,B=e.subTemplates,Q=e.subTemplatesSectionTitle,G=e.subTitle,q=e.templateLoadingStrategy,Y=(e.setIsApplicationSharingEnabled,e["data-testid"]),X=(0,b.$)().t,$=(0,u.fQ)().getLink,J=(0,k.z)().isSuperOrganization,K=(0,E.I0)(),ee=(0,U.Z)().UIConfig,te=T.h.getState().config.deployment.tenant,ne=Ue((0,c.cC)(),2),ie=ne[0],oe=ne[1],re=Ue((0,c.cC)(),2),ae=re[0],le=re[1],se=(0,O.Z)().legacyAuthzRuntime,ue=(0,E.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.extensions)||void 0===t?void 0:t.asgardeoReservedAppRegex})),pe=(0,E.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),de=(0,E.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),fe=(0,E.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),me=(0,a.cr)(null==fe?void 0:fe.applications,j.jo.FEATURE_DICTIONARY.get("FAPI_APP_CREATION")),he=(0,E.v9)((function(e){return e.organization.isFirstLevelOrganization})),ve=(0,a.cr)(null==fe?void 0:fe.applications,j.jo.FEATURE_DICTIONARY.get("APPLICATION_ADD_MANAGEMENT_APPLICATIONS")),ge=Ue((0,g.useState)(null),2),be=ge[0],Ee=ge[1],ye=Ue((0,g.useState)(void 0),2),Ae=ye[0],Se=ye[1],Le=Ue((0,g.useState)(F.AI.OAUTH2_OIDC),2),Ce=Le[0],we=Le[1],Oe=Ue((0,g.useState)(!1),2),Pe=Oe[0],_e=Oe[1],Ne=Ue((0,g.useState)(void 0),2),ke=Ne[0],Me=Ne[1],xe=Ue((0,g.useState)(W),2),De=xe[0],je=xe[1],Ze=Ue((0,g.useState)([]),2),ze=Ze[0],He=Ze[1],Fe=Ue((0,g.useState)(!1),2),Ve=Fe[0],We=Fe[1],Be=Ue((0,g.useState)(!1),2),Qe=Be[0],Ge=Be[1],qe=Ue((0,g.useState)(!1),2),Ye=qe[0],Xe=qe[1],$e=Ue((0,g.useState)(!1),2),Je=$e[0],Ke=$e[1],et=Ue((0,g.useState)(!1),2),tt=et[0],nt=et[1],it=Ue((0,g.useState)(!1),2),ot=it[0],rt=it[1],at=Ue((0,g.useState)(void 0),2),lt=at[0],st=at[1],ct=(0,g.useRef)(),ut=(0,g.useRef)(),pt=(0,g.useRef)(),dt=Ue((0,g.useState)(void 0),2),ft=dt[0],mt=dt[1],ht=Ue((0,u.IK)(),3),vt=ht[0],gt=ht[1],bt=ht[2],Et=T.lD.getInstance();(0,g.useEffect)((function(){lt&&rt(!0)}),[lt]),(0,g.useEffect)((function(){if(De&&De.id!==Z.id&&J()){var e=[];(0,T.ZY)().then((function(t){t.map((function(t){e.push(t.url)}))})),He(e),gt(null)}}),[De]),(0,g.useEffect)((function(){De.id!==Z.id?(0,f.Z)(B)||!Array.isArray(B)||B.length<1?Rt(W.id,W):(je(B[0]),Rt(B[0].id,B[0])):Ee(Z)}),[B]),(0,g.useEffect)((function(){var e;if(Tt("all",!1),(De.id!==Z.id||Ce!==F.AI.WS_FEDERATION)&&(Ae||ke)){if(!Ae){var t;if(De.id===Z.id&&Ce===F.AI.SAML)return;if(null!=W&&W.authenticationProtocol||(null===(t=W.subTemplates)||void 0===t?void 0:t.length)>0)return}if(ke){var n,i=(0,p.Z)(be),o="inboundProtocolConfiguration.oidc.callbackURLs",r=(0,d.Z)(Ae,o,[]);if((0,f.Z)(null==r?void 0:r.filter(Boolean))||((0,h.Z)(i,"application.".concat(o),[]),(0,h.Z)(i,"application.".concat("inboundProtocolConfiguration.oidc.allowedOrigins"),[])),null!=i&&null!==(e=i.application)&&void 0!==e&&null!==(e=e.inboundProtocolConfiguration)&&void 0!==e&&null!==(e=e.saml)&&void 0!==e&&e.templateConfiguration)null==i||null===(n=i.application)||void 0===n||null===(n=n.inboundProtocolConfiguration)||void 0===n||null===(n=n.saml)||void 0===n||delete n.templateConfiguration;var a,l=(0,p.Z)((0,m.Z)(null==i?void 0:i.application,Ae));if(l.name=ke.get("name").toString(),l.templateId=De.id,se&&ve&&Ce===F.AI.OAUTH2_OIDC&&("custom-application"===(null==De?void 0:De.templateId)||(null==De?void 0:De.templateId)===F.u.M2M_APPLICATION)&&(l.isManagementApp=ke.get("isManagementApp").length>=2),se||(0,f.Z)(l.associatedRoles)&&(l.associatedRoles={allowedAudience:M.nL.DEFAULT_ROLE_AUDIENCE,roles:[]}),De.id===Z.id)if(Ce===F.AI.OAUTH2_OIDC)l.templateId=j.jo.CUSTOM_APPLICATION_OIDC,l.inboundProtocolConfiguration={oidc:{grantTypes:["client_credentials"],isFAPIApplication:(null===(a=ke.get("isFAPIApp"))||void 0===a?void 0:a.length)>=2}};else Ce===F.AI.SAML&&(l.templateId=j.jo.CUSTOM_APPLICATION_SAML,ft===F.T6.MANUAL&&(l.inboundProtocolConfiguration.saml.manualConfiguration=Object.assign(l.inboundProtocolConfiguration.saml.manualConfiguration,{attributeProfile:{alwaysIncludeAttributesInResponse:!0,enabled:!0}})));De.id===F.u.M2M_APPLICATION&&(l.inboundProtocolConfiguration={oidc:{grantTypes:[j.jo.CLIENT_CREDENTIALS_GRANT]}}),_e(!0),Lt(l)}}}),[ke,Ae]),(0,g.useEffect)((function(){if(Ae){var e=(0,p.Z)(Te(Te(Te({},null==be?void 0:be.application),Ae),{},{name:ke.get("name").toString(),templateId:j.jo.CUSTOM_APPLICATION_PASSIVE_STS}));Ce===F.AI.WS_FEDERATION&&Ae&&Lt(e)}}),[Ae]);var yt,At,St,Lt=function(e){(0,x.W3)(e).then((function(t){Et.compute((function(){De.id===Z.id?Et.publish("application-register-new-application",{type:e.templateId}):Et.publish("application-register-new-application",{type:De.templateId})})),K((0,s.V_)({description:X("applications:notifications.addApplication.success.description"),level:l.QU.SUCCESS,message:X("applications:notifications.addApplication.success.message")}));var n=t.headers.location,i=n.substring(n.lastIndexOf("/")+1);tt?st(i):Ct(i)})).catch((function(e){var t,n;if(403!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)||(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.code)!==j.jo.ERROR_CREATE_LIMIT_REACHED.getErrorCode())if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===j.jo.ERROR_CODE_ISSUER_EXISTS)Ye&&(ft!==F.T6.MANUAL?(gt({description:e.response.data.description,level:l.QU.ERROR,message:X("applications:notifications.addApplication.error.message")}),Pt()):(Tt("issuer",!0),It("issuer")));else if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===j.jo.ERROR_CODE_INVALID_METADATA_URL)Ye&&(Tt("metaUrl",!0),It("metaUrl"));else{if(e.response&&e.response.data&&e.response.data.description)return gt({description:e.response.data.description,level:l.QU.ERROR,message:X("applications:notifications.addApplication.error.message")}),void Pt();gt({description:X("applications:notifications.addApplication.genericError.description"),level:l.QU.ERROR,message:X("applications:notifications.addApplication.genericError.message")}),Pt()}else Ke(!0)})).finally((function(){_e(!1),Ot(!1),Tt("all",!1)}))},Ct=function(e){if(!(0,f.Z)(e)){var t="?",n=0;return De.id!==H.id&&De.id!==z.id&&pe&&(t="".concat(t,"&").concat(j.jo.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY,"=true")),De.id===Z.id&&(n=_.applicationConfig.customApplication.defaultTabIndex),void T.m8.push({hash:"#".concat(F.El.TAB_INDEX).concat(n),pathname:T.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:t})}T.m8.push(T.$x.getPaths().get("APPLICATIONS"))},wt=function(){n()},Rt=function(e,t){q!==F.IJ.LOCAL?(0,x.FG)(e).then((function(e){Ee(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?K((0,s.V_)({description:e.response.data.description,level:l.QU.ERROR,message:X("applications:notifications.fetchTemplate.error.message")})):K((0,s.V_)({description:X("applications:notifications.fetchTemplate.genericError.description"),level:l.QU.ERROR,message:X("applications:notifications.fetchTemplate.genericError.message")}))})):Ee(t)},It=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"name":ct.current.scrollIntoView(t);break;case"issuer":ut.current.scrollIntoView(t);var n=ut.current.children[0].children[1].children[0];n.focus(),n.blur();break;case"metaUrl":pt.current.scrollIntoView(t);var i=pt.current.children[0].children[1].children[0];i.focus(),i.blur()}},Ot=function(e){Xe(e)},Tt=function(e,t){switch(e){case"issuer":We(t);break;case"metaUrl":Ge(t);break;default:Ge(t),We(t)}},Pt=function(){var e;null===(e=document.getElementById("notification-div"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},Ut=function(){var e,t=(e=Re().mark((function e(t,n){var i,o,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.toString().trim(),Nt(i)){e.next=5;break}return n.isValid=!1,n.errorMessages.push(X("applications:forms.spaProtocolSettingsWizard.fields.name.validations.invalid",{appName:t.toString(),characterLimit:j.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 5:if(!_t(i)){e.next=9;break}return n.isValid=!1,n.errorMessages.push(X("applications:forms.generalDetails.fields.name.validations.reserved",{appName:i,characterLimit:j.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 9:return o=null,e.prev=10,e.next=13,(0,x.AY)(null,null,"name eq "+t.toString());case 13:o=e.sent,(null===(r=o)||void 0===r||null===(r=r.applications)||void 0===r?void 0:r.length)>0&&(n.isValid=!1,n.errorMessages.push(X("applications:forms.generalDetails.fields.name.validations.duplicate"))),e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(10),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=22;break}return K((0,s.V_)({description:e.t0.response.data.description,level:l.QU.ERROR,message:X("applications:notifications.fetchApplications.error.message")})),e.abrupt("return");case 22:K((0,s.V_)({description:X("applications:notifications.fetchApplications.genericError.description"),level:l.QU.ERROR,message:X("applications:notifications.fetchApplications.genericError.message")}));case 23:case"end":return e.stop()}}),e,null,[[10,17]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){Ie(r,i,o,a,l,"next",e)}function l(e){Ie(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),_t=function(e){if(!ue)return!1;var t=new RegExp(ue);return e&&t.test(e)},Nt=function(e){return e&&!!e.match(j.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN)},kt=function(){var e=B&&B instanceof Array&&B.length>0,t=De.id===Z.id;if(!e&&!t)return null;if("mobile"===W.id||"desktop"===W.id)return null;var n=t?function(e){var t=Object.values(F.AI);t=t.filter((function(t){return _.applicationConfig.customApplication.allowedProtocolTypes&&_.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!_.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===F.AI.WS_TRUST||t===F.AI.OIDC||t===F.AI.CUSTOM||e&&t===e)&&t}));var n=[F.AI.OAUTH2_OIDC,F.AI.SAML,F.AI.WS_FEDERATION];return(0,v.Z)(t,(function(e){return n.indexOf(e)}))}():B;return g.createElement(A.Z.Row,{className:"pt-0 mt-0"},g.createElement(A.Z.Column,{mobile:16,tablet:16,computer:14},g.createElement("div",{className:"sub-template-selection"},g.createElement("label",{className:"sub-templates-label"},Q),g.createElement(S.Z.Group,{itemsPerRow:3,className:"sub-templates"},n.map((function(e,n){var i=t?e:e.id,o=t?e:e.image,r=t?e===F.AI.OAUTH2_OIDC?g.createElement(g.Fragment,null,g.createElement("div",null,"OAuth2.0"),g.createElement("div",null,"OpenID Connect")):V.y.resolveProtocolDisplayName(e):e.name,a=t?Ce===e:De.id===e.id,l=!t&&e.previewOnly;return g.createElement(u.B0,{key:n,image:Te(Te({},(0,D.B0)()),(0,T.r2)())[o],size:"small",className:"sub-template-selection-card",header:r,selected:a,onClick:function(){e.previewOnly||(t?we(e):(je(e),Rt(e.id,e)))},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},contentTopBorder:!1,showTooltips:!1,renderDisabledItemsAsGrayscale:!1,disabled:l,overlay:g.createElement(y.Z,{className:"lighter",active:!0},X("common:featureAvailable")),overlayOpacity:.6,"data-testid":"".concat(Y,"-").concat(i,"-card")})}))),g.createElement(L.Z,{hidden:!0}))))};return g.createElement(g.Fragment,null,Je&&g.createElement(P.P,{actionLabel:X("applications:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){Ke(!1),wt()},header:X("applications:notifications.tierLimitReachedError.heading"),description:X("applications:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:X("applications:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:Je}),g.createElement(T.wv,{open:!Je&&!ot,className:"wizard minimal-application-create-wizard",dimmer:"blurring",onClose:wt,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(Y,"-modal")},g.createElement(T.wv.MainPanel,null,g.createElement(T.wv.Header,{className:"wizard-header"},t,G&&g.createElement(u.X6,{as:"h6"},G,g.createElement(u.eb,{link:(null==De?void 0:De.templateId)===F.u.SPA?$("develop.applications.newApplication.singlePageApplication.learnMore"):(null==De?void 0:De.templateId)===F.u.OIDC_WEB_APPLICATION?$("develop.applications.newApplication.oidcApplication.learnMore"):(null==De?void 0:De.templateId)===F.u.SAML_WEB_APPLICATION?$("develop.applications.newApplication.samlApplication.learnMore"):(null==De?void 0:De.templateId)===F.u.MOBILE_APPLICATION?$("develop.applications.newApplication.mobileApplication.learnMore"):void 0},X("common:learnMore")))),g.createElement(T.wv.Content,null,g.createElement(c.Es,{onSubmit:function(e){Me(e),le()},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){It(i.value[0]);break}i=n.next()}},submitState:ie,id:"name-input"},g.createElement(A.Z,null,vt&&g.createElement(A.Z.Row,{columns:1,id:"notification-div"},g.createElement(A.Z.Column,{mobile:16,tablet:16,computer:14},bt)),g.createElement(A.Z.Row,{columns:1},g.createElement(A.Z.Column,{mobile:16,tablet:16,computer:14},g.createElement(c.gN,{name:"name",ref:ct,label:X("applications:forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:X("applications:forms.generalDetails.fields.name.validations.empty"),placeholder:X("applications:forms.generalDetails.fields.name.placeholder"),type:"text","data-testid":"".concat(Y,"-application-name-input"),validation:Ut,displayErrorOn:"blur",maxLength:j.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH}))),kt(),g.createElement(A.Z.Row,{className:"pt-0 mt-0"},g.createElement(A.Z.Column,{mobile:16,tablet:16,computer:14},(St=De.authenticationProtocol,De.id===Z.id?St=Ce:De.id===F.u.M2M_APPLICATION&&(St=F.AI.OAUTH2_OIDC),St===F.AI.OIDC?g.createElement(w.A,{isProtocolConfig:!1,tenantDomain:te,allowedOrigins:ze,fields:["callbackURLs"],hideFieldHints:!0,triggerSubmit:ae,templateValues:null==be?void 0:be.application,onSubmit:function(e){return Se(e)},showCallbackURL:!0,addOriginByDefault:De.id===H.id,isAllowEnabled:!(De.id===H.id),"data-testid":"".concat(Y,"-oauth-protocol-settings-form"),selectedTemplate:De}):St===F.AI.SAML?g.createElement(I._,{issuerRef:ut,issuerError:Ve,metaUrlRef:pt,metaUrlError:Qe,handleProtocolValueChange:Ot,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,triggerSubmit:ae,templateValues:null==be?void 0:be.application,onSubmit:function(e){return Se(e)},setSAMLConfigureMode:mt,"data-testid":"".concat(Y,"-saml-protocol-settings-form")}):St===F.AI.WS_FEDERATION?g.createElement(R.u,{triggerSubmit:ae,initialValues:null,templateValues:be,onSubmit:function(e){return Se(e)},"data-testid":"".concat(Y,"-passive-sts-protocol-settings-form")}):void 0))),se&&Ce===F.AI.OAUTH2_OIDC&&("custom-application"===(null==De?void 0:De.templateId)||(null==De?void 0:De.templateId)===F.u.M2M_APPLICATION)&&ve&&g.createElement("div",{className:"pt-0 mt-0"},g.createElement(c.gN,{"data-testid":"".concat(Y,"-management-app-checkbox"),name:"isManagementApp",required:!1,requiredErrorMessage:"is required",type:"checkbox",value:["isManagementApp"],children:[{label:X("applications:forms.generalDetails.fields.isManagementApp.label"),value:"manageApp"}]}),g.createElement(u.kW,{compact:!0},X("applications:forms.generalDetails.fields.isManagementApp.hint"))),Ce===F.AI.OAUTH2_OIDC&&(null==De?void 0:De.name)===F.So.STANDARD_BASED_APPLICATION&&me&&g.createElement("div",{className:"pt-0 mt-0"},g.createElement(i.Z,{display:"flex",alignItems:"center"},g.createElement(c.gN,{"data-componentid":"".concat(Y,"-fapi-app-checkbox"),name:"isFAPIApp",required:!1,type:"checkbox",value:["isFAPIApp"],children:[{label:X("applications:forms.generalDetails.fields.isFapiApp.label"),value:"fapiApp"}]}),_.applicationConfig.advancedConfigurations.showFapiFeatureStatusChip&&g.createElement("div",{className:"oxygen-chip-div"},g.createElement(o.Z,{label:X("common:beta").toUpperCase(),className:"oxygen-menu-item-chip oxygen-chip-beta"}))),g.createElement(u.kW,{compact:!0},X("applications:forms.generalDetails.fields.isFapiApp.hint"))),isOrganizationManagementEnabled&&(null==ee||null===(yt=ee.legacyMode)||void 0===yt?void 0:yt.organizations)&&_.applicationConfig.editApplication.showApplicationShare&&(he||window.AppUtils.getConfig().organizationName)&&de!==N.$B.SUBORGANIZATION&&(null==W?void 0:W.id)!==F.u.M2M_APPLICATION&&!pe&&g.createElement(r.di,{when:null==fe||null===(At=fe.applications)||void 0===At||null===(At=At.scopes)||void 0===At?void 0:At.update},g.createElement(A.Z.Row,{columns:1},g.createElement(A.Z.Column,{mobile:16,tablet:16,computer:14},g.createElement("div",{className:"pt-0 mt-0"},g.createElement(C.Z,{onChange:function(e,t){nt(t.checked)},label:X("applications:forms.generalDetails.fields.isSharingEnabled.label")}),g.createElement(u.kW,{inline:!0,popup:!0},X("applications:forms.generalDetails.fields.isSharingEnabled.hint"))))))))),g.createElement(T.wv.Actions,null,g.createElement(A.Z,null,g.createElement(A.Z.Row,{column:1},g.createElement(A.Z.Column,{mobile:8,tablet:8,computer:8},g.createElement(u.Qj,{floated:"left",onClick:wt},X("common:cancel"))),g.createElement(A.Z.Column,{mobile:8,tablet:8,computer:8},g.createElement(u.KM,{floated:"right",onClick:function(){We(!1),oe()},"data-testid":"".concat(Y,"-next-button"),loading:Pe,disabled:Pe},X("common:create"))))))),function(){var e,t,n;if(null==De||null===(e=De.content)||void 0===e||!e.wizardHelp)return null;var i,o,r=De.content.wizardHelp;De.authenticationProtocol===F.AI.SAML&&ft===F.T6.META_FILE&&null!==(t=De.content)&&void 0!==t&&t.wizardHelp2&&(r=null===(i=De.content)||void 0===i?void 0:i.wizardHelp2);De.authenticationProtocol===F.AI.SAML&&ft===F.T6.META_URL&&null!==(n=De.content)&&void 0!==n&&n.wizardHelp3&&(r=null===(o=De.content)||void 0===o?void 0:o.wizardHelp3);return g.createElement(T.wv.SidePanel,null,g.createElement(T.wv.Header,{className:"wizard-header help-panel-header muted"},g.createElement("div",{className:"help-panel-header-text"},X("applications:wizards.minimalAppCreationWizard.help.heading"))),g.createElement(T.wv.Content,null,g.createElement(g.Suspense,{fallback:g.createElement(u.pO,null)},g.createElement(r,null))))}()),ot&&g.createElement(ce,{open:ot,applicationId:lt,onClose:function(){return rt(!1)},onApplicationSharingCompleted:function(){rt(!1),Ct(lt)}}))};Ne.defaultProps={"data-testid":"minimal-application-create-wizard",showHelpPanel:!0}},39640:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var i=n(14045),o=n(66112),r=n(86727),a=n(99285),l=n(67127),s=n(44194),c=n(10479),u=n(59673),p=n(47245),d=n(89141),f=n(78537),m=n(6776),h=n(56514),v=n(9261);function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var A=function(e){var t,n=e.selectedTemplate,E=e.isProtocolConfig,y=e.allowedOrigins,A=e.fields,S=e.hideFieldHints,L=e.initialValues,C=e.triggerSubmit,w=e.onSubmit,R=e.templateValues,I=e.showCallbackURL,O=e.tenantDomain,T=e.addOriginByDefault,P=e.isAllowEnabled,U=e["data-testid"],_=(0,c.$)().t,N=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment})),k=b((0,s.useState)(""),2),M=k[0],x=k[1],D=b((0,s.useState)(""),2),j=D[0],Z=D[1],z=b((0,s.useState)([]),2),H=z[0],F=z[1],V=b((0,s.useState)([]),2),W=V[0],B=V[1],Q=b((0,s.useState)(!1),2),G=Q[0],q=Q[1],Y=b((0,s.useState)(!1),2),X=Y[0],$=Y[1],J=b((0,s.useState)(null),2),K=J[0],ee=J[1],te=b((0,s.useState)(!0),2),ne=te[0],ie=te[1],oe=b((0,s.useState)(void 0),2),re=oe[0],ae=oe[1],le=b((0,s.useState)(void 0),2),se=le[0],ce=le[1],ue=b((0,s.useState)(!1),2),pe=ue[0],de=ue[1],fe=b((0,s.useState)(!1),2),me=fe[0],he=fe[1],ve=b((0,s.useState)(!1),2),ge=ve[0],be=ve[1],Ee=(0,p.v9)((function(e){return e.config})),ye=b((0,s.useState)(y||[]),2),Ae=ye[0],Se=ye[1];(0,s.useEffect)((function(){(null==n?void 0:n.id)===v.EL.OIDC&&he(!0)}),[n]),(0,s.useEffect)((function(){X&&M&&""!==M&&$(!1)}),[M]),(0,s.useEffect)((function(){null!=se&&se.includes("authorization_code")||null!=se&&se.includes("implicit")?ie(!0):ie(!1)}),[se,pe]),(0,s.useEffect)((function(){var e,t;void 0===se&&(null!=R&&null!==(e=R.inboundProtocolConfiguration)&&void 0!==e&&null!==(e=e.oidc)&&void 0!==e&&e.grantTypes&&ce(g(null==R||null===(t=R.inboundProtocolConfiguration)||void 0===t||null===(t=t.oidc)||void 0===t?void 0:t.grantTypes)))}),[R]),(0,s.useEffect)((function(){var e;if(R){var t=null==R||null===(e=R.inboundProtocolConfiguration)||void 0===e||null===(e=e.oidc)||void 0===e?void 0:e.callbackURLs;t&&Array.isArray(t)&&t.length>0&&Z(t[0])}}),[R]),(0,s.useEffect)((function(){void 0===re&&null!=n&&n.authenticationProtocol&&(0,f.WL)(n.authenticationProtocol).then((function(e){ae(e)}))}),[re]),(0,s.useEffect)((function(){var e;if(n){var t=null==R||null===(e=R.inboundProtocolConfiguration)||void 0===e||null===(e=e.oidc)||void 0===e?void 0:e.grantTypes;(0,a.Z)(t,["refresh_token"]).length>0&&n.id!==h.id&&n.id!==m.jo.MOBILE&&q(!0)}}),[R,n]);var Le=function(e){var t,n,i=null==e?void 0:e.replace(/['"]+/g,"");(null===(t=i)||void 0===t?void 0:t.split(",").length)>1&&(i="regexp=("+(null===(n=i)||void 0===n?void 0:n.split(",").join("|"))+")");return i},Ce=function(e){return e&&e.includes("regexp=(")&&(e=(e=(e=e.replace("regexp=(","")).replace(")","")).split("|").join(",")),e};(0,s.useEffect)((function(){var e;if((0,l.Z)(null==L||null===(e=L.inboundProtocolConfiguration)||void 0===e?void 0:e.oidc)){var t,n,i,o;if((0,l.Z)(null==R||null===(t=R.inboundProtocolConfiguration)||void 0===t||null===(t=t.oidc)||void 0===t?void 0:t.callbackURLs))x("");else x(Ce(null==R||null===(o=R.inboundProtocolConfiguration)||void 0===o||null===(o=o.oidc)||void 0===o?void 0:o.callbackURLs[0]));null!=R&&null!==(n=R.inboundProtocolConfiguration)&&void 0!==n&&null!==(n=n.oidc)&&void 0!==n&&n.publicClient&&F(["supportPublicClients"]),null!=R&&null!==(i=R.inboundProtocolConfiguration)&&void 0!==i&&null!==(i=i.oidc)&&void 0!==i&&null!==(i=i.refreshToken)&&void 0!==i&&i.renewRefreshToken&&B(["refreshToken"])}else{var r,a,s;x(Ce(null==L||null===(r=L.inboundProtocolConfiguration)||void 0===r||null===(r=r.oidc)||void 0===r?void 0:r.callbackURLs[0])),null!=L&&null!==(a=L.inboundProtocolConfiguration)&&void 0!==a&&null!==(a=a.oidc)&&void 0!==a&&a.publicClient&&F(["supportPublicClients"]),null!=L&&null!==(s=L.inboundProtocolConfiguration)&&void 0!==s&&null!==(s=s.oidc)&&void 0!==s&&null!==(s=s.refreshToken)&&void 0!==s&&s.renewRefreshToken&&B(["refreshToken"])}}),[L]);var we,Re,Ie,Oe=function(e){var t,n=[];(null==e?void 0:e.split(",").length)>1?n=null==e?void 0:e.split(","):n.push(e);var o=null===(t=n)||void 0===t?void 0:t.map((function(e){var t;return null===(t=i.URLUtils.urlComponents(e))||void 0===t?void 0:t.origin}));return g(new Set(o.filter((function(e){return Ae.includes(e)}))))},Te=function(e,t){var i={inboundProtocolConfiguration:{oidc:{}}};return ne&&(I||!A||A.includes("callbackURLs"))&&(i.inboundProtocolConfiguration.oidc.callbackURLs=[Le(t||M)]),A&&!A.includes("publicClient")||(i.inboundProtocolConfiguration.oidc.publicClient=e.get("publicClients").includes("supportPublicClients")),i.inboundProtocolConfiguration.oidc.refreshToken={expiryInSeconds:parseInt(null==re?void 0:re.defaultRefreshTokenExpiryTime,10)},(G||!A||A.includes("RefreshToken"))&&(i.inboundProtocolConfiguration.oidc.refreshToken={expiryInSeconds:parseInt(null==re?void 0:re.defaultRefreshTokenExpiryTime,10),renewRefreshToken:e.get("RefreshToken").includes("refreshToken")}),ne&&(I||!A||A.includes("callbackURLs"))&&(i.inboundProtocolConfiguration.oidc.allowedOrigins=Oe(t||M)),!ne&&se&&(i.inboundProtocolConfiguration.oidc.grantTypes=se,i.inboundProtocolConfiguration.oidc.allowedOrigins=Oe(t||M)),(null==n?void 0:n.templateId)===v.u.SPA&&re&&(i.inboundProtocolConfiguration.oidc.accessToken={applicationAccessTokenExpiryInSeconds:parseInt(null==re?void 0:re.defaultApplicationAccessTokenExpiryTime,10),userAccessTokenExpiryInSeconds:parseInt(null==re?void 0:re.defaultUserAccessTokenExpiryTime,10)}),i},Pe=function(e){var t=g(Ae);t.push(e),Se(t)};return R?s.createElement(o.Es,{onSubmit:function(e){ne||!E?we((function(t){(0,l.Z)(M)&&(0,l.Z)(t)?$(!0):w(Te(e,t))})):w(Te(e))},submitState:C},s.createElement(d.Z,null,E&&me&&s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(o.gN,{name:"grant",label:_("applications:forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:_("applications:forms.inboundOIDC.fields.grant.validations.empty"),children:(Re=null==re?void 0:re.allowedGrantTypes,Ie=[],Re&&Re.options.map((function(e){Ie.push({displayName:e.displayName,name:e.name})})),Ie),value:null==R||null===(t=R.inboundProtocolConfiguration)||void 0===t||null===(t=t.oidc)||void 0===t?void 0:t.grantTypes,"data-testid":"".concat(U,"-grant-type-checkbox-group"),listen:function(e){return function(e){var t=e.get("grant");ce(t),de(!pe)}(e)}}),s.createElement(r.kW,null,_("applications:forms.inboundOIDC.fields.grant.hint")))),(!A||A.includes("callbackURLs"))&&ne&&s.createElement(d.Z.Row,{column:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(r.wE,{isCustom:n.templateId===m.jo.MOBILE,labelEnabled:!0,handleAddAllowedOrigin:function(e){return Pe(e)},handleRemoveAllowedOrigin:function(e){return function(e){var t=g(Ae);t.includes(e)&&t.splice(t.indexOf(e),1),Se(t)}(e)},tenantDomain:O,allowedOrigins:Ae,urlState:M,setURLState:x,labelName:n.templateId===m.jo.MOBILE?"Authorized redirect URIs":_("applications:forms.spaProtocolSettingsWizard.fields.callBackUrls.label"),placeholder:n.templateId===m.jo.MOBILE?_("applications:forms.inboundOIDC.mobileApp.mobileAppPlaceholder"):_("applications:forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:_(ge?"applications:forms.spaProtocolSettingsWizard.fields.urlDeepLinkError":"applications:forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:_("applications:forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.empty"),skipInternalValidation:n.templateId===m.jo.MOBILE,validation:function(e){return!!(n.templateId===m.jo.MOBILE||i.URLUtils.isURLValid(e,!0)&&(i.URLUtils.isHttpUrl(e)||i.URLUtils.isHttpsUrl(e)))&&(i.URLUtils.isMobileDeepLink(e)?(ee(null),!0):(be(!0),!1))},computerWidth:10,setShowError:$,showError:X,hint:!S&&_("applications:forms.inboundOIDC.fields.callBackUrls.hint"),addURLTooltip:_("common:addURL"),duplicateURLErrorMessage:_("common:duplicateURLError"),"data-testid":"".concat(U,"-callback-url-input"),getSubmit:function(e){we=e},productName:Ee.ui.productName,required:!0,showPredictions:!1,customLabel:K,isAllowEnabled:P,addOriginByDefault:T,popupHeaderPositive:_("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:_("applications:URLInput.withLabel.negative.header"),popupContentPositive:_("applications:URLInput.withLabel.positive.content",{productName:Ee.ui.productName}),popupContentNegative:_("applications:URLInput.withLabel.negative.content",{productName:Ee.ui.productName}),popupDetailedContentPositive:_("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:_("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:_("console:common.validations.inSecureURL.description"),showLessContent:_("common:showLess"),showMoreContent:_("common:showMore")}),j&&N&&s.createElement(r.v0,{type:"info",content:s.createElement(s.Fragment,null,s.createElement(u.c,{i18nKey:"applications:forms.inboundOIDC.fields.callBackUrls.info",tOptions:{callBackURLFromTemplate:j}},"Don\u2019t have an app? Try out a sample app using ",s.createElement("strong",null,j),"as the Authorized URL."),(void 0===M||""===M)&&s.createElement(r.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault();var t=new URL(j);Pe(t.origin),x(j)},"data-testid":"".concat(U,"-add-now-button")},s.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))),!A||A.includes("publicClient")&&s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(o.gN,{name:"publicClients",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:H,children:[{label:_("applications:forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],"data-testid":"".concat(U,"-public-client-checkbox")}),!S&&s.createElement(r.kW,null,_("applications:forms.inboundOIDC.fields.public.hint")))),!A||A.includes("RefreshToken")||G&&s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(o.gN,{name:"RefreshToken",label:"",required:!1,requiredErrorMessage:_("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:W,children:[{label:_("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],"data-testid":"".concat(U,"-renew-refresh-token-checkbox")}),!S&&s.createElement(r.kW,null,_("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.hint")))))):s.createElement(r.pO,null)};A.defaultProps={"data-testid":"oauth-protocol-settings-wizard-form",hideFieldHints:!1,showCallbackURL:!1}},45246:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var i=n(66112),o=n(86727),r=n(21036),a=n(44194),l=n(10479),s=n(89141),c=function(e){var t=e.initialValues,n=e.templateValues,c=e.triggerSubmit,u=e.onSubmit,p=e["data-testid"],d=(0,l.$)().t;return n?a.createElement(i.Es,{onSubmit:function(e){u(function(e){return{inboundProtocolConfiguration:{passiveSts:{realm:e.get("realm"),replyTo:e.get("replyTo")}}}}(e))},submitState:c},a.createElement(s.Z,null,a.createElement(s.Z.Row,null,a.createElement(s.Z.Column,{mobile:16},a.createElement(i.gN,{name:"realm",label:d("applications:forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:d("applications:forms.inboundSTS.fields.realm.validations.empty"),placeholder:d("applications:forms.inboundSTS.fields.realm.placeholder"),type:"text",value:t?null==t?void 0:t.realm:null==n?void 0:n.realm,"data-testid":"".concat(p,"-realm-input")}),a.createElement(o.kW,null,d("applications:forms.inboundSTS.fields.realm.hint")))),a.createElement(s.Z.Row,null,a.createElement(s.Z.Column,{mobile:16},a.createElement(i.gN,{name:"replyTo",label:d("applications:forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:d("applications:forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:d("applications:forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){r.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("applications:forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:t?null==t?void 0:t.replyTo:null==n?void 0:n.replyTo,"data-testid":"".concat(p,"-reply-url-input")}),a.createElement(o.kW,null,d("applications:forms.inboundSTS.fields.replyTo.hint")))))):a.createElement(o.pO,null)};c.defaultProps={"data-testid":"passive-sts-protocol-settings-wizard-form"}},89583:(e,t,n)=>{"use strict";n.d(t,{_:()=>A});var i=n(14045),o=n(66112),r=n(86727),a=n(21036),l=n(67127),s=n(44194),c=n(10479),u=n(59673),p=n(47245),d=n(89141),f=n(10909),m=n(26154),h=n(84870),v=n(24393),g=n(9261),b=n(39521);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var A=function(e){var t=e.fields,n=e.hideFieldHints,y=e.initialValues,A=e.templateValues,L=e.triggerSubmit,C=e.onSubmit,w=e.setSAMLConfigureMode,R=e.issuerRef,I=e.metaUrlRef,O=e.issuerError,T=e.metaUrlError,P=e.handleProtocolValueChange,U=e["data-testid"],_=(0,c.$)().t,N=E((0,s.useState)(""),2),k=N[0],M=N[1],x=E((0,s.useState)(""),2),D=x[0],j=x[1],Z=E((0,s.useState)(""),2),z=Z[0],H=Z[1],F=E((0,s.useState)(""),2),V=F[0],W=F[1],B=E((0,s.useState)(!1),2),Q=B[0],G=B[1],q=E((0,s.useState)(null),2),Y=q[0],X=q[1],$=E((0,s.useState)(void 0),2),J=$[0],K=$[1],ee=E((0,s.useState)(!1),2),te=ee[0],ne=ee[1],ie=E((0,s.useState)(),2),oe=ie[0],re=ie[1],ae=E((0,s.useState)(null),2),le=ae[0],se=ae[1],ce=E((0,s.useState)(null),2),ue=ce[0],pe=ce[1],de=E((0,s.useState)(!1),2),fe=de[0],me=de[1],he=(0,p.v9)((function(e){return e.config})),ve=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment}));(0,s.useEffect)((function(){var e;if(K(g.T6.MANUAL),(0,l.Z)(null==y||null===(e=y.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,i=null==A||null===(t=A.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.manualConfiguration.assertionConsumerUrls,o=null==A||null===(n=A.inboundProtocolConfiguration)||void 0===n||null===(n=n.saml)||void 0===n?void 0:n.manualConfiguration.issuer;(0,l.Z)(i)?M(""):M(i.toString()),(0,l.Z)(o)?j(""):j(o.toString())}else{var r,a;M(null==y||null===(r=y.inboundProtocolConfiguration)||void 0===r||null===(r=r.saml)||void 0===r||null===(r=r.manualConfiguration.assertionConsumerUrls)||void 0===r?void 0:r.toString()),j(null==y||null===(a=y.inboundProtocolConfiguration)||void 0===a||null===(a=a.saml)||void 0===a||null===(a=a.manualConfiguration.issuer)||void 0===a?void 0:a.toString())}}),[y]),(0,s.useEffect)((function(){oe&&fe&&me(!1)}),[oe]),(0,s.useEffect)((function(){J&&w(J)}),[J]),(0,s.useEffect)((function(){var e,t;if(A){var n=null==A||null===(e=A.inboundProtocolConfiguration)||void 0===e||null===(e=e.saml)||void 0===e||null===(e=e.templateConfiguration)||void 0===e?void 0:e.assertionConsumerUrls,i=null==A||null===(t=A.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t||null===(t=t.templateConfiguration)||void 0===t?void 0:t.issuer;n&&Array.isArray(n)&&n.length>0&&H(n[0]),i&&W(i)}}),[A]);var ge,be,Ee,ye=function(e){te?(M(e),e||ne(!1)):k?(M(k),ne(!0)):(e&&ne(!0),M(e))},Ae=function(e,n){var i;return J===g.T6.MANUAL?(i={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}},t&&!t.includes("assertionConsumerURLs")||(i.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=n?n.split(","):k.split(",")),t&&!t.includes("issuer")||(i.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),t&&!t.includes("applicationQualifier")||(i.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier"))):J===g.T6.META_URL?i={inboundProtocolConfiguration:{saml:{metadataURL:e.get("url")}}}:J===g.T6.META_FILE&&(i={inboundProtocolConfiguration:{saml:{metadataFile:oe}}}),i};return J?s.createElement(o.Es,{onSubmit:function(e){P(!0),J===g.T6.MANUAL?ge((function(t){(0,l.Z)(k)&&(0,l.Z)(t)?G(!0):C(Ae(e,t))})):J===g.T6.META_FILE&&(0,l.Z)(oe)?me(!0):C(Ae(e))},submitState:L},s.createElement(d.Z,null,s.createElement(d.Z.Row,null,s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(f.Z.Group,{size:"large",labeled:!0,basic:!0},Object.values(g.T6).map((function(e,t){return s.createElement(f.Z,{key:t,active:J===e,className:"saml-config-mode-wizard-tab",content:b.y.resolveSAMLConfigModeDisplayName(e),onClick:function(t){t.preventDefault(),K(e),ne(!1)}})}))))),J==g.T6.MANUAL?s.createElement(s.Fragment,null,(!t||t.includes("issuer"))&&s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(o.gN,{name:"issuer",ref:R,displayErrorOn:"blur",label:_("applications:forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:_("applications:forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:_("applications:forms.inboundSAML.fields.issuer.placeholder"),value:D,validation:function(e,t){O?(t.isValid=!1,t.errorMessages.push(_("applications:forms.inboundSAML.fields.issuer.errorMessage"))):j(e)},"data-testid":"".concat(U,"-issuer-input")}),!n&&s.createElement(r.kW,null,_("applications:forms.inboundSAML.fields.issuer.hint")))),(!t||t.includes("applicationQualifier"))&&s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(o.gN,{name:"applicationQualifier",label:_("applications:forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:_("applications:forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:_("applications:forms.inboundSAML.fields.qualifier.placeholder"),value:null==y||null===(be=y.inboundProtocolConfiguration.saml)||void 0===be||null===(be=be.manualConfiguration)||void 0===be?void 0:be.serviceProviderQualifier,"data-testid":"".concat(U,"-application-qualifier-input")}),!n&&s.createElement(r.kW,null,_("applications:forms.inboundSAML.fields.qualifier.hint")))),(!t||t.includes("assertionConsumerURLs"))&&s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(r.wE,{urlState:k,setURLState:ye,labelName:_("applications:forms.inboundSAML.fields.assertionURLs.label"),placeholder:_("applications:forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:_("applications:forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:_("applications:forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!i.URLUtils.isURLValid(e,!0)||!i.URLUtils.isHttpUrl(e)&&!i.URLUtils.isHttpsUrl(e)||!i.URLUtils.isMobileDeepLink(e)||(X(null),0))},computerWidth:10,required:!0,showError:Q,setShowError:G,hint:!n&&_("applications:forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:_("common:addURL"),duplicateURLErrorMessage:_("common:duplicateURLError"),"data-testid":"".concat(U,"-assertion-consumer-url-input"),getSubmit:function(e){ge=e},showPredictions:!1,customLabel:Y,popupHeaderPositive:_("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:_("applications:URLInput.withLabel.negative.header"),popupContentPositive:_("applications:URLInput.withLabel.positive.content",{productName:he.ui.productName}),popupContentNegative:_("applications:URLInput.withLabel.negative.content",{productName:he.ui.productName}),popupDetailedContentPositive:_("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:_("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:_("console:common.validations.inSecureURL.description"),showLessContent:_("common:showLess"),showMoreContent:_("common:showMore")}),z&&ve&&s.createElement(r.v0,{visible:!0,type:"info",content:s.createElement(s.Fragment,null,s.createElement(u.c,{i18nKey:"applications:forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:z}},"Don\u2019t have an app? Try out a sample app using ",s.createElement("strong",null,z),"as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===k||""===k)&&s.createElement(r.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),M(z),j(V),ne(!0)},"data-testid":"".concat(U,"-add-now-button")},s.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))})))):J===g.T6.META_URL?s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(o.gN,{name:"url",ref:I,displayErrorOn:"blur",label:_("applications:forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:_("applications:forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:_("applications:forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){a.I.url(e)||(t.isValid=!1,t.errorMessages.push(_("applications:forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==h.commonConfig&&void 0!==h.commonConfig&&h.commonConfig.blockLoopBackCalls&&i.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(_("idp:forms.common.internetResolvableErrorMessage"))),T&&(t.isValid=!1,t.errorMessages.push(_("applications:forms.inboundSAML.fields.metaURL.errorMessage")))},value:null==y||null===(Ee=y.inboundProtocolConfiguration)||void 0===Ee||null===(Ee=Ee.saml)||void 0===Ee?void 0:Ee.metadataURL,"data-testid":"".concat(U,"-meta-url-input")}),!n&&s.createElement(r.kW,null,_("applications:forms.inboundSAML.fields.metaURL.hint")))):J===g.T6.META_FILE?s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(r.GB,{key:1,fileStrategy:S,file:le,pastedContent:ue,onChange:function(e){se(e.file),pe(e.pastedContent),re(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(U,"-form-wizard-saml-xml-config-file-picker"),icon:(0,v._5)().uploadPlaceholder,placeholderIcon:s.createElement(m.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:fe,hidePasteOption:!0}))):void 0)):s.createElement(r.pO,null)};A.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var S=new r.R2},48912:e=>{e.exports=[[e.id,".oxygen-chip-div{margin:0 0 1em .5em}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pbmltYWwtYXBwbGljYXRpb24tY3JlYXRlLXdpemFyZC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBbUIiLCJmaWxlIjoibWluaW1hbC1hcHBsaWNhdGlvbi1jcmVhdGUtd2l6YXJkLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIub3h5Z2VuLWNoaXAtZGl2e21hcmdpbjowIDAgMWVtIC41ZW19Il19 */","",""]]}}]);