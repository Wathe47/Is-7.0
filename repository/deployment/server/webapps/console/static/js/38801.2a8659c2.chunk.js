"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[38801,94419],{38801:(e,i,n)=>{n.r(i),n.d(i,{EditGuestUser:()=>T});var t=n(71015),a=n(54833),m=n(3356),s=n(86727),r=n(44194),o=n(10479),d=n(47245),p=n(89141),l=n(62508),u=n(20731),g=n(66651),c=n(74343),y=n(6958),f=n(206),v=n(12104),w=n(59431),h=n(29269),b=n(67858),E=n(61145),S=n(94419),A=n(17507);function k(e,i){return function(e){if(Array.isArray(e))return e}(e)||function(e,i){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,m,s,r=[],o=!0,d=!1;try{if(m=(n=n.call(e)).next,0===i){if(Object(n)!==n)return;o=!1}else for(;!(o=(t=m.call(n)).done)&&(r.push(t.value),r.length!==i);o=!0);}catch(e){d=!0,a=e}finally{try{if(!o&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return r}}(e,i)||function(e,i){if(!e)return;if("string"==typeof e)return U(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,i)}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,i){(null==i||i>e.length)&&(i=e.length);for(var n=0,t=new Array(i);n<i;n++)t[n]=e[n];return t}var T=function(e){var i=e.user,n=e.realmConfigs,U=e.handleUserUpdate,T=e.readOnlyUserStores,R=e.featureConfig,I=e.connectorProperties,N=e.isReadOnlyUserStoresLoading,O=(0,o.$)().t,C=(0,d.I0)(),L=(0,g.Z)().legacyAuthzRuntime,_=(0,d.v9)((function(e){var i;return null==e||null===(i=e.auth)||void 0===i?void 0:i.allowedScopes})),M=(0,d.v9)((function(e){var i;return null==e||null===(i=e.config)||void 0===i||null===(i=i.ui)||void 0===i?void 0:i.isGroupAndRoleSeparationEnabled})),x=k((0,r.useState)(!1),2),P=x[0],j=x[1],$=k((0,r.useState)(!1),2),D=$[0],F=$[1],q=k((0,r.useState)(!0),2),Z=q[0],X=q[1],Y=k((0,r.useState)(!1),2),G=Y[0],z=Y[1],B=k((0,r.useState)(A.AdminAccountTypes.EXTERNAL),2),H=B[0],Q=B[1],V=(0,d.v9)((function(e){var i;return null==e||null===(i=e.auth)||void 0===i?void 0:i.username})),J=(0,r.useMemo)((function(){var e=V.split("@");return e.pop(),e.join("@")}),[V]);(0,r.useEffect)((function(){(!b.administratorConfig.enableAdminInvite||null!=n&&n.adminUser)&&i.userName&&X(!1)}),[i,n]),(0,r.useEffect)((function(){var e,m,s,r,o,d;if(i){var p=(null==i||null===(e=i.userName)||void 0===e?void 0:e.split("/").length)>1?null==i||null===(m=i.userName)||void 0===m?void 0:m.split("/")[0]:t.ss.PRIMARY_USER_STORE;z(null==T?void 0:T.includes(null==p?void 0:p.toString())),(!(0,a.cr)(null==R?void 0:R.users,w._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=T&&T.includes(null==p?void 0:p.toString())||!(0,a.Xr)(null==R?void 0:R.users,null==R||null===(s=R.users)||void 0===s||null===(s=s.scopes)||void 0===s?void 0:s.update,_)||null!==(r=i[E.SCIMConfigs.scim.enterpriseSchema])&&void 0!==r&&r.userSourceId)&&j(!0),(0,a.cr)(null==R?void 0:R.users,w._F.FEATURE_DICTIONARY.get("USER_DELETE"))&&i.userName!=(null==n?void 0:n.adminUser)&&(0,a.Xr)(null==R?void 0:R.users,null==R||null===(o=R.users)||void 0===o||null===(o=o.scopes)||void 0===o?void 0:o.delete,_)&&F(!0),"Asgardeo"===(null===(d=i[E.SCIMConfigs.scim.enterpriseSchema])||void 0===d?void 0:d.idpType)?Q(A.AdminAccountTypes.EXTERNAL):Q(A.AdminAccountTypes.INTERNAL)}}),[i,T]);var K=function(e){C((0,m.V_)(e))};return r.createElement(r.Fragment,null,Z?r.createElement(s.pO,null):r.createElement(s.M$,{panes:[{menuItem:O("users:editUser.tab.menuItems.0"),render:function(){return r.createElement(s.M$.Pane,{controlledSegmentation:!0,attached:!1},r.createElement(y.I,{adminUsername:null==n?void 0:n.adminUser,tenantAdmin:null==n?void 0:n.adminUser,editUserDisclaimerMessage:r.createElement(p.Z,null,r.createElement(p.Z.Row,{columns:1},r.createElement(p.Z.Column,{mobile:12,tablet:12,computer:6},r.createElement(s.v0,{type:"info",content:O("extensions:manage.users.editUserProfile.disclaimerMessage")}),r.createElement(l.Z,{hidden:!0})))),onAlertFired:K,user:i,handleUserUpdate:U,allowDeleteOnly:D,isReadOnly:P,connectorProperties:I,isReadOnlyUserStoresLoading:N,isReadOnlyUserStore:G,adminUserType:H}))}},(null==n?void 0:n.adminUser)!==i.userName?{menuItem:O("users:editUser.tab.menuItems.2"),render:function(){return r.createElement(s.M$.Pane,{controlledSegmentation:!0,attached:!1},L?r.createElement(u.UserRolesList,{showDomain:!1,hideApplicationRoles:!0,isGroupAndRoleSeparationEnabled:M,onAlertFired:K,user:i,handleUserUpdate:U,isReadOnly:!1,permissionsToHide:c.$x.getTenant()!==c.$x.getSuperTenant()?S.hiddenPermissions:[],realmConfigs:n}):r.createElement(f.e,{user:i}))}}:null,H===A.AdminAccountTypes.INTERNAL||h.Q.isAuthenticatedUser(J,null==i?void 0:i.userName)?{menuItem:O("users:editUser.tab.menuItems.3"),render:function(){return r.createElement(s.M$.Pane,{controlledSegmentation:!0,attached:!1},r.createElement(v.Y,{user:i,showSessionTerminationButton:(null==n?void 0:n.adminUser)!==i.userName||J===(null==i?void 0:i.userName)}))}}:null]}))}},94419:(e,i,n)=>{n.r(i),n.d(i,{hiddenPermissions:()=>t});var t=["/permission/applications","/permission/protected","/permission/protected/configure","/permission/protected/configure/components","/permission/protected/manage","/permission/protected/manage/modify","/permission/protected/manage/modify/tenants","/permission/protected/manage/monitor","/permission/protected/manage/monitor/tenants","/permission/protected/manage/monitor/tenants/list","/permission/protected/server-admin","/permission/protected/server-admin/homepage","/permission/protected/server-admin/jmx","/permission/protected/server-admin/jmx/readonly","/permission/protected/server-admin/jmx/readwrite","/permission/admin/monitor","/permission/admin/monitor/metrics","/permission/admin/monitor/bpel","/permission/admin/monitor/attachment","/permission/admin/configure","/permission/admin/configure/security","/permission/admin/configure/security/usermgt","/permission/admin/configure/security/usermgt/passwords","/permission/admin/configure/security/usermgt/profiles","/permission/admin/configure/security/usermgt/users","/permission/admin/configure/security/usermgt/provisioning","/permission/admin/configure/datasources","/permission/admin/configure/remotefetch","/permission/admin/configure/theme","/permission/admin/manage/search","/permission/admin/manage/search/advanced-search","/permission/admin/manage/search/resources","/permission/admin/manage/attachment","/permission/admin/manage/extensions","/permission/admin/manage/extensions/add","/permission/admin/manage/extensions/list","/permission/admin/manage/topic","/permission/admin/manage/topic/deleteTopic","/permission/admin/manage/topic/browseTopic","/permission/admin/manage/topic/purgeTopic","/permission/admin/manage/topic/addTopic","/permission/admin/manage/humantask","/permission/admin/manage/humantask/packages","/permission/admin/manage/humantask/viewtasks","/permission/admin/manage/humantask/add","/permission/admin/manage/humantask/task","/permission/admin/manage/event-streams","/permission/admin/manage/bpel","/permission/admin/manage/bpel/instances","/permission/admin/manage/bpel/processes","/permission/admin/manage/bpel/packages","/permission/admin/manage/bpel/add","/permission/admin/manage/resources","/permission/admin/manage/resources/browse","/permission/admin/manage/resources/notifications","/permission/admin/manage/add","/permission/admin/manage/add/webapp","/permission/admin/manage/identity/pep","/permission/admin/manage/identity/template","/permission/admin/manage/identity/template/mgt","/permission/admin/manage/identity/template/mgt/view","/permission/admin/manage/identity/template/mgt/add","/permission/admin/manage/identity/template/mgt/delete","/permission/admin/manage/identity/template/mgt/list","/permission/admin/manage/identity/consentmgt","/permission/admin/manage/identity/consentmgt/list","/permission/admin/manage/identity/consentmgt/view","/permission/admin/manage/identity/consentmgt/add","/permission/admin/manage/identity/consentmgt/delete","/permission/admin/manage/identity/apptemplatemgt","/permission/admin/manage/identity/apptemplatemgt/view","/permission/admin/manage/identity/apptemplatemgt/update","/permission/admin/manage/identity/apptemplatemgt/delete","/permission/admin/manage/identity/apptemplatemgt/create","/permission/admin/manage/identity/identitymgt","/permission/admin/manage/identity/identitymgt/view","/permission/admin/manage/identity/identitymgt/update","/permission/admin/manage/identity/identitymgt/create","/permission/admin/manage/identity/identitymgt/delete","/permission/admin/manage/identity/userprofile","/permission/admin/manage/identity/userprofile/view","/permission/admin/manage/identity/userprofile/create","/permission/admin/manage/identity/userprofile/delete","/permission/admin/manage/identity/userprofile/update","/permission/admin/manage/event-publish","/permission/admin/manage/cors","/permission/admin/manage/cors/origins","/permission/admin/manage/cors/origins/view","/permission/admin/manage/modify","/permission/admin/manage/modify/webapp","/permission/admin/manage/modify/user-profile","/permission/admin/manage/identity/workflow","/permission/admin/manage/identity/workflow/association","/permission/admin/manage/identity/workflow/association/view","/permission/admin/manage/identity/workflow/association/delete","/permission/admin/manage/identity/workflow/association/create","/permission/admin/manage/identity/workflow/association/update","/permission/admin/manage/identity/workflow/definition","/permission/admin/manage/identity/workflow/definition/create","/permission/admin/manage/identity/workflow/definition/delete","/permission/admin/manage/identity/workflow/definition/view","/permission/admin/manage/identity/workflow/definition/update","/permission/admin/manage/identity/workflow/profile","/permission/admin/manage/identity/workflow/profile/view","/permission/admin/manage/identity/workflow/profile/create","/permission/admin/manage/identity/workflow/profile/delete","/permission/admin/manage/identity/workflow/profile/update","/permission/admin/manage/identity/workflow/monitor","/permission/admin/manage/identity/workflow/monitor/view","/permission/admin/manage/identity/workflow/monitor/delete","/permission/admin/manage/identity/emailmgt","/permission/admin/manage/identity/emailmgt/update","/permission/admin/manage/identity/emailmgt/create","/permission/admin/manage/identity/emailmgt/delete","/permission/admin/manage/identity/emailmgt/view","/permission/admin/manage/identity/provisioning","/permission/admin/manage/identity/user","/permission/admin/manage/identity/user/association","/permission/admin/manage/identity/user/association/view","/permission/admin/manage/identity/user/association/update","/permission/admin/manage/identity/user/association/delete","/permission/admin/manage/identity/user/association/create","/permission/admin/manage/identity/userstore","/permission/admin/manage/identity/userstore/count","/permission/admin/manage/identity/userstore/count/delete","/permission/admin/manage/identity/userstore/count/view","/permission/admin/manage/identity/userstore/count/create","/permission/admin/manage/identity/userstore/count/update","/permission/admin/manage/identity/userstore/config","/permission/admin/manage/identity/userstore/config/delete","/permission/admin/manage/identity/userstore/config/create","/permission/admin/manage/identity/userstore/config/update","/permission/admin/manage/identity/userstore/config/view","/permission/admin/manage/identity/functionsLibrarymgt","/permission/admin/manage/identity/functionsLibrarymgt/update","/permission/admin/manage/identity/functionsLibrarymgt/create","/permission/admin/manage/identity/functionsLibrarymgt/delete","/permission/admin/manage/identity/functionsLibrarymgt/view","/permission/admin/manage/identity/userroleuimgt","/permission/admin/manage/identity/userroleuimgt/create","/permission/admin/manage/identity/defaultauthSeq","/permission/admin/manage/identity/defaultauthSeq/view","/permission/admin/manage/identity/defaultauthSeq/update","/permission/admin/manage/identity/defaultauthSeq/create","/permission/admin/manage/identity/defaultauthSeq/delete","/permission/admin/manage/identity/entitlement","/permission/admin/manage/identity/entitlement/pap","/permission/admin/manage/identity/entitlement/pap/policy","/permission/admin/manage/identity/entitlement/pap/policy/delete","/permission/admin/manage/identity/entitlement/pap/policy/publish","/permission/admin/manage/identity/entitlement/pap/policy/create","/permission/admin/manage/identity/entitlement/pap/policy/view","/permission/admin/manage/identity/entitlement/pap/policy/rollback","/permission/admin/manage/identity/entitlement/pap/policy/order","/permission/admin/manage/identity/entitlement/pap/policy/demote","/permission/admin/manage/identity/entitlement/pap/policy/update","/permission/admin/manage/identity/entitlement/pap/policy/enable","/permission/admin/manage/identity/entitlement/pap/policy/list","/permission/admin/manage/identity/entitlement/pap/subscriber","/permission/admin/manage/identity/entitlement/pap/subscriber/update","/permission/admin/manage/identity/entitlement/pap/subscriber/view","/permission/admin/manage/identity/entitlement/pap/subscriber/list","/permission/admin/manage/identity/entitlement/pap/subscriber/create","/permission/admin/manage/identity/entitlement/pap/subscriber/delete","/permission/admin/manage/identity/entitlement/pdp","/permission/admin/manage/identity/entitlement/pdp/view","/permission/admin/manage/identity/entitlement/pdp/manage","/permission/admin/manage/identity/entitlement/pdp/test","/permission/admin/manage/identity/entitlement/pep","/permission/admin/manage/identity/challenge","/permission/admin/manage/identity/challenge/delete","/permission/admin/manage/identity/challenge/create","/permission/admin/manage/identity/challenge/update","/permission/admin/manage/identity/challenge/view"]}}]);