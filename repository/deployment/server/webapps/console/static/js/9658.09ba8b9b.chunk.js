/*! For license information please see 9658.09ba8b9b.chunk.js.LICENSE.txt */
(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9658],{79734:(e,t,n)=>{"use strict";n.d(t,{jw:()=>W,u4:()=>Dt,DU:()=>St,XH:()=>ft,yM:()=>It});var i=n(73150),o=n(54833),a=n(93129),r=n(20812),l=n(86727),c=n(67127),s=n(44194),u=n(10479),d=n(47245),p=n(89141),m=n(62508),f=n(24393),h=n(61763),g=n(84870),b=n(6776),v=n(55813),y=n(51835),E=n.n(y),S=n(27975),w=n.n(S),C=n(55900),O=n.n(C),I=n(21555),A=n.n(I),L=n(3621),T=n.n(L),N=n(5062),R=n.n(N),Z=n(31593),x=n.n(Z),k={};k.styleTagTransform=R(),k.setAttributes=A(),k.insert=O().bind(null,"head"),k.domAPI=w(),k.insertStyleElement=T();E()(x(),k);x()&&x().locals&&x().locals;function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var P="application-advanced-configuration-form",W=function(e){var t,n,y,E,S,w,C,O,I,A=e.config,L=e.onSubmit,T=e.readOnly,N=e.template,R=e.isSubmitting,Z=e.onAlertFired,x=e["data-testid"],k=(0,u.$)().t,F=(0,h.Z)().UIConfig,W=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),M=(0,o.cr)(null==W?void 0:W.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_NATIVE_AUTHENTICATION")),D=(0,s.useRef)(null),Q=U((0,s.useState)(null==A?void 0:A.enableAPIBasedAuthentication),2),_=Q[0],j=Q[1],B=U((0,s.useState)(null==A||null===(t=A.attestationMetaData)||void 0===t?void 0:t.enableClientAttestation),2),G=B[0],V=B[1],H=U((0,s.useState)(!1),2),X=H[0],z=H[1],Y=function(e){var t;try{(0,c.Z)(e.androidAttestationServiceCredentials)||(t=JSON.parse(e.androidAttestationServiceCredentials))}catch(o){return void Z({description:"Unable to update the application configuration",level:a.QU.ERROR,message:k("Improper JSON format for Android Attestation Service Credentials")})}var n=!!e.enableAPIBasedAuthentication&&e.enableClientAttestation,i={advancedConfigurations:{attestationMetaData:{androidAttestationServiceCredentials:t,androidPackageName:e.androidPackageName,appleAppId:e.appleAppId,enableClientAttestation:n},enableAPIBasedAuthentication:!!e.enableAPIBasedAuthentication,enableAuthorization:!!e.enableAuthorization,returnAuthenticatedIdpList:!!e.returnAuthenticatedIdpList,saas:!!e.saas,skipLoginConsent:!!e.skipConsentLogin,skipLogoutConsent:!!e.skipConsentLogout}};!g.applicationConfig.advancedConfigurations.showSaaS&&delete i.advancedConfigurations.saas,!g.applicationConfig.advancedConfigurations.showEnableAuthorization&&delete i.advancedConfigurations.enableAuthorization,!g.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs&&delete i.advancedConfigurations.returnAuthenticatedIdpList,L(i)},J=!_,q=!G||J,K=function(){return z(J)};return s.createElement(r.l0,{id:P,uncontrolledForm:!0,ref:D,validate:function(e){var t,n,i,o,a={androidAttestationServiceCredentials:void 0,androidPackageName:void 0};return null!==(t=e.androidPackageName)&&void 0!==t&&t.toString().trim()||null===(n=e.androidAttestationServiceCredentials)||void 0===n||!n.toString().trim()?null===(i=e.androidPackageName)||void 0===i||!i.toString().trim()||null!==(o=e.androidAttestationServiceCredentials)&&void 0!==o&&o.toString().trim()||(a.androidAttestationServiceCredentials=k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidAttestationServiceCredentials.validations.empty")):a.androidPackageName=k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidPackageName.validations.empty"),a},validateOnBlur:!1,onSubmit:function(e){Y(e)}},s.createElement(r.gN.CheckboxLegacy,{ariaLabel:"Saas application",name:"saas",label:k("applications:forms.advancedConfig.fields.saas.label"),required:!1,value:null!=A&&A.saas?["saas"]:[],readOnly:T,"data-testid":"".concat(x,"-sass-checkbox"),"data-componentid":"".concat(x,"-sass-checkbox"),hint:k("applications:forms.advancedConfig.fields.saas.hint"),hidden:!(null!=F&&null!==(n=F.legacyMode)&&void 0!==n&&n.saasApplications&&g.applicationConfig.advancedConfigurations.showSaaS)}),s.createElement(r.gN.CheckboxLegacy,{ariaLabel:"Skip consent login",name:"skipConsentLogin",label:k("applications:forms.advancedConfig.fields.skipConsentLogin.label"),required:!1,value:null!=A&&A.skipLoginConsent?["skipLoginConsent"]:[],readOnly:T,"data-testid":"".concat(x,"-skip-login-consent-checkbox"),"data-componentid":"".concat(x,"-skip-login-consent-checkbox"),hint:k("applications:forms.advancedConfig.fields.skipConsentLogin.hint")}),(null==v?void 0:v.id)!==(null==N?void 0:N.id)&&s.createElement(r.gN.CheckboxLegacy,{ariaLabel:"Skip consent logout",name:"skipConsentLogout",label:k("applications:forms.advancedConfig.fields.skipConsentLogout.label"),required:!1,value:null!=A&&A.skipLogoutConsent?["skipLogoutConsent"]:[],readOnly:T,"data-testid":"".concat(x,"-skip-logout-consent-checkbox"),"data-componentid":"".concat(x,"-skip-logout-consent-checkbox"),hint:k("applications:forms.advancedConfig.fields.skipConsentLogout.hint")}),s.createElement(r.gN.CheckboxLegacy,{ariaLabel:"Return authenticated IDP list",name:"returnAuthenticatedIdpList",label:k("applications:forms.advancedConfig.fields.returnAuthenticatedIdpList.label"),required:!1,value:null!=A&&A.returnAuthenticatedIdpList?["returnAuthenticatedIdpList"]:[],readOnly:T,"data-testid":"".concat(x,"-return-authenticated-idp-list-checkbox"),"data-componentid":"".concat(x,"-return-authenticated-idp-list-checkbox"),hidden:!g.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs,hint:k("applications:forms.advancedConfig.fields.returnAuthenticatedIdpList.hint")}),s.createElement(r.gN.CheckboxLegacy,{ariaLabel:"Enable authorization",name:"enableAuthorization",label:k("applications:forms.advancedConfig.fields.enableAuthorization.label"),required:!1,value:null!=A&&A.enableAuthorization?["enableAuthorization"]:[],readOnly:T,"data-testid":"".concat(x,"-enable-authorization-checkbox"),"data-componentid":"".concat(x,"-enable-authorization-checkbox"),hidden:!g.applicationConfig.advancedConfigurations.showEnableAuthorization||!(null!=F&&F.isXacmlConnectorEnabled),hint:k("applications:forms.advancedConfig.fields.enableAuthorization.hint")}),M&&((null==N?void 0:N.id)===b.jo.CUSTOM_APPLICATION||(null==N?void 0:N.id)===b.jo.CUSTOM_APPLICATION_OIDC||(null==N?void 0:N.id)===b.jo.MOBILE||(null==N?void 0:N.id)===b.jo.TEMPLATE_IDS.get("oidcWeb"))&&s.createElement(s.Fragment,null,s.createElement(p.Z,null,s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},"App-Native Authentication"),J&&X&&s.createElement(i.Z,{severity:"info",className:"client-attestation-info-alert"},k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.alerts.clientAttestation")),s.createElement(r.gN.CheckboxLegacy,{ariaLabel:"Enable apiBasedAuthentication",name:"enableAPIBasedAuthentication",label:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableAPIBasedAuthentication.label"),required:!1,readOnly:T,value:_?["enableAPIBasedAuthentication"]:[],listen:function(e){j(e),z(!e&&G)},"data-testid":"".concat(x,"-enable-api-based-authentication"),"data-componentid":"".concat(x,"-enable-api-based-authentication"),hidden:!g.applicationConfig.advancedConfigurations.showEnableAuthorization,hint:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableAPIBasedAuthentication.hint")}))),((null==N?void 0:N.id)===b.jo.CUSTOM_APPLICATION||(null==N?void 0:N.id)===b.jo.CUSTOM_APPLICATION_OIDC||(null==N?void 0:N.id)===b.jo.MOBILE)&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:1,onClick:K},s.createElement(p.Z.Column,null,s.createElement(r.gN.CheckboxLegacy,{ariaLabel:"Enable attestation",name:"enableClientAttestation",label:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableClientAttestation.label"),required:!1,readOnly:T,value:null!=A&&null!==(y=A.attestationMetaData)&&void 0!==y&&y.enableClientAttestation?["enableClientAttestation"]:[],listen:V,"data-testid":"".concat(x,"-enable-client-attestation"),"data-componentid":"".concat(x,"-enable-api-based-authentication"),disabled:J,hint:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableClientAttestation.hint")}))),s.createElement(p.Z.Row,{columns:1,onClick:K},s.createElement(p.Z.Column,null,s.createElement(l.X6,{as:"h5",bold:"500"},s.createElement(l.dn,{size:"micro",icon:(0,f.r2)().android,verticalAlign:"middle",floated:"left"}),k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.heading")),s.createElement(r.gN.Input,{ariaLabel:"Android package name",inputType:"default",name:"androidPackageName",label:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidPackageName.label"),required:!1,readOnly:T,value:null!==(E=null==A||null===(S=A.attestationMetaData)||void 0===S?void 0:S.androidPackageName)&&void 0!==E?E:"",placeholder:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidPackageName.placeholder"),hint:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidPackageName.hint"),maxLength:200,minLength:3,width:16,"data-testid":"".concat(x,"-client-attestation-android-package-name"),"data-componentid":"".concat(x,"-client-attestation-android-package-name"),disabled:q}))),s.createElement(p.Z.Row,{columns:1,onClick:K},s.createElement(p.Z.Column,null,s.createElement(r.gN.Textarea,{ariaLabel:"Android service account credentials",inputType:"description",name:"androidAttestationServiceCredentials",label:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidAttestationServiceCredentials.label"),placeholder:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidAttestationServiceCredentials.placeholder"),value:null!=A&&null!==(w=A.attestationMetaData)&&void 0!==w&&w.androidAttestationServiceCredentials?[JSON.stringify(null==A||null===(C=A.attestationMetaData)||void 0===C?void 0:C.androidAttestationServiceCredentials,null,4)]:[],hint:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidAttestationServiceCredentials.hint"),type:"text",maxLength:5e3,minLength:30,width:16,"data-testid":"".concat(x,"-client-attestation-android-account-credentials"),"data-componentid":"".concat(x,"-client-attestation-android-account-credentials"),disabled:q,readOnly:T}))),s.createElement(p.Z.Row,{columns:1,onClick:K},s.createElement(p.Z.Column,null,s.createElement(l.X6,{as:"h5",bold:"500"},s.createElement(l.dn,{size:"micro",icon:(0,f.r2)().apple,floated:"left",verticalAlign:"middle"}),k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.apple.heading")),s.createElement(r.gN.Input,{ariaLabel:"Apple App Id",inputType:"default",name:"appleAppId",label:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.apple.fields.appleAppId.label"),required:!1,placeholder:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.apple.fields.appleAppId.placeholder"),value:null!==(O=null==A||null===(I=A.attestationMetaData)||void 0===I?void 0:I.appleAppId)&&void 0!==O?O:"",hint:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.apple.fields.appleAppId.hint"),maxLength:200,minLength:3,width:16,"data-testid":"".concat(x,"-client-attestation-apple=app=id"),"data-componentid":"".concat(x,"-client-attestation-apple=app=id"),disabled:q,readOnly:T})))))),s.createElement(r.gN.Button,{form:P,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(x,"-submit-button"),"data-componentid":"".concat(x,"-submit-button"),disabled:R,loading:R,hidden:T,label:k("common:update")}))};W.defaultProps={"data-testid":"application-advanced-configurations-form"};var M=n(71015),D=n(3356),Q=n(14045),_=n(66112),j=n(21036),B=n(10909),G=n(9261),V=n(19980),H=n(47018),X=["certificate","data-testid"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},z.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var J=function(e){var t=e.certificate,n=e["data-testid"],i=Y(e,X),o=(0,u.$)().t,a=s.createElement(V.Z,{className:"certificate","data-testid":n},s.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",M.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return s.createElement("span",{key:"".concat(e,"+").concat(t)},s.createElement(l.EK,null,e),"\xa0")}))," key algorithms. Support for ",s.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return s.createElement(H.Z,z({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(n,"-view-certificate-modal")},i),s.createElement(H.Z.Header,null,s.createElement("div",{className:"certificate-ribbon"},s.createElement(l.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,f._5)().ribbon}),s.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=t&&t.alias?null==t?void 0:t.alias:(null==t?void 0:t.issuerDN)&&Q.CertificateManagementUtils.searchIssuerDNAlias(null==t?void 0:t.issuerDN)),s.createElement("br",null),s.createElement("div",{className:"certificate-serial"},"Serial Number: ",null==t?void 0:t.serialNumber))),s.createElement(H.Z.Content,{className:"certificate-content"},null!=t&&t.infoUnavailable?a:s.createElement(l.KB,{certificate:t,labels:{issuerDN:o("certificates:keystore.summary.issuerDN"),subjectDN:o("certificates:keystore.summary.subjectDN"),validFrom:o("certificates:keystore.summary.validFrom"),validTill:o("certificates:keystore.summary.validTill"),version:o("certificates:keystore.summary.version")}})))};function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}J.defaultProps={"data-testid":"certificate-form-field-modal"};var ee=function(e){var t=e.certificate,n=e.metadata,i=e.initialValues,o=e.onSubmit,r=e.readOnly,f=e.isLoading,h=e["data-testid"],g=(0,u.$)().t,v=(0,d.I0)(),y=q((0,s.useState)(!1),2),E=y[0],S=y[1],w=q((0,s.useState)(!1),2),C=w[0],O=w[1],I=q((0,s.useState)(void 0),2),A=I[0],L=I[1],T=q((0,s.useState)(null),2),N=T[0],R=T[1];(0,s.useEffect)((function(){G.el.PEM===(null==t?void 0:t.type)&&(S(!0),null!=t&&t.value&&L(t.value))}),[t]);var Z=function(){if(n){var e=null==n?void 0:n.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=i.properties.find((function(t){return t.key===e.name}));return function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:g("applications:forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:x(null==e?void 0:e.availableValues),"data-testid":"".concat(h,"-").concat(null==e?void 0:e.name,"-dropdown")}))):null!=e&&e.isConfidential?s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:g("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:g("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:g("applications:forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:g("applications:forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(h,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===G.og.BOOLEAN?s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:g("applications:forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(h,"-").concat(null==e?void 0:e.name,"-checkbox")}))):s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:g("applications:forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:g("applications:forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===G.og.INTEGER?"number":"text","data-testid":"".concat(h,"-").concat(null==e?void 0:e.name,"-input")})))}(e,t)}))}},x=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},k=function(e){var t,n=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=K(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var a=q(t.value,2),r=a[0],l=a[1],c=void 0;c=l instanceof Array?{key:r,value:l.length>0}:{key:r,value:l},n.push(c)}}catch(s){o.e(s)}finally{o.f()}return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:E?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{configName:null==i?void 0:i.configName,name:null==i?void 0:i.name,properties:[].concat(n)}}};(0,s.useEffect)((function(){n&&Z()}),[n]);return s.createElement(_.Es,{onSubmit:function(e){o(k(e))}},s.createElement(p.Z,null,Z(),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null)),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},g("applications:forms.advancedConfig.sections.certificate.heading")),s.createElement(_.gN,{label:g("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:G.el.JWKS,listen:function(e){S("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:g("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:G.el.JWKS},{label:g("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:G.el.PEM}],readOnly:r,"data-testid":"".concat(h,"-certificate-type-radio-group")}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},E?s.createElement(s.Fragment,null,s.createElement(_.gN,{name:"certificateValue",label:g("applications:forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:g("applications:forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:b.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:G.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){L(e.get("certificateValue"))},readOnly:r,"data-testid":"".concat(h,"-certificate-textarea")}),s.createElement(l.kW,null,g("applications:forms.advancedConfig.sections.certificate.fields.pemValue.hint")),s.createElement(l.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),E&&A&&((t=Q.CertificateManagementUtils.canSafelyParseCertificate(A)?Q.CertificateManagementUtils.displayCertificate(null,A):M.lu.DUMMY_DISPLAY_CERTIFICATE)?(R(t),O(!0)):v((0,D.V_)({description:g("applications:notifications.invalidPEMFile.genericError.description"),level:a.QU.ERROR,message:g("applications:notifications.invalidPEMFile.genericError.message")})))},disabled:(0,c.Z)(A),"data-testid":"".concat(h,"-certificate-info-button")},g("applications:forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):s.createElement(s.Fragment,null,s.createElement(_.gN,{name:"jwksValue",label:g("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:g("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:g("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(g("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:G.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:r,"data-testid":"".concat(h,"-jwks-input")})))),C&&s.createElement(J,{open:C,certificate:N,onClose:function(){O(!1)}}),!r&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:f,disabled:f},g("common:update"))))))};ee.defaultProps={"data-testid":"inbound-custom-protocol-form"};var te=n(17),ne=n(99285),ie=n(80254),oe=n(59673),ae=n(66528),re=n(37077),le=n(77757),ce=n(73432),se=n(53036),ue=n(48397),de=n(32459),pe=n(65735),me=n(89608),fe=n(65535),he=n(45572),ge=n(6288),be=n(56514),ve=n(39521),ye=n(84025),Ee=n.n(ye),Se=n(26154);function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Oe=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,i=e.setShowFinishButton,o=e["data-testid"],a=we((0,s.useState)(""),2),r=a[0],l=a[1],c=we((0,s.useState)(""),2),u=c[0],d=c[1],m=we((0,s.useState)(""),2),h=m[0],g=m[1],b=we((0,s.useState)(null),2),v=b[0],y=b[1],E=we((0,s.useState)(null),2),S=E[0],w=E[1],C=we((0,s.useState)(""),2),O=C[0],I=C[1];(0,s.useEffect)((function(){""!==O&&n(O)}),[O]);var A=function(e,t,n,i,o,a){l(t),g(n),d(i),y(o),w(a),I(btoa(Q.CertificateManagementUtils.enclosePem(e.certificate)))};return s.createElement(s.Fragment,null,s.createElement(_.Es,{"data-testid":"".concat(o,"-form")},s.createElement(p.Z,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(f.e,{submit:A,triggerSubmit:t,pemData:h,nameData:r,fileDecodedData:u,fileData:v,forgeCertificateData:S,"data-testid":"".concat(o,"-upload"),hideAliasInput:!0,setShowFinishButton:i}))))))};Oe.defaultProps={"data-testid":"add-application-certificate-form"};var Ie=n(8449);function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Te=function(e){var t=e.closeWizard,n=e.currentStep,i=e.updatePEMValue,o=e["data-testid"],a=(0,u.$)().t,r=Ae((0,_.cC)(),2),c=r[0],d=r[1],m=Ae((0,_.cC)(),2),f=m[0],h=m[1],g=Ae((0,s.useState)(void 0),1)[0],b=Ae((0,s.useState)(n),2),v=b[0],y=b[1],E=Ae((0,s.useState)(!1),2),S=E[0],w=E[1],C=Ae((0,l.IK)(),3),O=C[0],I=C[2];(0,s.useEffect)((function(){void 0!==g&&y(v-1)}),[g]);var A=[{content:s.createElement(Oe,{triggerCertificateUpload:f,triggerSubmit:c,onSubmit:function(e){!function(e){i(e),t()}(e)},setShowFinishButton:w}),icon:(0,Ie.ot)().general,title:a("certificates:keystore.wizard.steps.upload")}];return s.createElement(H.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-testid":o,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(H.Z.Header,{className:"wizard-header"},a("applications:wizards.applicationCertificateWizard.heading"),s.createElement(l.X6,{as:"h6"},a("applications:wizards.applicationCertificateWizard.subHeading"))),s.createElement(H.Z.Content,{className:"content-container",scrolling:!0},O&&I,A[v].content),s.createElement(H.Z.Actions,null,s.createElement(p.Z,null,s.createElement(p.Z.Row,{column:1},s.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(){return t()},"data-testid":"".concat(o,"-cancel-button")},a("common:cancel"))),s.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},v===A.length-1&&s.createElement(l.KM,{disabled:!S,floated:"right",onClick:function(){if(0===v)h(),d()},"data-testid":"".concat(o,"-finish-button")},a("common:finish")))))))};Te.defaultProps={currentStep:0,"data-testid":"add-application-certificate-wizard"};var Ne=n(78537);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ze(){Ze=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(i||[]);return o(r,"_invoke",{value:A(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function b(){}function v(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(Z([])));w&&w!==n&&i.call(w,r)&&(E=w);var C=y.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,r,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Re(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,i){var o=p;return function(a,r){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw r;return{value:e,done:!0}}for(i.method=a,i.arg=r;;){var l=i.delegate;if(l){var c=L(l,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?h:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=h,i.method="throw",i.arg=s.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Re(t)+" is not iterable")}return v.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new I(u(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(C),s(C,c,"Generator"),s(C,r,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){var i;return i=function(e,t){if("object"!=Re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Re(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Re(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t,n,i,o,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(i,o)}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Me=function(e){var t=e.deleteAllowed,n=e.reasonInsideTooltipWhyDeleteIsNotAllowed,i=e.onUpdate,o=e.application,r=e.applicationCertificate,c=e.updatePEMValue,h=e["data-testid"],g=(0,u.$)().t,b=(0,d.I0)(),v=Pe((0,s.useState)(null),2),y=v[0],E=v[1],S=Pe((0,s.useState)(!1),2),w=S[0],C=S[1],O=Pe((0,s.useState)(null),2),I=O[0],A=O[1],L=Pe((0,s.useState)(!1),2),T=L[0],N=L[1],R=Pe((0,s.useState)(!1),2),Z=R[0],x=R[1],k=Pe((0,s.useState)(!1),2),U=k[0],F=k[1];(0,s.useEffect)((function(){if(r){var e=[];Q.CertificateManagementUtils.canSafelyParseCertificate(r)?null==e||e.push(Q.CertificateManagementUtils.displayCertificate(null,r)):null==e||e.push(M.lu.DUMMY_DISPLAY_CERTIFICATE),E(e)}}),[r]),(0,s.useEffect)((function(){I&&C(!0)}),[I]),(0,s.useEffect)((function(){w||A(null)}),[w]);var P=function(e){A(e)},W=function(){var e,t=(e=Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),c(""),E(null),e.prev=4,t={general:{advancedConfigurations:{certificate:{type:G.el.PEM,value:""}}}},e.next=8,(0,Ne.hN)(ke({id:null==o?void 0:o.id},t.general));case 8:b((0,D.V_)({description:g("applications:notifications.deleteCertificateSuccess.description"),level:a.QU.SUCCESS,message:g("applications:notifications.deleteCertificateSuccess.message")})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=16;break}return b((0,D.V_)({description:e.t0.response.data.description,level:a.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 16:b((0,D.V_)({description:g("applications:notifications.deleteCertificateGenericError.description"),level:a.QU.ERROR,message:g("applications:notifications.deleteCertificateGenericError.message")}));case 17:return e.prev=17,x(!1),F(!1),i(o.id),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,11,17,22]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){Fe(a,i,o,r,l,"next",e)}function l(e){Fe(a,i,o,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),j=s.createElement(l.cV,{onClose:function(){return x(!1)},onSecondaryActionClick:function(){return x(!1)},primaryActionLoading:U,onPrimaryActionClick:W,open:Z,type:"negative",primaryAction:g("applications:confirmations.certificateDelete.primaryAction"),secondaryAction:g("applications:confirmations.certificateDelete.secondaryAction"),"data-testid":"".concat(h,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(h,"-delete-confirmation-modal-header")},g("applications:confirmations.certificateDelete.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(h,"-delete-confirmation-modal-message")},g("applications:confirmations.certificateDelete.message"))),B=function(e,t,n){var i,o,r=Ee()(t);switch(Q.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case a.WE.VALID:i="check circle",o="green";break;case a.WE.WILL_EXPIRE_SOON:i="exclamation circle",o="yellow";break;default:i="times circle",o="red"}return s.createElement(s.Fragment,null,n+M.lu.SPACE_CHARACTER,s.createElement(l.GI,{trigger:s.createElement(Se.Z,{name:i,color:o}),content:"Expiry date: "+r.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},H=function(e){return s.createElement(l.Yt,{name:null!=e&&e.infoUnavailable?M.lu.QUESTION_MARK:Q.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})},X=function(e){return s.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",s.createElement(l.GI,{trigger:s.createElement(Se.Z,{onClick:function(){return P(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))};return s.createElement(_.Es,null,y?s.createElement(p.Z,null,s.createElement(p.Z.Row,null,s.createElement(p.Z.Column,{width:16},s.createElement(m.Z,{hidden:!0}),s.createElement(l.Db,{fill:!0,relaxed:!1,className:"application-list",loadingStateOptions:{count:f.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}},null==y?void 0:y.map((function(e,i){return s.createElement(l.zA,{key:i,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-testid":"".concat(h,"-edit-cert-").concat(i,"-button"),icon:"pencil",onClick:function(){return N(!0)},popupText:"Change certificate",type:"button"},{"data-testid":"".concat(h,"-edit-cert-").concat(i,"-button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return P(e)},popupText:"View certificate",type:"button"},{"data-testid":"".concat(h,"-delete-cert-").concat(i,"-button"),disabled:!t,icon:"trash alternate",onClick:function(){return x(!0)},popupText:t?g("users:usersList.list.iconPopups.delete"):n,type:"button"}],actionsFloated:"right",avatar:H(e),itemHeader:null!=e&&e.infoUnavailable?X(e):B(e.validFrom,e.validTill,Q.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:Q.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(e.validFrom,e.validTill)})})))))):s.createElement(p.Z,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{width:16},s.createElement(m.Z,{hidden:!0}),s.createElement(V.Z,null,s.createElement(l.$J,{title:g("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.title"),image:(0,f.jF)().emptyList,subtitle:[g("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.description1"),g("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.description2")],imageSize:"tiny",action:s.createElement(l.KM,{onClick:function(){return N(!0)},"data-testid":"".concat(h,"-emptyPlaceholder-add-certificate-button"),type:"button"},s.createElement(Se.Z,{name:"add"}),g("authenticationProvider:buttons.addCertificate")),"data-testid":"".concat(h,"-empty-placeholder")})),s.createElement(m.Z,{hidden:!0})))),T&&s.createElement(Te,{closeWizard:function(){return N(!1)},updatePEMValue:c,"data-testid":"".concat(h,"-add-certificate-wizard")}),j,w&&s.createElement(J,{open:w,certificate:I,onClose:function(){return C(!1)}}))};function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Me.defaultProps={"data-testid":"application-certificate-list",deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var _e=function(e){var t=e.protocol,n=e.deleteAllowed,i=e.reasonInsideTooltipWhyDeleteIsNotAllowed,o=e.onUpdate,r=e.application,f=e.certificate,h=e.triggerSubmit,b=e.hidden,v=e.hideJWKS,y=e.readOnly,E=e.updateCertFinalValue,S=e.updateCertType,w=e.canDiscardCertificate,C=e["data-testid"],O=(0,u.$)().t,I=(0,d.I0)(),A=De((0,s.useState)(!1),2),L=A[0],T=A[1],N=De((0,s.useState)(G.el.NONE),2),R=N[0],Z=N[1],x=De((0,s.useState)(void 0),2),k=x[0],U=x[1],F=De((0,s.useState)(void 0),2),P=F[0],W=F[1],M=De((0,s.useState)(!1),2),B=M[0],V=M[1],H=De((0,s.useState)(!1),2),X=H[0],z=H[1],Y=De((0,s.useState)(!1),2),J=Y[0],q=Y[1];(0,s.useEffect)((function(){null!=f&&f.type&&Z(null==f?void 0:f.type)}),[f]),(0,s.useEffect)((function(){G.el.PEM===R?(E(k),(0,c.Z)(k)||T(!1)):G.el.JWKS===R&&E(P)}),[k,P]),(0,s.useEffect)((function(){G.el.PEM===(null==f?void 0:f.type)?null!=f&&f.value&&U(f.value):G.el.JWKS===(null==f?void 0:f.type)&&null!=f&&f.value&&W(f.value)}),[f]),(0,s.useEffect)((function(){K(R),G.el.PEM===R?W(""):G.el.JWKS===R&&U("")}),[R]),(0,s.useEffect)((function(){(null==r?void 0:r.templateId)===G.u.M2M_APPLICATION&&q(!0)}),[r]);var K=function(e){e!==G.el.PEM||(0,c.Z)(P)?e!==G.el.JWKS||(0,c.Z)(k)||I((0,D.V_)({description:O("authenticationProvider:notifications.changeCertType.jwks.description"),level:a.QU.WARNING,message:O("authenticationProvider:notifications.changeCertType.jwks.message")})):I((0,D.V_)({description:O("authenticationProvider:notifications.changeCertType.pem.description"),level:a.QU.WARNING,message:O("authenticationProvider:notifications.changeCertType.pem.message")})),R===G.el.NONE&&f?z(!0):z(!1),S(e)};return b?null:s.createElement(_.Es,{onSubmit:function(){K(R),R===G.el.PEM&&(0,c.Z)(k)&&T(!0)},submitState:h},s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null)),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},O("applications:forms.advancedConfig.sections.certificate.heading")),s.createElement(_.gN,{label:O("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"certificateType",default:R,listen:function(e){Z(e.get("certificateType")),K(e.get("certificateType"))},onBefore:function(e,t){var n=t;return!(G.el.NONE===n&&w&&!w())||(V(!0),!1)},type:"radio",value:null==f?void 0:f.type,children:v?[{label:"None",value:G.el.NONE},{hint:{content:O("applications:forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:O("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:O("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:G.el.PEM}]:[{label:"None",value:G.el.NONE},{hint:{content:O("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.description"),header:O("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label")},label:O("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:G.el.JWKS},{hint:{content:O("applications:forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:O("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:O("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:G.el.PEM}],readOnly:y,"data-testid":"".concat(C,"-certificate-type-radio-group")}),X&&s.createElement(l.v0,{"data-componentid":"application-certificate-removal-warning-message",type:"warning",header:"Warning",content:s.createElement(s.Fragment,null,O("applications:forms.inboundSAML.sections.certificates.certificateRemoveConfirmation.content"))}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},R===G.el.PEM&&s.createElement(Me,{deleteAllowed:n,reasonInsideTooltipWhyDeleteIsNotAllowed:i,onUpdate:o,application:r,updatePEMValue:function(e){U(e)},applicationCertificate:k}),R===G.el.JWKS&&!v&&s.createElement(_.gN,{name:"jwksValue",displayErrorOn:"blur",label:O("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:G.el.JWKS===R,requiredErrorMessage:O("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:O("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(O("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid"))),null!==g.commonConfig&&void 0!==g.commonConfig&&g.commonConfig.blockLoopBackCalls&&Q.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(O("idp:forms.common.internetResolvableErrorMessage")))},listen:function(e){W(e.get("jwksValue"))},value:G.el.JWKS===(null==f?void 0:f.type)&&(null==f?void 0:f.value),readOnly:y,"data-testid":"".concat(C,"-jwks-input")}),L&&(0,c.Z)(k)&&G.el.PEM===R&&s.createElement(l.v0,{type:"error","data-testid":"".concat(C,"-error-message"),content:O("certificates:keystore.errorEmpty")}),t&&!J&&s.createElement(l.kW,null,function(e){switch(e){case G.AI.OAUTH2_OIDC:case G.AI.OIDC:return s.createElement(oe.c,{i18nKey:"applications:forms.advancedConfig.sections.certificate.hint.customOidc"},"This certificate is used to encrypt the ",s.createElement(l.EK,null,"id_token"),"returned after the authentication.");case G.AI.SAML:return O("applications:forms.advancedConfig.sections.certificate.hint.customSaml");case G.AI.WS_FEDERATION:return O("applications:forms.advancedConfig.sections.certificate.hint.customPassiveSTS");default:return null}}(t)))),B&&s.createElement(l.cV,{onClose:function(){return V(!1)},type:"negative",open:B,primaryAction:O("common:okay"),onPrimaryActionClick:function(){V(!1)},closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(C,"-invalid-operation-modal-header")},O("applications:forms.advancedConfig.sections.certificate.invalidOperationModal.header")),s.createElement(l.cV.Content,{"data-testid":"".concat(C,"-invalid-operation-modal-content")},O("applications:forms.advancedConfig.sections.certificate.invalidOperationModal.message"))))};function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Be(){Be=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(i||[]);return o(r,"_invoke",{value:A(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function b(){}function v(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(Z([])));w&&w!==n&&i.call(w,r)&&(E=w);var C=y.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,r,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==je(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,i){var o=p;return function(a,r){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw r;return{value:e,done:!0}}for(i.method=a,i.arg=r;;){var l=i.delegate;if(l){var c=L(l,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?h:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=h,i.method="throw",i.arg=s.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(je(t)+" is not iterable")}return v.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new I(u(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(C),s(C,c,"Generator"),s(C,r,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function Ge(e,t,n,i,o,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(i,o)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){Ge(a,i,o,r,l,"next",e)}function l(e){Ge(a,i,o,r,l,"throw",e)}r(void 0)}))}}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){var i;return i=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==je(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}_e.defaultProps={"data-testid":"application-certificate-wrapper",deleteAllowed:!0,hidden:!1,hideJWKS:!1,isRequired:!1,protocol:null,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var $e=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.metadata,r=e.initialValues,f=e.onSubmit,h=e.onApplicationRegenerate,v=e.onApplicationRevoke,y=e.readOnly,E=e.allowedOriginList,S=e.tenantDomain,w=e.template,C=e.isLoading,O=e.setIsLoading,I=e.containerRef,A=e.isDefaultApplication,L=e.isSystemApplication,T=e["data-testid"],N=e["data-componentid"],R=(0,u.$)().t,Z=(0,d.I0)(),x=(0,d.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),k=(0,d.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),U=(0,d.v9)((function(e){return e.organization.organization})),F=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),P=r.isFAPIApplication,W=Je((0,s.useState)(!1),2),M=W[0],V=W[1],H=Je((0,s.useState)(!1),2),X=H[0],z=H[1],Y=Je((0,s.useState)(""),2),J=Y[0],q=Y[1],K=Je((0,s.useState)(""),2),$=K[0],ee=K[1],ye=Je((0,s.useState)(!1),2),Ee=ye[0],Se=ye[1],we=Je((0,s.useState)(!1),2),Ce=we[0],Oe=we[1],Ie=Je((0,s.useState)(!1),2),Ae=Ie[0],Le=Ie[1],Te=Je((0,s.useState)(void 0),2),Ne=Te[0],Re=Te[1],Ze=Je((0,s.useState)(void 0),2),xe=Ze[0],ke=Ze[1],Ue=Je((0,s.useState)(!1),2),Fe=Ue[0],Pe=Ue[1],We=Je((0,s.useState)(void 0),2),Me=We[0],De=We[1],Qe=Je((0,s.useState)(!1),2),je=Qe[0],Ge=Qe[1],He=Je((0,s.useState)(!1),2),ze=He[0],Ke=He[1],$e=Je((0,s.useState)(!1),2),et=$e[0],tt=$e[1],nt=Je((0,s.useState)(!1),2),it=nt[0],ot=nt[1],at=Je((0,s.useState)(!1),2),rt=at[0],lt=at[1],ct=Je((0,s.useState)(null),2),st=ct[0],ut=ct[1],dt=Je((0,s.useState)(""),2),pt=dt[0],mt=dt[1],ft=Je((0,s.useState)(!1),2),ht=ft[0],gt=ft[1],bt=Je((0,s.useState)(null),2),vt=bt[0],yt=bt[1],Et=Je((0,s.useState)(null),2),St=Et[0],wt=Et[1],Ct=Je((0,s.useState)(!1),2)[1],Ot=Je((0,s.useState)(void 0),2)[1],It=Je((0,s.useState)(null!=r&&r.clientAuthentication?r.clientAuthentication.tlsClientAuthSubjectDn:null),2),At=It[0],Lt=It[1],Tt=Je((0,s.useState)(void 0),2),Nt=Tt[0],Rt=Tt[1],Zt=Je((0,s.useState)(!1),2),xt=Zt[0],kt=Zt[1],Ut=(0,d.v9)((function(e){return e.config})),Ft=(0,s.useRef)(),Pt=(0,s.useRef)(),Wt=(0,s.useRef)(),Mt=(0,s.useRef)(),Dt=(0,s.useRef)(),Qt=(0,s.useRef)(),_t=(0,s.useRef)(),jt=(0,s.useRef)(),Bt=(0,s.useRef)(),Gt=(0,s.useRef)(),Vt=(0,s.useRef)(),Ht=(0,s.useRef)(),Xt=(0,s.useRef)(),zt=(0,s.useRef)(),Yt=(0,s.useRef)(),Jt=(0,s.useRef)(),qt=(0,s.useRef)(),Kt=(0,s.useRef)(),$t=(0,s.useRef)(),en=(0,s.useRef)(),tn=(0,s.useRef)(),nn=(0,s.useRef)(),on=(0,s.useRef)(),an=(0,s.useRef)(),rn=(0,s.useRef)(),ln=(0,s.useRef)(),cn=(0,s.useRef)(),sn=(0,s.useRef)(),un=(0,s.useRef)(),dn=(0,s.useRef)(),pn=(0,s.useRef)(),mn=(0,s.useRef)(),fn=(0,s.useRef)(),hn=Je((0,s.useState)(!1),2),gn=hn[0],bn=hn[1],vn=Je((0,s.useState)(!1),2),yn=vn[0],En=vn[1],Sn=Je((0,s.useState)(!1),2),wn=Sn[0],Cn=Sn[1],On=Je((0,s.useState)(!1),2),In=On[0],An=On[1],Ln=Je((0,s.useState)(!1),2),Tn=Ln[0],Nn=Ln[1],Rn=Je((0,s.useState)(void 0),2),Zn=Rn[0],xn=Rn[1],kn=Je((0,s.useState)(G.el.NONE),2),Un=kn[0],Fn=kn[1],Pn=Je((0,s.useState)(!1),2),Wn=Pn[0],Mn=Pn[1],Dn=Je((0,s.useState)(!1),2),Qn=Dn[0],_n=Dn[1],jn=Je((0,s.useState)(void 0),2),Bn=jn[0],Gn=jn[1],Vn=Je((0,_.cC)(),2),Hn=Vn[0],Xn=Vn[1],zn=function(){var e;!1===(null==r||null===(e=r.idToken)||void 0===e||null===(e=e.encryption)||void 0===e?void 0:e.enabled)&&(r.idToken.encryption={algorithm:"",enabled:!1,method:""})};zn();var Yn=Je((0,s.useState)(!1),2),Jn=Yn[0],qn=Yn[1],Kn="PKCE",$n="mandatory",ei="supportPlainTransformAlgorithm",ti=function(e){e.has(Kn)&&(e.get(Kn).find((function(e){return e===$n}))?qn(!0):(e.set(Kn,[]),qn(!1)))};(0,s.useEffect)((function(){Bn||(0,ue.DM)(U.id,n.id).then((function(e){Gn(e.data.organizations)})).catch((function(e){e.response.data.description?Z((0,D.V_)({description:e.response.data.description,level:a.QU.ERROR,message:R("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):Z((0,D.V_)({description:R("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:a.QU.ERROR,message:R("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))}))}),[n]),(0,s.useEffect)((function(){var e,t=null==n||null===(e=n.advancedConfigurations)||void 0===e||null===(e=e.additionalSpProperties)||void 0===e?void 0:e.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));((null==Bn?void 0:Bn.length)>0||(null==t?void 0:t.length)>0&&JSON.parse(t[0].value))&&_n(!0)}),[Bn]),(0,s.useEffect)((function(){null!=w&&w.id&&null!=be&&be.id?(w.id==be.id&&bn(!0),O(!1)):O(!1)}),[w]),(0,s.useEffect)((function(){null!=w&&w.id&&null!=ge&&ge.id&&w.id==ge.id&&En(!0)}),[w]),(0,s.useEffect)((function(){null!=w&&w.id&&null!=he&&he.id?((null==w?void 0:w.id)==(null==he?void 0:he.id)&&Cn(!0),O(!1)):O(!1)}),[w]),(0,s.useEffect)((function(){w&&fe?(w.id===fe.id&&An(!0),O(!1)):O(!0)}),[w]),(0,s.useEffect)((function(){null!=Me&&Me.includes("authorization_code")||null!=Me&&Me.includes("implicit")?ke(!0):ke(!1),!(0,ne.Z)(b.jo.IS_REFRESH_TOKEN_GRANT_TYPE_ALLOWED,Me).length&&null!=Me&&Me.includes("refresh_token")?kt(!0):kt(!1)}),[Me,je]),(0,s.useEffect)((function(){Re(!1),null!=Me&&Me.includes(b.jo.AUTHORIZATION_CODE_GRANT)&&Re(!0)}),[Me,je]),(0,s.useEffect)((function(){Pe(!1),ni(Me)&&Pe(!0)}),[Me,je]);var ni=function(e){return!!(0===(null==e?void 0:e.length)||null!=e&&e.includes("implicit")&&1===(null==e?void 0:e.length))||(!(null==e||!e.includes("implicit")||null==e||!e.includes("refresh_token")||2!==(null==e?void 0:e.length))||(null==e?void 0:e.includes("refresh_token"))&&1===(null==e?void 0:e.length))};(0,s.useEffect)((function(){void 0===Me&&(null!=r&&r.grantTypes&&De(Ye(null==r?void 0:r.grantTypes)),null!=r&&r.allowedOrigins&&mt(null==r?void 0:r.allowedOrigins.toString()))}),[r]),(0,s.useEffect)((function(){null!=i&&i.type&&Fn(null==i?void 0:i.type)}),[i]),(0,s.useEffect)((function(){var e,t;null!=r&&r.accessToken&&!(0,c.Z)(r.accessToken)&&(P?gt(!0):null!=r&&null!==(e=r.accessToken)&&void 0!==e&&e.bindingType?(null==r||null===(t=r.accessToken)||void 0===t?void 0:t.bindingType)!==(null===G.ti||void 0===G.ti?void 0:G.ti.NONE)&&gt(!0):gt(!1))}),[null==r?void 0:r.accessToken]),(0,s.useEffect)((function(){G.el.PEM===(null==i?void 0:i.type)&&(Ct(!0),null!=i&&i.value&&Ot(i.value))}),[i]),(0,s.useEffect)((function(){(0,c.Z)(Zn)||Un===G.el.NONE?Mn(!1):Mn(!0)}),[Zn,Un]);var ii=function(e){switch(e.toLowerCase()){case"none":return R("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.none",{productName:Ut.ui.productName});case"cookie":return R("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.cookie");case"sso-session":return R("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.sso_session",{productName:Ut.ui.productName});case"default":return R("applications:forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.default");case"jwt":return R("applications:forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.jwt");default:return}};(0,s.useEffect)((function(){var e;Nt||Rt(null==r||null===(e=r.clientAuthentication)||void 0===e?void 0:e.tokenEndpointAuthMethod)}),[]);var oi=function(e){return"sso-session"===e.toLowerCase()?R("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.children.ssoBinding.label"):e},ai=function(e,t){var n=[];return e&&(t?e.options.map((function(e){n.push({hint:{content:ii(e)},label:oi(e),value:e})})):e.options.map((function(e,t){e.displayName?n.push({content:s.createElement(ae.Z.Row,{"data-componentId":"".concat(T,"-client-auth-method-table-row-").concat(t)},s.createElement(ae.Z.Cell,null,s.createElement("div",null,e.displayName),s.createElement(l.GI,{content:e.name,inverted:!0,trigger:s.createElement(l.EK,{compact:!0,withBackground:!1},e.name),position:"bottom left"}))),text:e.displayName,value:e.name}):n.push({text:e,value:e!==R("applications:forms.inboundOIDC.dropdowns.selectOption")?e:""})}))),t?n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})):n},ri=function(e,t){var n=[];return e&&e.options.map((function(e){if("Default"!==e||t){if((gn||yn)&&t&&"cookie"===e)return!1;n.push({hint:{content:ii(e)},label:oi(e),value:e})}else n.push({hint:{content:ii(e)},label:"Opaque",value:e})})),n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}))},li=function(e){var t=[];if(e&&e.options.map((function(e){var n,i=e.name,o=e.displayName;if((null===g.applicationConfig||void 0===g.applicationConfig||null===(n=g.applicationConfig.hiddenGrantTypes)||void 0===n||!n.includes(i))&&(i!==b.jo.ORGANIZATION_SWITCH_GRANT||isOrganizationManagementEnabled&&k!==de.$B.TENANT&&Qn)&&!(w&&w.id&&(0,te.Z)(g.applicationConfig.allowedGrantTypes,w.id)&&!g.applicationConfig.allowedGrantTypes[w.id].includes(i)&&b.jo.AVAILABLE_GRANT_TYPES.includes(i))){var a,r,c={label:(a=i,r=o,a===b.jo.IMPLICIT_GRANT||a===b.jo.PASSWORD||a===b.jo.CLIENT_CREDENTIALS_GRANT?s.createElement(s.Fragment,null,s.createElement("label",null,r,!In&&s.createElement(l.dn,{icon:(0,pe.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):r),readOnly:In&&i===b.jo.CLIENT_CREDENTIALS_GRANT,value:i},u=function(e){switch(e){case b.jo.IMPLICIT_GRANT:return R("applications:forms.inboundOIDC.fields.grant.children.implicit.hint");case b.jo.PASSWORD:return R("applications:forms.inboundOIDC.fields.grant.children.password.hint");case b.jo.CLIENT_CREDENTIALS_GRANT:return R("applications:forms.inboundOIDC.fields.grant.children.client_credential.hint");case b.jo.REFRESH_TOKEN_GRANT:return R("applications:forms.inboundOIDC.fields.grant.validation.refreshToken");default:return null}}(i);u&&!In&&(c.hint={content:u,header:""}),Fe&&"refresh_token"===c.value&&(c.disabled=!0),t.push(c)}})),w&&w.id){var n=b.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPE_ARRANGE_ORDER[w.id];if(n){var i,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,r=n.get(a.value);a.index=null!=r?r:1/0}}catch(u){o.e(u)}finally{o.f()}t.sort((function(e,t){return e.index-t.index}))}}if(g.applicationConfig.inboundOIDCForm.disabledGrantTypes&&g.applicationConfig.inboundOIDCForm.disabledGrantTypes[w.id]){var c=g.applicationConfig.inboundOIDCForm.disabledGrantTypes[w.id];return t.filter((function(e){return!c.includes(e.value)}))}return t},ci=function(e){e.preventDefault(),Ke(!0)},si=function(e){var t;return e.get("RevokeAccessToken")?(null===(t=e.get("RevokeAccessToken"))||void 0===t?void 0:t.length)>0:e.get("bindingType")!==G.ti.NONE},ui=function(e,t,n){var a;if(L||A)a={general:{},inbound:Xe({},r)},xe?(a.inbound.allowedOrigins=ve.y.resolveAllowedOrigins(n||pt),a.inbound.callbackURLs=[ve.y.buildCallBackUrlWithRegExp(t||J)]):(a.inbound.allowedOrigins=[],a.inbound.callbackURLs=[]);else{var l,c,s,u,d,p,m,f,h,b,v,y={accessToken:{applicationAccessTokenExpiryInSeconds:e.get("applicationAccessTokenExpiryInSeconds")?Number(e.get("applicationAccessTokenExpiryInSeconds")):Number(null==o?void 0:o.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:(null===(l=e.get("RevokeAccessToken"))||void 0===l?void 0:l.length)>0,type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds")),validateTokenBinding:(null===(c=e.get("ValidateTokenBinding"))||void 0===c?void 0:c.length)>0},grantTypes:e.get("grant"),idToken:{audience:""!==$?$.split(","):[],encryption:{algorithm:M&&Wn?e.get("algorithm"):null==o||null===(s=o.idTokenEncryptionAlgorithm)||void 0===s?void 0:s.defaultValue,enabled:Wn&&(null===(u=e.get("encryption"))||void 0===u?void 0:u.includes("enableEncryption")),method:M&&Wn?e.get("method"):null==o||null===(d=o.idTokenEncryptionMethod)||void 0===d?void 0:d.defaultValue},expiryInSeconds:Number(e.get("idExpiryInSeconds")),idTokenSignedResponseAlg:e.get("idTokenSignedResponseAlg")},logout:{backChannelLogoutUrl:e.get("backChannelLogoutUrl"),frontChannelLogoutUrl:e.get("frontChannelLogoutUrl")},publicClient:!!wn||(null===(p=e.get("supportPublicClients"))||void 0===p?void 0:p.length)>0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(null==o?void 0:o.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(m=e.get("RefreshToken"))||void 0===m?void 0:m.length)>0},scopeValidators:e.get("scopeValidator"),validateRequestObjectSignature:(null===(f=e.get("enableRequestObjectSignatureValidation"))||void 0===f?void 0:f.length)>0};!g.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&delete y.logout.frontChannelLogoutUrl,!g.applicationConfig.inboundOIDCForm.showScopeValidators&&delete y.scopeValidators,!g.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&delete y.idToken.encryption,!g.applicationConfig.inboundOIDCForm.showBackChannelLogout&&delete y.logout.backChannelLogoutUrl,!g.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&delete y.validateRequestObjectSignature,y=Xe(Xe({},y),{},xe?{allowedOrigins:ve.y.resolveAllowedOrigins(n||pt),callbackURLs:[ve.y.buildCallBackUrlWithRegExp(t||J)]}:{allowedOrigins:[],callbackURLs:[]}),y=Xe(Xe({},y),{},Ne?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),In&&(y=Xe(Xe({},y),{},{accessToken:Xe(Xe({},y.accessToken),{},{userAccessTokenExpiryInSeconds:0}),idToken:{audience:Ye(y.idToken.audience)},pkce:null,refreshToken:null})),X||(y=Xe(Xe({},y),{},{clientAuthentication:{tlsClientAuthSubjectDn:At,tokenEndpointAuthMethod:e.get("tokenEndpointAuthMethod"),tokenEndpointAuthSigningAlg:e.get("tokenEndpointAuthSigningAlg")}})),y=Xe(Xe({},y),{},{pushAuthorizationRequest:{requirePushAuthorizationRequest:(null===(h=e.get("requirePushAuthorizationRequest"))||void 0===h?void 0:h.length)>0},requestObject:{encryption:{algorithm:e.get("requestObjectEncryptionAlgorithm"),method:e.get("requestObjectEncryptionMethod")},requestObjectSigningAlg:e.get("requestObjectSigningAlg")},subject:{sectorIdentifierUri:null==r||null===(b=r.subject)||void 0===b?void 0:b.sectorIdentifierUri,subjectType:null==r||null===(v=r.subject)||void 0===v?void 0:v.subjectType}}),null!=r&&r.clientId&&null!=r&&r.clientSecret&&(y=Xe(Xe({},y),{},{clientId:null==r?void 0:r.clientId,clientSecret:null==r?void 0:r.clientSecret})),a={general:{advancedConfigurations:{certificate:{type:Un!==G.el.NONE?Un:null==i?void 0:i.type,value:Un!==G.el.NONE?Zn:""}}},inbound:Xe({},y)},!g.applicationConfig.inboundOIDCForm.showCertificates&&delete a.general.advancedConfigurations.certificate}return a},di=function(e,t,n){var i,a={accessToken:{applicationAccessTokenExpiryInSeconds:Number(null==o?void 0:o.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:si(e),type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds"))},grantTypes:e.get("grant"),idToken:{audience:""!==$?$.split(","):[],expiryInSeconds:Number(e.get("idExpiryInSeconds"))},publicClient:!0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(null==o?void 0:o.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(i=e.get("RefreshToken"))||void 0===i?void 0:i.length)>0}};return a=Xe(Xe({},a),{},xe?{allowedOrigins:ve.y.resolveAllowedOrigins(n||pt),callbackURLs:[ve.y.buildCallBackUrlWithRegExp(t||J)]}:{allowedOrigins:[],callbackURLs:[]}),a=Xe(Xe({},a),{},Ne?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),g.applicationConfig.inboundOIDCForm.showScopeValidators&&(a=Xe(Xe({},a),{},{scopeValidators:e.get("scopeValidator")})),null!=r&&r.clientId&&null!=r&&r.clientSecret?{inbound:Xe(Xe({},a),{},{clientId:null==r?void 0:r.clientId,clientSecret:null==r?void 0:r.clientSecret})}:a};(0,s.useEffect)((function(){var e,t;null!=r&&null!==(e=r.idToken)&&void 0!==e&&e.encryption&&V(null===(t=r.idToken.encryption)||void 0===t?void 0:t.enabled)}),[r]),(0,s.useEffect)((function(){z(null==r?void 0:r.publicClient)}),[r]);var pi,mi,fi,hi,gi,bi,vi,yi,Ei,Si,wi,Ci,Oi,Ii,Ai,Li,Ti,Ni,Ri,Zi,xi,ki,Ui,Fi,Pi,Wi,Mi,Di,Qi,_i,ji,Bi,Gi,Vi,Hi,Xi=function(e){var t=pt;mt(t=""!==t?t+","+e:e)},zi=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"clientSecret":Ft.current.scrollIntoView(t);break;case"grant":Pt.current.scrollIntoView(t);break;case"url":Wt.current.scrollIntoView(t);break;case"allowedOrigin":Mt.current.scrollIntoView(t);break;case"supportPublicClients":Dt.current.scrollIntoView(t);break;case"pkce":Qt.current.scrollIntoView(t);break;case"bindingType":_t.current.scrollIntoView(t);break;case"type":jt.current.scrollIntoView(t);break;case"validateTokenBinding":Bt.current.scrollIntoView(t);break;case"revokeAccessToken":Gt.current.scrollIntoView(t);break;case"userAccessTokenExpiryInSeconds":Vt.current.scrollIntoView(t);break;case"refreshToken":Xt.current.scrollIntoView(t);break;case"expiryInSeconds":zt.current.scrollIntoView(t);break;case"audience":Yt.current.scrollIntoView(t);break;case"encryption":Jt.current.scrollIntoView(t);break;case"algorithm":qt.current.scrollIntoView(t);break;case"method":Kt.current.scrollIntoView(t);break;case"idExpiryInSeconds":en.current.scrollIntoView(t);break;case"backChannelLogoutUrl":tn.current.scrollIntoView(t);break;case"frontChannelLogoutUrl":nn.current.scrollIntoView(t);break;case"enableRequestObjectSignatureValidation":on.current.scrollIntoView(t);break;case"scopeValidator":an.current.scrollIntoView(t)}},Yi=function(e){var t=Math.floor(Number(e.toString()));return t!==1/0&&String(t)===e&&t>0},Ji=!gn&&!wn&&!P&&((null==Me?void 0:Me.includes(b.jo.AUTHORIZATION_CODE_GRANT))||(null==Me?void 0:Me.includes(b.jo.DEVICE_GRANT))||(null==Me?void 0:Me.includes(b.jo.OAUTH2_TOKEN_EXCHANGE)))&&!L&&!A,qi=!(null!=F&&F.includes("applications.protocol.clientAuthenticationMethod")),Ki=(G.u.CUSTOM_APPLICATION===(null==w?void 0:w.templateId)||G.u.OIDC_WEB_APPLICATION===(null==w?void 0:w.templateId))&&!L&&!A&&(Ji||qi),$i=function(e,t,n){var i=parseInt(e.get("userAccessTokenExpiryInSeconds"),10)<60,o=parseInt(e.get("expiryInSeconds"),10)<60,a=parseInt(e.get("idExpiryInSeconds"),10)<60;return i||o||a?(lt(!0),ut(s.createElement(l.cV,{onClose:function(){return lt(!1)},type:"warning",open:!0,skipAssertion:!0,primaryAction:R("common:confirm"),secondaryAction:R("common:cancel"),onSecondaryActionClick:function(){return lt(!1)},onPrimaryActionClick:function(){f(gn?di(e,t,n):ui(e,t,n)),lt(!1)},"data-testid":"".concat(T,"-low-expiry-times-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(T,"-low-expiry-times-confirmation-modal-header")},R("applications:confirmations.lowOIDCExpiryTimes.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(T,"-low-expiry-times-confirmation-modal-message")},R("applications:confirmations.lowOIDCExpiryTimes.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(T,"-low-expiry-times-confirmation-modal-content")},s.createElement(l.xv,null,R("applications:confirmations.lowOIDCExpiryTimes.content")),s.createElement(ce.Z,{bulleted:!0},i&&s.createElement(ce.Z.Item,null,R("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.label")),o&&s.createElement(ce.Z.Item,null,R("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.label")),a&&s.createElement(ce.Z.Item,null,R("applications:forms.inboundOIDC.sections.idToken.fields.expiry.label"))),s.createElement(l.xv,null,R("applications:confirmations.lowOIDCExpiryTimes.assertionHint"))))),!0):(lt(!1),ut(null),!1)};return!C&&o?s.createElement(s.Fragment,null,s.createElement(_.Es,{onSubmit:function(e){Xn(),!gn&&g.applicationConfig.inboundOIDCForm.showCertificates&&Un!==G.el.NONE&&(0,c.Z)(Zn)||(xe?pi((function(t){(0,c.Z)(J)&&(0,c.Z)(t)?(Se(!0),zi("url")):mi((function(n){$i(e,t,n)||f(gn?di(e,t,n):ui(e,t,n))}))})):($i(e,void 0,void 0)||f(ui(e,void 0,void 0)),O(!1)))},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){zi(i.value[0]);break}i=n.next()}},onStaleChange:function(e){Nn(e)},ref:rn},s.createElement(p.Z,null,(null==r?void 0:r.state)===G.ZM.REVOKED&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.v0,{type:"warning",visible:!0,header:R("applications:forms.inboundOIDC.messages.revokeDisclaimer.heading"),content:R("applications:forms.inboundOIDC.messages.revokeDisclaimer.content")}))),(null==r?void 0:r.clientId)&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(le.Z.Field,null,s.createElement("label",null,R("applications:forms.inboundOIDC.fields.clientID.label")),s.createElement("div",{className:"display-flex"},s.createElement(l.OR,{value:null==r?void 0:r.clientId,"data-testid":"".concat(T,"-client-id-readonly-input")}))),g.applicationConfig.inboundOIDCForm.showNativeClientSecretMessage&&(null==r?void 0:r.state)!==G.ZM.REVOKED&&gn?s.createElement(l.v0,{type:"info",content:s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.fields.clientSecret.message",values:{productName:Ut.ui.productName}},"productName does not issue a\xa0",s.createElement(l.EK,{withBackground:!0},"client_secret")," to native applications or web browser-based applications for the purpose of client authentication.")}):null)),(null==r?void 0:r.clientSecret)&&(null==r?void 0:r.state)!==G.ZM.REVOKED&&!gn&&!wn&&!L&&!A&&s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(le.Z.Field,null,s.createElement("label",null,R("applications:forms.inboundOIDC.fields.clientSecret.label")),x?s.createElement(s.Fragment,null,s.createElement(l.v0,{visible:!0,type:"info",content:R("applications:forms.inboundOIDC.fields.clientSecret.hashedDisclaimer")}),!y&&s.createElement(B.Z,{color:"red",className:"oidc-action-button",onClick:ci,"data-testid":"".concat(T,"-oidc-regenerate-button")},R("common:regenerate"))):s.createElement("div",{className:"display-flex"},s.createElement(l.OR,{secret:!0,value:null==r?void 0:r.clientSecret,hideSecretLabel:R("applications:forms.inboundOIDC.fields.clientSecret.hideSecret"),showSecretLabel:R("applications:forms.inboundOIDC.fields.clientSecret.showSecret"),"data-testid":"".concat(T,"-client-secret-readonly-input")}),!y&&s.createElement(B.Z,{color:"red",className:"oidc-action-button",onClick:ci,"data-testid":"".concat(T,"-oidc-regenerate-button")},R("common:regenerate")))))),!y&&(null==r?void 0:r.clientSecret)&&(null==r?void 0:r.state)===G.ZM.REVOKED&&s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(B.Z,{color:"green",className:"oidc-action-button ml-0",onClick:function(e){e.preventDefault(),ot(!0)},"data-testid":"".concat(T,"-oidc-regenerate-button")},R("common:activate")))),((null==r?void 0:r.clientId)||(null==r?void 0:r.clientSecret))&&(null==r?void 0:r.state)!==G.ZM.REVOKED&&s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null)),(null==r?void 0:r.state)!==G.ZM.REVOKED&&s.createElement(s.Fragment,null,!y&&s.createElement(l.PH,{updateButtonRef:ln,isFormStale:Tn,containerRef:I},s.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:C,disabled:C,"data-testid":"".concat(T,"-submit-button-sticky")},R("common:update"))),!L&&!A&&s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Pt,name:"grant",label:R("applications:forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:R("applications:forms.inboundOIDC.fields.grant.validations.empty"),children:li(null==o?void 0:o.allowedGrantTypes),value:null!=Me?Me:null==r?void 0:r.grantTypes,readOnly:y,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get("grant");ni(Me)&&(t=t.filter((function(e){return"refresh_token"!=e}))),De(t),Ge(!je)}(e)},"data-testid":"".concat(T,"-grant-type-checkbox-group")}),xt&&s.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},R("applications:forms.inboundOIDC.fields.grant.validation.refreshToken")),s.createElement(l.kW,null,R("applications:forms.inboundOIDC.fields.grant.hint")))),xe&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement("div",{ref:Wt}),s.createElement(l.wE,{isAllowEnabled:gn,handleAddAllowedOrigin:function(e){return Xi(e)},handleRemoveAllowedOrigin:function(){},tenantDomain:S,allowedOrigins:(0,ie.Z)(E,pt.split(",")),labelEnabled:!0,urlState:J,setURLState:function(e){var t;q(e),(null!=r&&null!==(t=r.callbackURLs)&&void 0!==t&&t.toString()?ve.y.buildCallBackURLWithSeparator(r.callbackURLs.toString()):"")!==e&&Nn(!0)},labelName:wn?"Authorized redirect URIs":R("applications:forms.inboundOIDC.fields.callBackUrls.label"),required:!0,value:null!=r&&null!==(fi=r.callbackURLs)&&void 0!==fi&&fi.toString()?ve.y.buildCallBackURLWithSeparator(r.callbackURLs.toString()):"",placeholder:R(wn?"applications:forms.inboundOIDC.mobileApp.mobileAppPlaceholder":"applications:forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:(null==me?void 0:me.id)===(null==w?void 0:w.id)||wn?R("applications:forms.inboundOIDC.messages.customInvalidMessage"):R("applications:forms.inboundOIDC.fields.callBackUrls.validations.invalid"),emptyErrorMessage:R("applications:forms.inboundOIDC.fields.callBackUrls.validations.empty"),skipInternalValidation:w.templateId===b.jo.MOBILE,validation:function(e){return!!(wn||(null==me?void 0:me.id)===(null==w?void 0:w.id)||Q.URLUtils.isURLValid(e,!0)&&(Q.URLUtils.isHttpUrl(e)||Q.URLUtils.isHttpsUrl(e)))&&!!Q.URLUtils.isMobileDeepLink(e)&&(yt(null),!0)},showError:Ee,setShowError:Se,hint:wn?"The authorized redirect URI determines where the authorization code is sent to upon user authentication, and where the user is redirected to upon user logout. The client app should specify the authorized redirect URI in the authorization or logout request and "+Ut.ui.productName+" will validate it against the authorized redirect URLs entered here.":R("applications:forms.inboundOIDC.fields.callBackUrls.hint",{productName:Ut.ui.productName}),readOnly:y,addURLTooltip:R("common:addURL"),duplicateURLErrorMessage:R("common:duplicateURLError"),"data-testid":"".concat(T,"-callback-url-input"),getSubmit:function(e){pi=e},showPredictions:!1,customLabel:vt,productName:Ut.ui.productName,isCustom:(null==me?void 0:me.id)===(null==w?void 0:w.id),popupHeaderPositive:R("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:R("applications:URLInput.withLabel.negative.header"),popupContentPositive:R("applications:URLInput.withLabel.positive.content",{productName:Ut.ui.productName}),popupContentNegative:R("applications:URLInput.withLabel.negative.content",{productName:Ut.ui.productName}),popupDetailedContentPositive:R("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:R("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:R("console:common.validations.inSecureURL.description"),showLessContent:R("common:showLess"),showMoreContent:R("common:showMore")}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement("div",{ref:Mt}),s.createElement(l.wE,{handleAddAllowedOrigin:function(e){return Xi(e)},urlState:pt,setURLState:function(e){mt(e),pt!==e&&Nn(!0)},onlyOrigin:!0,labelName:R("applications:forms.inboundOIDC.fields.allowedOrigins.label"),placeholder:R("applications:forms.inboundOIDC.fields.allowedOrigins.placeholder"),value:pt,validationErrorMsg:R("applications:forms.inboundOIDC.fields.allowedOrigins.validations.empty"),validation:function(e){return!(!Q.URLUtils.isHttpsUrl(e)&&!Q.URLUtils.isHttpUrl(e)||!Q.URLUtils.isAValidOriginUrl(e)||!Q.URLUtils.isMobileDeepLink(e)||(wt(null),0))},computerWidth:10,setShowError:Le,showError:Ae,readOnly:y,addURLTooltip:R("common:addURL"),duplicateURLErrorMessage:R("common:duplicateURLError"),"data-testid":"".concat(T,"-allowed-origin-url-input"),getSubmit:function(e){mi=e},showPredictions:!1,customLabel:St,popupHeaderPositive:R("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:R("applications:URLInput.withLabel.negative.header"),popupContentPositive:R("applications:URLInput.withLabel.positive.content",{productName:Ut.ui.productName}),popupContentNegative:R("applications:URLInput.withLabel.negative.content",{productName:Ut.ui.productName}),popupDetailedContentPositive:R("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:R("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:R("console:common.validations.inSecureURL.description"),showLessContent:R("common:showLess"),showMoreContent:R("common:showMore")}),s.createElement(l.kW,null,"The HTTP origins that host your ",!wn&&"web"," application. You can define multiple web origins by adding them separately.",s.createElement("p",{className:"mt-0"},"(E.g.,\xa0\xa0",s.createElement(l.EK,null,"https://myapp.io, https://localhost:3000"),")"))))),Ne&&!L&&!A&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.pkce.heading")),s.createElement(_.gN,{ref:Qt,name:Kn,label:"",required:!1,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.pkce.fields.pkce.validations.empty"),type:"checkbox",value:(null==r?void 0:r.pkce)&&(Vi=r.pkce,Hi=[],Vi.mandatory&&Hi.push($n),Vi.supportPlainTransformAlgorithm&&Hi.push(ei),Hi),listen:ti,children:gn||wn?[{label:R("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:$n}]:[{label:R("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:$n},{disabled:!Jn,hint:{content:R("applications:forms.inboundOIDC.sections.pkce.description",{productName:Ut.ui.productName}),header:"PKCE 'Plain'"},label:R("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.plainAlg.label"),value:ei}],readOnly:y,"data-testid":"".concat(T,"-pkce-checkbox-group")}),s.createElement(l.kW,null,R("applications:forms.inboundOIDC.sections.pkce.hint"))))),Ki&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.clientAuthentication.heading")),Ji&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Dt,name:"supportPublicClients",label:"",required:!1,requiredErrorMessage:R("applications:forms.inboundOIDC.fields.public.validations.empty"),type:"checkbox",value:null!=r&&r.publicClient?["supportPublicClients"]:[],children:[{label:R("applications:forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],readOnly:y,listen:function(e){var t=e.get("supportPublicClients").includes("supportPublicClients");z(t),t&&Rt("")},"data-testid":"".concat(T,"-public-client-checkbox")}),s.createElement(l.kW,null,R("applications:forms.inboundOIDC.fields.public.hint",{productName:null===(hi=Ut.ui)||void 0===hi?void 0:hi.productName})))),qi&&s.createElement(s.Fragment,null,s.createElement(_.gN,{ref:cn,name:"tokenEndpointAuthMethod",label:R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.label"),required:!1,type:"dropdown",disabled:X,placeholder:R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.placeholder"),value:Nt,listen:function(e){return function(e){var t=e.get("tokenEndpointAuthMethod");Rt(t)}(e)},children:ai(P?null==o||null===(gi=o.fapiMetadata)||void 0===gi?void 0:gi.tokenEndpointAuthMethod:null==o?void 0:o.tokenEndpointAuthMethod),readOnly:y,"data-componentId":"".concat(N,"-client-auth-method-dropdown")}),s.createElement(l.kW,null,R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.hint"))))),"private_key_jwt"===Nt&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:sn,name:"tokenEndpointAuthSigningAlg",label:R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.label"),required:!1,type:"dropdown",disabled:X,default:null!=r&&r.clientAuthentication?r.clientAuthentication.tokenEndpointAuthSigningAlg:null==o||null===(bi=o.tokenEndpointSignatureAlgorithm)||void 0===bi?void 0:bi.defaultValue,placeholder:R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.placeholder"),children:ai(P?null==o||null===(vi=o.fapiMetadata)||void 0===vi?void 0:vi.allowedSignatureAlgorithms:null==o?void 0:o.tokenEndpointSignatureAlgorithm),readOnly:y,"data-componentId":"".concat(N,"-client-auth-signing-algorithm-dropdown")}),s.createElement(l.kW,null,R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.hint")))),"tls_client_auth"===Nt&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(le.Z.Input,{ref:un,ariaLabel:"TLS client auth subject DN",inputType:"name",name:"tlsClientAuthSubjectDn",label:R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.label"),disabled:X,required:!1,placeholder:R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.placeholder"),value:At,onChange:function(e){return Lt(e.target.value)},readOnly:!1,maxLength:b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,width:16,"data-componentId":"".concat(N,"-client-auth-subject-dn")}),s.createElement(l.kW,null,R("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.hint"))))),(G.u.CUSTOM_APPLICATION===(null==w?void 0:w.templateId)||G.u.OIDC_WEB_APPLICATION===(null==w?void 0:w.templateId))&&!L&&!A&&!(null!=F&&F.includes("applications.protocol.pushedAuthorization"))&&s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.pushedAuthorization.heading")),s.createElement(_.gN,{ref:dn,name:"requirePushAuthorizationRequest",required:!1,type:"checkbox",value:null!=r&&null!==(yi=r.pushAuthorizationRequest)&&void 0!==yi&&yi.requirePushAuthorizationRequest?["requirePushAuthorizationRequest"]:[],children:[{label:R("applications:forms.inboundOIDC.sections.pushedAuthorization.fields.requirePushAuthorizationRequest.label"),value:"requirePushAuthorizationRequest"}],readOnly:y,"data-componentId":"".concat(N,"-pushed-authorization-checkbox")}),s.createElement(l.kW,null,R("applications:forms.inboundOIDC.sections.pushedAuthorization.fields.requirePushAuthorizationRequest.hint")))),(G.u.CUSTOM_APPLICATION===(null==w?void 0:w.templateId)||G.u.OIDC_WEB_APPLICATION===(null==w?void 0:w.templateId))&&!L&&!A&&(null===g.applicationConfig||void 0===g.applicationConfig||null===(Ei=g.applicationConfig.inboundOIDCForm)||void 0===Ei?void 0:Ei.showRequestObjectConfigurations)&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.requestObject.heading")),s.createElement(_.gN,{ref:pn,name:"requestObjectSigningAlg",label:R("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.label"),required:!1,type:"dropdown",disabled:!1,default:null!=r&&null!==(Si=r.requestObject)&&void 0!==Si&&Si.requestObjectSigningAlg?r.requestObject.requestObjectSigningAlg:null,placeholder:R("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.placeholder"),children:ai(P?null==o||null===(wi=o.fapiMetadata)||void 0===wi?void 0:wi.allowedSignatureAlgorithms:null==o?void 0:o.requestObjectSignatureAlgorithm),readOnly:y,"data-componentId":"".concat(N,"-request-object-signing-algorithm-dropdown")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"request object"),"signing algorithms.")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:mn,name:"requestObjectEncryptionAlgorithm",label:R("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.label"),required:!1,type:"dropdown",disabled:!1,default:null!=r&&null!==(Ci=r.requestObject)&&void 0!==Ci&&null!==(Ci=Ci.encryption)&&void 0!==Ci&&Ci.algorithm?r.requestObject.encryption.algorithm:null,placeholder:R("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.placeholder"),children:ai(P?null==o||null===(Oi=o.fapiMetadata)||void 0===Oi?void 0:Oi.allowedEncryptionAlgorithms:null==o?void 0:o.requestObjectEncryptionAlgorithm),readOnly:y,"data-componentId":"".concat(N,"-request-object-encryption-algorithm-dropdown")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"request object"),"encryption algorithms.")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:fn,name:"requestObjectEncryptionMethod",label:R("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.label"),required:!1,type:"dropdown",disabled:!1,default:null!=r&&null!==(Ii=r.requestObject)&&void 0!==Ii&&null!==(Ii=Ii.encryption)&&void 0!==Ii&&Ii.method?r.requestObject.encryption.method:null,placeholder:R("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.placeholder"),children:ai(null==o?void 0:o.requestObjectEncryptionMethod),readOnly:y,"data-componentId":"".concat(N,"-request-object-encryption-method-dropdown")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"request object"),"encryption methods."))))),!L&&!A&&s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.accessToken.heading")),s.createElement(_.gN,{ref:jt,label:R("applications:forms.inboundOIDC.sections.accessToken.fields.type.label"),name:"type",default:null!=r&&r.accessToken?r.accessToken.type:null==o||null===(Ai=o.accessTokenType)||void 0===Ai?void 0:Ai.defaultValue,type:"radio",children:ri(null==o?void 0:o.accessTokenType,!1),readOnly:y,"data-testid":"".concat(T,"-access-token-type-radio-group")}))),!In&&!L&&!A&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:_t,label:R("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.label"),name:"bindingType",default:null!=r&&null!==(Li=r.accessToken)&&void 0!==Li&&Li.bindingType?r.accessToken.bindingType:P?G.ti.CERTIFICATE:null!==(Ti=null==o||null===(Ni=o.accessTokenBindingType)||void 0===Ni?void 0:Ni.defaultValue)&&void 0!==Ti?Ti:G.ti.NONE,type:"radio",children:ri(null==o?void 0:o.accessTokenBindingType,!0),readOnly:y||P,"data-testid":"".concat(T,"-access-token-type-radio-group"),listen:function(e){gt(e.get("bindingType")!==G.ti.NONE)}}),s.createElement(l.kW,null,s.createElement(oe.c,{values:{productName:Ut.ui.productName},i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.description"},"Select type ",s.createElement(l.EK,{withBackground:!0},"SSO-session")," to allow productName to bind the",s.createElement(l.EK,{withBackground:!0},"access_token"),"and the",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"to the login session and issue a new token per session. When the application session ends, the tokens will also be revoked.")))),!gn&&!wn&&ht&&!L&&!A&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Bt,name:"ValidateTokenBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:(null==r||null===(Gi=r.accessToken)||void 0===Gi?void 0:Gi.validateTokenBinding)||P?["validateTokenBinding"]:[],children:[{label:R("applications:forms.inboundOIDC.sections.accessToken.fields.validateBinding.label"),value:"validateTokenBinding"}],readOnly:y||P,"data-testid":"".concat(T,"-access-token-validate-binding-checkbox")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.validateBinding.hint"},"Validate the binding attributes at the token validation. The client needs to present the ",s.createElement(l.EK,{withBackground:!0},"access_token")," + cookie for successful authorization.")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Gt,name:"RevokeAccessToken",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!=r&&null!==(Ri=r.accessToken)&&void 0!==Ri&&Ri.revokeTokensWhenIDPSessionTerminated?["revokeAccessToken"]:[],children:[{label:R("applications:forms.inboundOIDC.sections.accessToken.fields.revokeToken.label"),value:"revokeAccessToken"}],readOnly:y,"data-testid":"".concat(T,"-access-token-revoke-token-checkbox")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.revokeToken.hint"},"Allow revoking tokens of this application when a bound IDP session gets terminated through a user logout. Remember to include either",s.createElement(l.EK,{withBackground:!0},"client_id")," or",s.createElement(l.EK,{withBackground:!0},"id_token_hint")," in the logout request."))))),!In&&!L&&!A&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Vt,name:"userAccessTokenExpiryInSeconds",label:R(gn?"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.labelForSPA":"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.label"),required:!0,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.validations.empty"),validation:function(){var e=Ve(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yi(t.toString())||(n.isValid=!1,n.errorMessages.push(R("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=r&&r.accessToken?r.accessToken.userAccessTokenExpiryInSeconds.toString():null==o?void 0:o.defaultUserAccessTokenExpiryTime,placeholder:R("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.placeholder"),type:"number",readOnly:y,min:1,"data-testid":"".concat(T,"-access-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.hint"},"Specify the validity period of the",s.createElement(l.EK,{withBackground:!0},"access_token"),"in seconds.")))),(null==Me?void 0:Me.includes("client_credentials"))&&!L&&!A&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{name:"applicationAccessTokenExpiryInSeconds",ref:Ht,label:R("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.label"),required:!0,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.empty"),value:r.accessToken?r.accessToken.applicationAccessTokenExpiryInSeconds.toString():null==o?void 0:o.defaultApplicationAccessTokenExpiryTime,validation:function(){var e=Ve(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yi(t.toString())||(n.isValid=!1,n.errorMessages.push(R("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),placeholder:R("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.placeholder"),type:"number",min:1,readOnly:y}),s.createElement(l.kW,null,"Specify the validity period of the",s.createElement(l.EK,{withBackground:!0},"application_access_token"),"in seconds.")))),In&&!L&&!A&&s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.wE,{isAllowEnabled:!1,tenantDomain:S,onlyOrigin:!1,labelEnabled:!1,urlState:$,setURLState:function(e){var t,n;ee(e),(null!=r&&null!==(t=r.idToken)&&void 0!==t&&t.audience.toString()?ve.y.buildCallBackURLWithSeparator(null==r||null===(n=r.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&Nn(!0)},labelName:R("applications:forms.inboundOIDC.sections.accessToken.fields.audience.label"),required:!1,value:null!=r&&null!==(Zi=r.idToken)&&void 0!==Zi&&Zi.audience.toString()?ve.y.buildCallBackURLWithSeparator(null==r||null===(xi=r.idToken)||void 0===xi?void 0:xi.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:R("applications:forms.inboundOIDC.sections.accessToken.fields.audience.placeholder"),validationErrorMsg:R("applications:forms.inboundOIDC.sections.accessToken.fields.audience.validations.invalid"),showError:Ce,setShowError:Oe,hint:s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.audience.hint"},"Specify the recipient(s) that this ",s.createElement(l.EK,{withBackground:!0},"access_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:y,addURLTooltip:R("common:addURL"),duplicateURLErrorMessage:R("common:duplicateURLError"),getSubmit:function(e){pi=e},showPredictions:!1,popupHeaderPositive:R("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:R("applications:URLInput.withLabel.negative.header"),popupContentPositive:R("applications:URLInput.withLabel.positive.content",{productName:Ut.ui.productName}),popupContentNegative:R("applications:URLInput.withLabel.negative.content",{productName:Ut.ui.productName}),popupDetailedContentPositive:R("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:R("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:R("console:common.validations.inSecureURL.description"),showLessContent:R("common:showLess"),showMoreContent:R("common:showMore"),skipInternalValidation:!0}))),(null==Me?void 0:Me.includes("refresh_token"))&&!L&&!A&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.refreshToken.heading")),s.createElement(_.gN,{ref:Xt,name:"RefreshToken",label:"",required:!1,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:null!=r&&null!==(ki=r.refreshToken)&&void 0!==ki&&ki.renewRefreshToken?["refreshToken"]:[],children:[{label:R("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],readOnly:y,"data-testid":"".concat(T,"-renew-refresh-token-checkbox")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.refreshToken.fields.renew.hint"},"Select to issue a new ",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"each time a ",s.createElement(l.EK,{withBackground:!0},"refresh_token")," is exchanged. The existing token will be invalidated.")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:zt,name:"expiryInSeconds",label:R("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.label"),required:!0,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.empty"),placeholder:R("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.placeholder"),validation:function(){var e=Ve(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yi(t.toString())||(n.isValid=!1,n.errorMessages.push(R("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=r&&r.refreshToken?r.refreshToken.expiryInSeconds.toString():null==o?void 0:o.defaultRefreshTokenExpiryTime,type:"number",readOnly:y,min:1,"data-testid":"".concat(T,"-refresh-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.hint"},"Specify the validity period of the ",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"in seconds."))))),!In&&!L&&!A&&s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.idToken.heading")),s.createElement(l.wE,{isAllowEnabled:!1,tenantDomain:S,onlyOrigin:!1,labelEnabled:!1,urlState:$,setURLState:function(e){var t,n;ee(e),(null!=r&&null!==(t=r.idToken)&&void 0!==t&&t.audience.toString()?ve.y.buildCallBackURLWithSeparator(null==r||null===(n=r.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&Nn(!0)},labelName:R("applications:forms.inboundOIDC.sections.idToken.fields.audience.label"),required:!1,value:null!=r&&null!==(Ui=r.idToken)&&void 0!==Ui&&Ui.audience.toString()?ve.y.buildCallBackURLWithSeparator(null==r||null===(Fi=r.idToken)||void 0===Fi?void 0:Fi.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:R("applications:forms.inboundOIDC.sections.idToken.fields.audience.placeholder"),validationErrorMsg:R("applications:forms.inboundOIDC.sections.idToken.fields.audience.validations.invalid"),showError:Ce,setShowError:Oe,hint:s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.audience.hint"},"Specify the recipient(s) that this ",s.createElement(l.EK,{withBackground:!0},"id_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:y,addURLTooltip:R("common:addURL"),duplicateURLErrorMessage:R("common:duplicateURLError"),getSubmit:function(e){pi=e},showPredictions:!1,popupHeaderPositive:R("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:R("applications:URLInput.withLabel.negative.header"),popupContentPositive:R("applications:URLInput.withLabel.positive.content",{productName:Ut.ui.productName}),popupContentNegative:R("applications:URLInput.withLabel.negative.content",{productName:Ut.ui.productName}),popupDetailedContentPositive:R("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:R("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:R("console:common.validations.inSecureURL.description"),showLessContent:R("common:showLess"),showMoreContent:R("common:showMore"),skipInternalValidation:!0}))),g.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&G.u.SPA!==(null==w?void 0:w.templateId)&&!wn&&!In&&!L&&!A&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Jt,name:"encryption",label:"",required:!1,disabled:!Wn,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.idToken.fields.encryption.validations.empty"),type:"checkbox",listen:function(e){var t=e.get("encryption").includes("enableEncryption");t||(zn(),e.set("algorithm",""),e.set("method","")),V(t)},value:null!=r&&null!==(Pi=r.idToken)&&void 0!==Pi&&Pi.encryption.enabled?["enableEncryption"]:[],children:[{label:R("applications:forms.inboundOIDC.sections.idToken.fields.encryption.label"),value:"enableEncryption"}],readOnly:y,"data-testid":"".concat(T,"-encryption-checkbox")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.encryption.hint"},"Select to encrypt the ",s.createElement(l.EK,{withBackground:!0},"id_token"),"  when issuing the token using the public key of your application. To use encryption, configure the JWKS endpoint or the certificate of your application in the Certificate section below.")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:qt,name:"algorithm",label:R("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.label"),required:M&&Wn,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.validations.empty"),type:"dropdown",disabled:!M||!Wn,default:M&&Wn?null!=r&&r.idToken?r.idToken.encryption.algorithm:null==o?void 0:o.idTokenEncryptionAlgorithm.defaultValue:"",placeholder:R("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.placeholder"),children:ai(P?null==o||null===(Wi=o.fapiMetadata)||void 0===Wi?void 0:Wi.allowedEncryptionAlgorithms:null==o?void 0:o.idTokenEncryptionAlgorithm),readOnly:y,"data-testid":"".concat(T,"-encryption-algorithm-dropdown")}),s.createElement(l.kW,{disabled:!M||!Wn},s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"id_token"),"encryption algorithms.")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Kt,name:"method",disabled:!M||!Wn,label:R("applications:forms.inboundOIDC.sections.idToken.fields.method.label"),required:M&&Wn,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.idToken.fields.method.validations.empty"),type:"dropdown",default:M&&Wn?null!=r&&r.idToken?r.idToken.encryption.method:null==o||null===(Mi=o.idTokenEncryptionMethod)||void 0===Mi?void 0:Mi.defaultValue:"",placeholder:R("applications:forms.inboundOIDC.sections.idToken.fields.method.placeholder"),children:ai(null==o?void 0:o.idTokenEncryptionMethod),readOnly:y,"data-testid":"".concat(T,"-encryption-method-dropdown")}),s.createElement(l.kW,{disabled:!M||!Wn},s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.method.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"id_token"),"encryption methods."))))),G.So.STANDARD_BASED_APPLICATION===(null==w?void 0:w.name)&&!L&&!A&&(null===g.applicationConfig||void 0===g.applicationConfig||null===(Di=g.applicationConfig.inboundOIDCForm)||void 0===Di?void 0:Di.showIdTokenResponseSigningAlgorithm)&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:$t,name:"idTokenSignedResponseAlg",label:R("applications:forms.inboundOIDC.sections.idToken.fields.signing.label"),required:!1,type:"dropdown",disabled:!1,default:null!=r&&r.idToken?r.idToken.idTokenSignedResponseAlg:null,placeholder:R("applications:forms.inboundOIDC.sections.idToken.fields.signing.placeholder"),children:ai(P?null==o||null===(Qi=o.fapiMetadata)||void 0===Qi?void 0:Qi.allowedSignatureAlgorithms:null==o?void 0:o.idTokenSignatureAlgorithm),readOnly:y,"data-componentId":"".concat(N,"-id_token-response-signing-algorithm-dropdown")}),s.createElement(l.kW,{disabled:!M||!Wn},s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"id_token"),"encryption algorithms.")))),!In&&!L&&!A&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:en,name:"idExpiryInSeconds",label:R("applications:forms.inboundOIDC.sections.idToken.fields.expiry.label"),required:!0,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.idToken.fields.expiry.validations.empty"),placeholder:R("applications:forms.inboundOIDC.sections.idToken.fields.expiry.placeholder"),validation:function(){var e=Ve(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yi(t.toString())||(n.isValid=!1,n.errorMessages.push(R("applications:forms.inboundOIDC.sections.idToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=r&&r.idToken?r.idToken.expiryInSeconds.toString():null==o?void 0:o.defaultIdTokenExpiryTime,type:"number",readOnly:y,min:1,"data-testid":"".concat(T,"-id-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.expiry.hint"},"Specify the validity period of the ",s.createElement(l.EK,{withBackground:!0},"id_token")," in seconds.")))),!gn&&g.applicationConfig.inboundOIDCForm.showBackChannelLogout&&!L&&!A&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},"Logout URLs"),s.createElement(m.Z,{hidden:!0}),s.createElement(_.gN,{ref:tn,name:"backChannelLogoutUrl",label:R("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.label"),required:!1,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.validations.empty"),placeholder:R("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.placeholder"),type:"text",validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(R("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.validations.invalid")))},value:null==r||null===(_i=r.logout)||void 0===_i?void 0:_i.backChannelLogoutUrl,readOnly:y,"data-testid":"".concat(T,"-back-channel-logout-url-input")}),s.createElement(l.kW,null,R("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.hint",{productName:Ut.ui.productName}))))),g.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&!L&&!A&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:nn,name:"frontChannelLogoutUrl",label:R("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.label"),required:!1,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.validations.empty"),placeholder:R("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.placeholder"),type:"text",validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(R("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.validations.invalid")))},value:null==r||null===(ji=r.logout)||void 0===ji?void 0:ji.frontChannelLogoutUrl,readOnly:y,"data-testid":"".concat(T,"-front-channel-logout-url-input")}))),!gn&&g.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&!L&&!A&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.requestObjectSignature.heading")),s.createElement(_.gN,{ref:on,name:"enableRequestObjectSignatureValidation",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=r&&r.validateRequestObjectSignature?["EnableRequestObjectSignatureValidation"]:[],children:[{label:R("applications:forms.inboundOIDC.sections.requestObjectSignature.fields.signatureValidation.label"),value:"EnableRequestObjectSignatureValidation"}],readOnly:y,"data-testid":"".concat(T,"-request-object-signature-validation-checkbox")}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObjectSignature.description",tOptions:{productName:Ut.ui.productName}},"WSO2 Identity Server supports receiving an OIDC authentication request as a request object that is passed in a single, self-contained request parameter. Enable signature validation to accept only signed",s.createElement(l.EK,null,"request")," objects in the authorization request."))))),g.applicationConfig.inboundOIDCForm.showScopeValidators&&!L&&!A&&s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},R("applications:forms.inboundOIDC.sections.scopeValidators.heading")),s.createElement(_.gN,{ref:an,name:"scopeValidator",label:"",required:!1,requiredErrorMessage:R("applications:forms.inboundOIDC.sections.scopeValidators.fields.validator.validations.empty"),type:"checkbox",value:null==r?void 0:r.scopeValidators,children:ai(null==o?void 0:o.scopeValidators,!0),readOnly:y,"data-testid":"".concat(T,"-scope-validator-checkbox")}))),!L&&!A&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_e,{protocol:G.AI.OIDC,deleteAllowed:!(null!==(Bi=r.idToken)&&void 0!==Bi&&null!==(Bi=Bi.encryption)&&void 0!==Bi&&Bi.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:s.createElement(s.Fragment,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundOIDC.sections.certificates.disabledPopup"},"This certificate is used to encrypt the ",s.createElement(l.EK,null,"id_token"),". First, you need to disable ",s.createElement(l.EK,null,"id_token")," encryption to proceed.")),onUpdate:t,application:n,updateCertFinalValue:xn,updateCertType:Fn,certificate:i,readOnly:y,hidden:gn||!g.applicationConfig.inboundOIDCForm.showCertificates,isRequired:!0,triggerSubmit:Hn}))),!y&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement("span",{ref:ln}),s.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:C,disabled:C,"data-testid":"".concat(T,"-submit-button")},R("common:update")))))),ze&&s.createElement(l.cV,{onClose:function(){return Ke(!1)},type:"warning",open:ze,assertion:null==r?void 0:r.clientId,assertionHint:s.createElement("p",null,s.createElement(oe.c,{i18nKey:"applications:confirmations.regenerateSecret.assertionHint",tOptions:{id:null==r?void 0:r.clientId}},"Please type ",s.createElement("strong",null,null==r?void 0:r.clientId)," to confirm.")),assertionType:"input",primaryAction:R("common:confirm"),secondaryAction:R("common:cancel"),onSecondaryActionClick:function(){return Ke(!1)},onPrimaryActionClick:function(){h(),Ke(!1)},"data-testid":"".concat(T,"-oidc-regenerate-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(T,"-oidc-regenerate-confirmation-modal-header")},R("applications:confirmations.regenerateSecret.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(T,"-oidc-regenerate-confirmation-modal-message")},R("applications:confirmations.regenerateSecret.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(T,"-oidc-regenerate-confirmation-modal-content")},R("applications:confirmations.regenerateSecret.content"))),et&&s.createElement(l.cV,{onClose:function(){return tt(!1)},type:"warning",open:et,assertion:null==r?void 0:r.clientId,assertionHint:s.createElement("p",null,s.createElement(oe.c,{i18nKey:"applications:confirmations.revokeApplication.assertionHint",tOptions:{id:null==r?void 0:r.clientId}},"Please type ",s.createElement("strong",null,null==r?void 0:r.clientId)," to confirm.")),assertionType:"input",primaryAction:R("common:confirm"),secondaryAction:R("common:cancel"),onSecondaryActionClick:function(){return tt(!1)},onPrimaryActionClick:function(){v(),tt(!1)},"data-testid":"".concat(T,"-oidc-revoke-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(T,"-oidc-revoke-confirmation-modal-header")},R("applications:confirmations.revokeApplication.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(T,"-oidc-revoke-confirmation-modal-message")},R("applications:confirmations.revokeApplication.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(T,"-oidc-revoke-confirmation-modal-content")},gn?R("applications:confirmations.revokeApplication.content"):null)),it&&s.createElement(l.cV,{onClose:function(){return ot(!1)},type:"warning",open:it,assertion:null==r?void 0:r.clientId,assertionHint:gn?s.createElement("p",null,s.createElement(oe.c,{i18nKey:"applications:confirmations.reactivateSPA.assertionHint",tOptions:{id:null==r?void 0:r.clientId}},"Please type ",s.createElement("strong",null,null==r?void 0:r.clientId)," to confirm.")):s.createElement("p",null,s.createElement(oe.c,{i18nKey:"applications:confirmations.reactivateOIDC.assertionHint",tOptions:{id:null==r?void 0:r.clientId}},"Please type ",s.createElement("strong",null,null==r?void 0:r.clientId)," to confirm.")),assertionType:"input",primaryAction:R("common:confirm"),secondaryAction:R("common:cancel"),onSecondaryActionClick:function(){return ot(!1)},onPrimaryActionClick:function(){h(),ot(!1)},"data-testid":"".concat(T,"-oidc-reactivate-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(T,"-oidc-reactivate-confirmation-modal-header")},R(gn?"applications:confirmations.reactivateOIDC.header":"applications:confirmations.reactivateSPA.header")),gn?s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(T,"-oidc-reactivate-confirmation-modal-message")},R("applications:confirmations.reactivateSPA.message")):null,s.createElement(l.cV.Content,{"data-testid":"".concat(T,"-oidc-reactivate-confirmation-modal-content")},R(gn?"applications:confirmations.reactivateSPA.content":"applications:confirmations.reactivateOIDC.content"))),rt&&st)):s.createElement(se.Z,null,s.createElement(l.pO,{inline:"centered",active:!0}))};function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}$e.defaultProps={"data-componentid":"inbound-oidc-form","data-testid":"inbound-oidc-form",initialValues:{accessToken:void 0,allowedOrigins:[],callbackURLs:[],clientId:"",clientSecret:"",grantTypes:[],idToken:void 0,logout:void 0,pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1},publicClient:!1,refreshToken:void 0,scopeValidators:[],state:void 0,validateRequestObjectSignature:void 0}};var nt=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.initialValues,a=e.onSubmit,r=e.readOnly,d=e.isLoading,m=e["data-testid"],f=(0,u.$)().t,h=et((0,s.useState)(!1),2),g=h[0],b=h[1],v=et((0,s.useState)(void 0),2),y=v[0],E=v[1],S=et((0,s.useState)(G.el.NONE),2),w=S[0],C=S[1],O=et((0,_.cC)(),2),I=O[0],A=O[1];(0,s.useEffect)((function(){null!=i&&i.type&&C(null==i?void 0:i.type)}),[i]);return s.createElement(_.Es,{onSubmit:function(e){A(),a(function(e){return{general:{advancedConfigurations:{certificate:{type:w!==G.el.NONE?w:null==i?void 0:i.type,value:w!==G.el.NONE?y:""}}},inbound:{realm:e.get("realm"),replyTo:e.get("replyTo"),replyToLogout:e.get("replyToLogout")}}}(e))}},s.createElement(p.Z,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{name:"realm",label:f("applications:forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:f("applications:forms.inboundSTS.fields.realm.validations.empty"),placeholder:f("applications:forms.inboundSTS.fields.realm.placeholder"),type:"text",value:null==o?void 0:o.realm,readOnly:r||!(0,c.Z)(null==o?void 0:o.realm),"data-testid":"".concat(m,"-realm-input")}),s.createElement(l.kW,{disabled:!(0,c.Z)(null==o?void 0:o.realm)},f("applications:forms.inboundSTS.fields.realm.hint")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{name:"replyTo",label:f("applications:forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:f("applications:forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:f("applications:forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(f("applications:forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:null==o?void 0:o.replyTo,readOnly:r,"data-testid":"".concat(m,"-reply-to-url-input")}),s.createElement(l.kW,null,f("applications:forms.inboundSTS.fields.replyTo.hint")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{name:"replyToLogout",label:f("applications:forms.inboundSTS.fields.replyToLogout.label"),placeholder:f("applications:forms.inboundSTS.fields.replyToLogout.placeholder"),validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(f("applications:forms.inboundSTS.fields.replyToLogout.validations.invalid")))},type:"text",value:null==o?void 0:o.replyToLogout,readOnly:r,"data-componentid":"".concat(m,"-reply-to-logout-url-input")}),s.createElement(l.kW,null,f("applications:forms.inboundSTS.fields.replyToLogout.hint")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_e,{hideJWKS:!0,protocol:G.AI.WS_FEDERATION,deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:s.createElement(s.Fragment,null),onUpdate:t,application:n,updateCertFinalValue:E,updateCertType:C,certificate:i,readOnly:r,hidden:!1,isRequired:!0,triggerSubmit:I}))),g&&s.createElement(J,{open:g,certificate:null,onClose:function(){b(!1)}}),!r&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(B.Z,{primary:!0,type:"submit",size:"small",loading:d,disabled:d,className:"form-button","data-testid":"".concat(m,"-submit-button")},f("common:update"))))))};function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}nt.defaultProps={"data-testid":"inbound-passive-sts-form"};var at=function(e){var t,n=e.initialValues,i=e.creationOption,o=e.onSubmit,a=e.isLoading,r=e["data-testid"],d=(0,u.$)().t,h=it((0,s.useState)(void 0),2),b=h[0],v=h[1],y=it((0,s.useState)(),2),E=y[0],S=y[1],w=it((0,s.useState)(null),2),C=w[0],O=w[1],I=it((0,s.useState)(null),2),A=I[0],L=I[1],T=it((0,s.useState)(!1),2),N=T[0],R=T[1];(0,s.useEffect)((function(){var e,t,i;if((0,c.Z)(null==n||null===(e=n.inboundProtocolConfiguration)||void 0===e?void 0:e.saml))v(G.T6.META_URL);else if((0,c.Z)(null==n||null===(t=n.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.metadataURL)){if(!(0,c.Z)(null==n||null===(i=n.inboundProtocolConfiguration)||void 0===i||null===(i=i.saml)||void 0===i?void 0:i.metadataFile)){var o,a,r;v(G.T6.META_FILE),O(null==n||null===(o=n.inboundProtocolConfiguration)||void 0===o||null===(o=o.saml)||void 0===o?void 0:o.file),L(null==n||null===(a=n.inboundProtocolConfiguration)||void 0===a||null===(a=a.saml)||void 0===a?void 0:a.pasteValue),S(null==n||null===(r=n.inboundProtocolConfiguration)||void 0===r||null===(r=r.saml)||void 0===r?void 0:r.metadataFile)}}else v(G.T6.META_URL)}),[n]),(0,s.useEffect)((function(){E&&N&&R(!1)}),[E]),(0,s.useEffect)((function(){v(i)}),[i]);return b?s.createElement(_.Es,{onSubmit:function(e){b===G.T6.META_FILE&&(0,c.Z)(E)?R(!0):o(function(e){var t={};return b===G.T6.META_URL?t={inbound:{metadataURL:e.get("url")}}:b===G.T6.META_FILE&&(t={inbound:{metadataFile:E}}),t}(e))}},s.createElement(p.Z,null,G.T6.META_URL===b&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(_.gN,{name:"url",displayErrorOn:"blur",label:d("applications:forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:d("applications:forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:d("applications:forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("applications:forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==g.commonConfig&&void 0!==g.commonConfig&&g.commonConfig.blockLoopBackCalls&&Q.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(d("idp:forms.common.internetResolvableErrorMessage")))},value:null==n||null===(t=n.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.metadataURL,"data-testid":"".concat(r,"-meta-url-input")}),s.createElement(l.kW,null,d("applications:forms.inboundSAML.fields.metaURL.hint")))),G.T6.META_FILE===b&&s.createElement(p.Z.Row,{columns:1,mobile:16,tablet:16,computer:10},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(l.GB,{key:1,fileStrategy:rt,file:C,pastedContent:A,onChange:function(e){O(e.file),L(e.pastedContent),S(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(r,"-form-wizard-saml-xml-config-file-picker"),icon:(0,f._5)().uploadPlaceholder,placeholderIcon:s.createElement(Se.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:N,hidePasteOption:!0}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,{hidden:!0}),s.createElement(B.Z,{primary:!0,type:"submit",size:"small",loading:a,disabled:a,className:"form-button","data-testid":"".concat(r,"-submit-button")},d("common:update")))))):s.createElement(l.pO,null)};at.defaultProps={"data-testid":"saml-protocol-all-settings-wizard-form"};var rt=new l.R2,lt=n(71170);function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ut=function(e){var t,n,i,o=e.onUpdate,a=e.application,r=e.certificate,f=e.initialValues,h=e.metadata,b=e.onSubmit,v=e.readOnly,y=e.isLoading,E=e.containerRef,S=e["data-testid"],w=(0,u.$)().t,C=ct((0,s.useState)(null),2),O=C[0],I=C[1],A=ct((0,s.useState)(null),2),L=A[0],T=A[1],N=ct((0,s.useState)(null),2),R=N[0],Z=N[1],x=ct((0,s.useState)(null),2),k=x[0],U=x[1],F=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSignatureValidationCertificateAliasEnabled})),P=(0,d.v9)((function(e){return e.application.samlConfigurations})),W=(0,d.v9)((function(e){return e.config})),M=function(e,t){var n=[];return h&&e.options.map((function(t){n.push({key:e.options.indexOf(t),text:t,value:t})})),n},D=ct((0,s.useState)(""),2),V=D[0],H=D[1],X=ct((0,s.useState)(""),2),z=X[0],Y=X[1],J=ct((0,s.useState)(""),2),q=J[0],K=J[1],$=ct((0,s.useState)(""),2),ee=$[0],te=$[1],ne=ct((0,s.useState)(!1),2),ae=ne[0],ce=ne[1],se=ct((0,s.useState)(!1),2),ue=se[0],de=se[1],pe=ct((0,s.useState)(!1),2),me=pe[0],fe=pe[1],he=ct((0,s.useState)(!1),2),ge=he[0],be=he[1],ve=ct((0,s.useState)(!1),2),ye=ve[0],Ee=ve[1],Se=ct((0,s.useState)(!1),2),we=Se[0],Ce=Se[1],Oe=ct((0,s.useState)(!1),2),Ie=Oe[0],Ae=Oe[1],Le=ct((0,s.useState)(!1),2),Te=Le[0],Ne=Le[1],Re=ct((0,s.useState)(!1),2),Ze=Re[0],xe=Re[1],ke=ct((0,s.useState)(!1),2),Ue=ke[0],Fe=ke[1],Pe=ct((0,s.useState)(!1),2),We=Pe[0],Me=Pe[1],De=ct((0,s.useState)(!0),2),Qe=De[0],je=De[1],Be=ct((0,s.useState)(void 0),2),Ge=Be[0],Ve=Be[1],He=ct((0,s.useState)(G.el.NONE),2),Xe=He[0],ze=He[1],Ye=ct((0,s.useState)(!1),2),Je=Ye[0],qe=Ye[1],Ke=ct((0,s.useState)(null!=f&&f.singleLogoutProfile.logoutMethod?null==f?void 0:f.singleLogoutProfile.logoutMethod:G.aD.BACK_CHANNEL),2),$e=Ke[0],et=Ke[1],tt=ct((0,s.useState)(!1),2),nt=tt[0],it=tt[1],ot=ct((0,_.cC)(),2),at=ot[0],rt=ot[1],st=(0,s.useRef)(),ut=(0,s.useRef)(),dt=(0,s.useRef)(),pt=(0,s.useRef)(),mt=(0,s.useRef)(),ft=(0,s.useRef)(),ht=(0,s.useRef)(),gt=(0,s.useRef)(),bt=(0,s.useRef)(),vt=(0,s.useRef)(),yt=(0,s.useRef)(),Et=(0,s.useRef)(),St=(0,s.useRef)(),wt=(0,s.useRef)(),Ct=(0,s.useRef)(),Ot=(0,s.useRef)(),It=(0,s.useRef)(),At=(0,s.useRef)(),Lt=(0,s.useRef)(),Tt=(0,s.useRef)(),Nt=(0,s.useRef)(),Rt=(0,s.useRef)(),Zt=(0,s.useRef)(),xt=(0,s.useRef)(),kt=(0,s.useRef)(),Ut=(0,s.useRef)(),Ft=(0,s.useRef)(),Pt=(0,s.useRef)(),Wt=(0,s.useRef)(),Mt=(0,s.useRef)(),Dt=(0,s.useRef)();(0,s.useEffect)((function(){null!=r&&r.type&&ze(null==r?void 0:r.type)}),[r]);(0,s.useEffect)((function(){var e;f&&(Ee(null==f?void 0:f.singleLogoutProfile.enabled),Ce(null==f?void 0:f.singleLogoutProfile.idpInitiatedSingleLogout.enabled),Ae(null==f?void 0:f.attributeProfile.enabled),Ne(null==f?void 0:f.requestValidation.enableSignatureValidation),Fe(null==f?void 0:f.responseSigning.enabled),xe(null==f?void 0:f.singleSignOnProfile.assertion.encryption.enabled),Me(null==f||null===(e=f.singleSignOnProfile)||void 0===e||null===(e=e.bindings)||void 0===e?void 0:e.includes(G.Ss.ARTIFACT)))}),[f]),(0,s.useEffect)((function(){je(g.applicationConfig.inboundSAMLForm.artifactBindingAllowed)}),[]);var Qt,_t=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"issuer":st.current.scrollIntoView(t);break;case"applicationQualifier":ut.current.scrollIntoView(t);break;case"consumerURL":dt.current.scrollIntoView(t);break;case"defaultAssertionConsumerUrl":pt.current.scrollIntoView(t);break;case"idpEntityIdAlias":mt.current.scrollIntoView(t);break;case"requestSignatureValidation":ft.current.scrollIntoView(t);break;case"signatureValidationCertAlias":ht.current.scrollIntoView(t);break;case"digestAlgorithm":gt.current.scrollIntoView(t);break;case"signingAlgorithm":bt.current.scrollIntoView(t);break;case"responseSigning":vt.current.scrollIntoView(t);break;case"bindings":yt.current.scrollIntoView(t);break;case"signatureValidationForArtifactBinding":Et.current.scrollIntoView(t);break;case"idPInitiatedSSO":St.current.scrollIntoView(t);break;case"nameIdFormat":wt.current.scrollIntoView(t);break;case"audience":Ct.current.scrollIntoView(t);break;case"recipient":Ot.current.scrollIntoView(t);break;case"assertionEncryption":It.current.scrollIntoView(t);break;case"assertionEncryptionAlgorithm":At.current.scrollIntoView(t);break;case"keyEncryptionAlgorithm":Lt.current.scrollIntoView(t);break;case"attributeProfile":Tt.current.scrollIntoView(t);break;case"includeAttributesInResponse":Nt.current.scrollIntoView(t);break;case"attributeConsumingServiceIndex":Rt.current.scrollIntoView(t);break;case"singleLogoutProfile":Zt.current.scrollIntoView(t);break;case"logoutMethod":xt.current.scrollIntoView(t);break;case"singleLogoutResponseUrl":kt.current.scrollIntoView(t);break;case"singleLogoutRequestUrl":Ut.current.scrollIntoView(t);break;case"idpInitiatedSingleLogout":Ft.current.scrollIntoView(t);break;case"returnToURL":Pt.current.scrollIntoView(t);break;case"assertionQueryProfile":Wt.current.scrollIntoView(t)}};return(0,s.useEffect)((function(){(0,c.Z)(Ge)||Xe===G.el.NONE?qe(!1):qe(!0)}),[Ge,Xe]),h?s.createElement(_.Es,{onSubmit:function(e){rt(),Xe!==G.el.NONE&&(0,c.Z)(Ge)||((0,c.Z)(V)?(ce(!0),_t("consumerURL")):(Xe===G.el.NONE&&Ve(""),b(function(e){var t,n;return{general:{advancedConfigurations:{certificate:{type:G.el.PEM,value:Xe!==G.el.NONE?Ge:""}}},inbound:{manualConfiguration:{assertionConsumerUrls:V.split(","),attributeProfile:{alwaysIncludeAttributesInResponse:e.get("attributeProfile").includes("enabled"),enabled:e.get("attributeProfile").includes("enabled")},defaultAssertionConsumerUrl:e.get("defaultAssertionConsumerUrl"),enableAssertionQueryProfile:null===(t=e.get("assertionQueryProfile"))||void 0===t?void 0:t.includes("enableAssertionQueryProfile"),idpEntityIdAlias:e.get("idpEntityIdAlias"),issuer:e.get("issuer")||(null==f?void 0:f.issuer),requestValidation:{enableSignatureValidation:Je&&e.get("requestSignatureValidation").includes("enableSignatureValidation"),signatureValidationCertAlias:e.get("signatureValidationCertAlias")},responseSigning:{enabled:e.get("responseSigning").includes("enabled"),signingAlgorithm:e.get("signingAlgorithm")},serviceProviderQualifier:e.get("applicationQualifier"),singleLogoutProfile:{enabled:e.get("singleLogoutProfile").includes("enabled"),idpInitiatedSingleLogout:{enabled:e.get("idpInitiatedSingleLogout").includes("enabled"),returnToUrls:ee?ee.split(","):[]},logoutMethod:e.get("logoutMethod"),logoutRequestUrl:e.get("singleLogoutRequestUrl"),logoutResponseUrl:e.get("singleLogoutResponseUrl")},singleSignOnProfile:{assertion:{audiences:z?z.split(","):[],digestAlgorithm:e.get("digestAlgorithm"),encryption:{assertionEncryptionAlgorithm:Je?e.get("assertionEncryptionAlgorithm"):null==h?void 0:h.assertionEncryptionAlgorithm.defaultValue,enabled:Je&&e.get("assertionEncryption").includes("enableAssertionEncryption"),keyEncryptionAlgorithm:Je?e.get("keyEncryptionAlgorithm"):null==h?void 0:h.keyEncryptionAlgorithm.defaultValue},nameIdFormat:e.get("nameIdFormat"),recipients:q?q.split(","):[]},attributeConsumingServiceIndex:e.get("attributeConsumingServiceIndex"),bindings:e.get("bindings"),enableIdpInitiatedSingleSignOn:e.get("idPInitiatedSSO").includes("enableIdPInitiatedSSO"),enableSignatureValidationForArtifactBinding:Qe&&(null===(n=e.get("signatureValidationForArtifactBinding"))||void 0===n?void 0:n.includes("enableSignatureValidationForArtifactBinding"))}}}}}(e))))},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){_t(i.value[0]);break}i=n.next()}},onStaleChange:function(e){it(e)},ref:Mt},!v&&s.createElement(l.PH,{updateButtonRef:Dt,isFormStale:nt,containerRef:E},s.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:y,disabled:y,"data-testid":"".concat(S,"-submit-button-sticky")},w("common:update"))),s.createElement(p.Z,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},null!=f&&f.issuer?s.createElement(le.Z.Field,null,s.createElement("div",{className:"required field"},s.createElement("label",null,w("applications:forms.inboundSAML.fields.issuer.label"))),s.createElement(l.OR,{value:null==f?void 0:f.issuer})):s.createElement(_.gN,{name:"issuer",label:w("applications:forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:w("applications:forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:w("applications:forms.inboundSAML.fields.issuer.placeholder"),value:null==f?void 0:f.issuer,readOnly:v,"data-testid":"".concat(S,"-issuer-input"),ref:st}),s.createElement(l.kW,null,s.createElement(oe.c,{i18nKey:"applications:forms.inboundSAML.fields.issuer.hint"},"This specifies the unique identifier of the application. This is also the",s.createElement(l.EK,{withBackground:!0},"saml2:Issuer"),"  value specified in the SAML authentication request issued by the application.")))),g.applicationConfig.inboundSAMLForm.showApplicationQualifier&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:ut,name:"applicationQualifier",label:w("applications:forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:w("applications:forms.inboundSAML.fields.qualifier.placeholder"),value:null==f?void 0:f.serviceProviderQualifier,readOnly:v,"data-testid":"".concat(S,"-application-qualifier-input")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.fields.qualifier.hint"))))),s.createElement("div",{ref:dt}),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:V,setURLState:function(e){var t;H(e),(null==f||null===(t=f.assertionConsumerUrls)||void 0===t?void 0:t.toString())!==e&&it(!0)},labelName:w("applications:forms.inboundSAML.fields.assertionURLs.label"),value:null==f?void 0:f.assertionConsumerUrls.toString(),placeholder:w("applications:forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:w("applications:forms.inboundSAML.fields.assertionURLs.validations.invalid"),validation:function(e){var t=null;return Q.URLUtils.isHttpsOrHttpUrl(e)||(t=s.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},w("console:common.validations.unrecognizedURL.description"))),!!Q.URLUtils.isMobileDeepLink(e)&&(I(t),!0)},required:!0,showError:ae,setShowError:ce,hint:w("applications:forms.inboundSAML.fields.assertionURLs.hint"),readOnly:v,addURLTooltip:w("common:addURL"),duplicateURLErrorMessage:w("common:duplicateURLError"),"data-testid":"".concat(S,"-assertion-consumer-url-input"),showPredictions:!1,customLabel:O,popupHeaderPositive:w("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:w("applications:URLInput.withLabel.negative.header"),popupContentPositive:w("applications:URLInput.withLabel.positive.content",{productName:W.ui.productName}),popupContentNegative:w("applications:URLInput.withLabel.negative.content",{productName:W.ui.productName}),popupDetailedContentPositive:w("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:w("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:w("console:common.validations.inSecureURL.description"),showLessContent:w("common:showLess"),showMoreContent:w("common:showMore")}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:pt,label:w("applications:forms.inboundSAML.fields.defaultAssertionURL.label"),name:"defaultAssertionConsumerUrl",type:"dropdown",required:!0,requiredErrorMessage:w("applications:forms.inboundSAML.fields.defaultAssertionURL.validations.empty"),default:!(0,c.Z)(V)&&V.split(",").slice(-1)[0],children:function(){var e=[];if(!(0,c.Z)(V)){var t=V.split(",");t.map((function(n){e.push({key:t.indexOf(n),text:n,value:n})}))}return e}(),readOnly:v,"data-testid":"".concat(S,"-default-assertion-consumer-url-input"),value:null==f?void 0:f.defaultAssertionConsumerUrl}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.fields.defaultAssertionURL.hint")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:mt,label:w("applications:forms.inboundSAML.fields.idpEntityIdAlias.label"),name:"idpEntityIdAlias",placeholder:w("applications:forms.inboundSAML.fields.idpEntityIdAlias.placeholder"),type:"text",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.fields.idpEntityIdAlias.validations.empty"),validation:function(e,t){j.I.url(e)||(t.errorMessages.push(w("applications:forms.inboundSAML.fields.idpEntityIdAlias.validations.invalid")),t.isValid=!1)},value:null==f?void 0:f.idpEntityIdAlias,readOnly:v,"data-testid":"".concat(S,"-idp-entity-id-alias-input")}),s.createElement(l.kW,null,s.createElement(oe.c,{values:{defaultIdpEntityID:null==P?void 0:P.issuer,productName:W.ui.productName},i18nKey:"applications:forms.inboundSAML.fields.idpEntityIdAlias.hint"},"This value can override the default Identity Provider (IdP) entity ID defaultIdpEntityID. The IdP entity ID is used as the",s.createElement(l.EK,{withBackground:!0},"saml2:Issuer")," of the SAML response that is generated by productName.")))),s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},w("applications:forms.inboundSAML.sections.requestValidation.heading")),s.createElement(m.Z,{hidden:!0}),s.createElement(_.gN,{ref:ft,name:"requestSignatureValidation",label:"",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.validations.empty"),disabled:!Je,type:"checkbox",listen:function(e){Ne(e.get("requestSignatureValidation").includes("enableSignatureValidation"))},value:null!=f&&f.requestValidation.enableSignatureValidation?["enableSignatureValidation"]:[],children:[{label:w("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.label"),value:"enableSignatureValidation"}],readOnly:v,"data-testid":"".concat(S,"-request-signature-validation-checkbox")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.hint",{productName:W.ui.productName})))),F&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:ht,label:w("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.label"),name:"signatureValidationCertAlias",type:"dropdown",required:!1,disabled:!Te,value:null==f?void 0:f.requestValidation.signatureValidationCertAlias,requiredErrorMessage:w("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.validations.empty"),default:null==h?void 0:h.certificateAlias.defaultValue,children:M(null==h?void 0:h.certificateAlias),readOnly:v,"data-testid":"".concat(S,"-request-validation-certificate-alias-dropdown")}),s.createElement(l.kW,{disabled:!Te},w("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.hint")))),s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},w("applications:forms.inboundSAML.sections.responseSigning.heading")),s.createElement(m.Z,{hidden:!0}),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:vt,name:"responseSigning",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=f&&f.responseSigning.enabled?["enabled"]:[],listen:function(e){Fe(e.get("responseSigning").includes("enabled"))},children:[{label:w("applications:forms.inboundSAML.sections.responseSigning.fields.responseSigning.label"),value:"enabled"}],readOnly:v,"data-testid":"".concat(S,"-response-signing-checkbox")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.responseSigning.fields.responseSigning.hint",{productName:W.ui.productName}))))),s.createElement(p.Z.Row,null,s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:gt,label:w("applications:forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.label"),name:"digestAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.validations.empty"),default:null==h?void 0:h.responseDigestAlgorithm.defaultValue,value:null==f?void 0:f.singleSignOnProfile.assertion.digestAlgorithm,children:M(null==h?void 0:h.responseDigestAlgorithm),readOnly:v,disabled:!Ue,"data-testid":"".concat(S,"-digest-algorithm-dropdown")}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:bt,label:w("applications:forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.label"),name:"signingAlgorithm",type:"dropdown",required:!1,value:null==f?void 0:f.responseSigning.signingAlgorithm,requiredErrorMessage:w("applications:forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.validations.empty"),default:null==h?void 0:h.responseSigningAlgorithm.defaultValue,children:M(null==h?void 0:h.responseSigningAlgorithm),readOnly:v,disabled:!Ue,"data-testid":"".concat(S,"-signing-algorithm-dropdown")}))),s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},w("applications:forms.inboundSAML.sections.ssoProfile.heading")),s.createElement(m.Z,{hidden:!0}),s.createElement(_.gN,{ref:yt,label:w("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.label"),name:"bindings",type:"checkbox",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.validations.empty"),default:["HTTP_POST","HTTP_REDIRECT"],children:(Qt=[{label:"HTTP Post",readOnly:!0,value:"HTTP_POST"},{label:"HTTP Redirect",readOnly:!0,value:"HTTP_REDIRECT"}],Qe&&Qt.push({label:"Artifact",readOnly:!1,value:"ARTIFACT"}),Qt),value:(0,ie.Z)(null==f||null===(t=f.singleSignOnProfile)||void 0===t?void 0:t.bindings,["HTTP_POST","HTTP_REDIRECT"]),readOnly:v,listen:function(e){Me(e.get("bindings").includes("ARTIFACT")),e.get("bindings").includes("ARTIFACT")||e.set("signatureValidationForArtifactBinding",[])},"data-testid":"".concat(S,"-bindings-checkbox-group")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.hint")))),Qe?s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Et,name:"signatureValidationForArtifactBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:We&&null!=f&&f.singleSignOnProfile.enableSignatureValidationForArtifactBinding?["enableSignatureValidationForArtifactBinding"]:[],children:[{label:w("applications:forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.label"),value:"enableSignatureValidationForArtifactBinding"}],readOnly:v,disabled:!We,"data-testid":"".concat(S,"-artifact-binding-signature-validation-checkbox")}),s.createElement(l.kW,{disabled:!We},w("applications:forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.hint")))):null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:St,name:"idPInitiatedSSO",label:"",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.validations.empty"),type:"checkbox",value:null!=f&&f.singleSignOnProfile.enableIdpInitiatedSingleSignOn?["enableIdPInitiatedSSO"]:[],children:[{label:w("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.label"),value:"enableIdPInitiatedSSO"}],readOnly:v,"data-testid":"".concat(S,"-idp-initiated-sso-checkbox")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.hint")))),s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},w("applications:forms.inboundSAML.sections.assertion.heading")),s.createElement(m.Z,{hidden:!0}),s.createElement(_.gN,{ref:wt,label:w("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.label"),name:"nameIdFormat",placeholder:w("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.placeholder"),type:"dropdown",default:null==h?void 0:h.defaultNameIdFormat,required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.validations.empty"),value:null==f?void 0:f.singleSignOnProfile.assertion.nameIdFormat,children:(0,lt.Ex)(),readOnly:v,"data-testid":"".concat(S,"-name-id-format-input")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.hint")))),s.createElement("div",{ref:Ct}),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:z,setURLState:function(e){var t;Y(e),(null==f||null===(t=f.singleSignOnProfile)||void 0===t||null===(t=t.assertion)||void 0===t||null===(t=t.audiences)||void 0===t?void 0:t.toString())!==e&&it(!0)},labelName:w("applications:forms.inboundSAML.sections.assertion.fields.audience.label"),value:null==f?void 0:f.singleSignOnProfile.assertion.audiences.toString(),placeholder:w("applications:forms.inboundSAML.sections.assertion.fields.audience.placeholder"),validationErrorMsg:w("applications:forms.inboundSAML.sections.assertion.fields.audience.validations.invalid"),validation:function(e){var t=null;return Q.URLUtils.isHttpUrl(e)||Q.URLUtils.isHttpsUrl(e)||(t=s.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},w("console:common.validations.unrecognizedURL.description"))),!!Q.URLUtils.isMobileDeepLink(e)&&(T(t),!0)},showError:ue,setShowError:de,hint:w("applications:forms.inboundSAML.sections.assertion.fields.audience.hint"),readOnly:v,addURLTooltip:w("common:addURL"),duplicateURLErrorMessage:w("common:duplicateURLError"),"data-testid":"".concat(S,"-audience-url-input"),showPredictions:!1,customLabel:L,popupHeaderPositive:w("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:w("applications:URLInput.withLabel.negative.header"),popupContentPositive:w("applications:URLInput.withLabel.positive.content",{productName:W.ui.productName}),popupContentNegative:w("applications:URLInput.withLabel.negative.content",{productName:W.ui.productName}),popupDetailedContentPositive:w("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:w("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:w("console:common.validations.inSecureURL.description"),showLessContent:w("common:showLess"),showMoreContent:w("common:showMore")}))),s.createElement("div",{ref:Ot}),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:q,setURLState:function(e){var t;K(e),(null==f||null===(t=f.singleSignOnProfile)||void 0===t||null===(t=t.assertion)||void 0===t||null===(t=t.recipients)||void 0===t?void 0:t.toString())!==e&&it(!0)},labelName:w("applications:forms.inboundSAML.sections.assertion.fields.recipients.label"),value:null==f?void 0:f.singleSignOnProfile.assertion.recipients.toString(),placeholder:w("applications:forms.inboundSAML.sections.assertion.fields.recipients.placeholder"),validationErrorMsg:w("applications:forms.inboundSAML.sections.assertion.fields.recipients.validations.invalid"),validation:function(e){var t=null;return Q.URLUtils.isHttpUrl(e)||Q.URLUtils.isHttpsUrl(e)||(t=s.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},w("console:common.validations.unrecognizedURL.description"))),!!Q.URLUtils.isMobileDeepLink(e)&&(Z(t),!0)},showError:me,setShowError:fe,hint:w("applications:forms.inboundSAML.sections.assertion.fields.recipients.hint"),readOnly:v,addURLTooltip:w("common:addURL"),duplicateURLErrorMessage:w("common:duplicateURLError"),"data-testid":"".concat(S,"-recipients-url-input"),showPredictions:!1,customLabel:R,popupHeaderPositive:w("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:w("applications:URLInput.withLabel.negative.header"),popupContentPositive:w("applications:URLInput.withLabel.positive.content",{productName:W.ui.productName}),popupContentNegative:w("applications:URLInput.withLabel.negative.content",{productName:W.ui.productName}),popupDetailedContentPositive:w("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:w("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:w("console:common.validations.inSecureURL.description"),showLessContent:w("common:showLess"),showMoreContent:w("common:showMore")}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:It,name:"assertionEncryption",label:"",required:!1,disabled:!Je,requiredErrorMessage:w("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.validations.empty"),value:null!=f&&f.singleSignOnProfile.assertion.encryption.enabled?["enableAssertionEncryption"]:[],type:"checkbox",listen:function(e){xe(e.get("assertionEncryption").includes("enableAssertionEncryption"))},children:[{label:w("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.label"),value:"enableAssertionEncryption"}],readOnly:v,"data-testid":"".concat(S,"-assertion-encryption-checkbox")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.hint")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:At,label:w("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.label"),name:"assertionEncryptionAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.validations.empty"),disabled:!Ze||!Je,default:null==h?void 0:h.assertionEncryptionAlgorithm.defaultValue,value:null==f?void 0:f.singleSignOnProfile.assertion.encryption.assertionEncryptionAlgorithm,children:M(null==h?void 0:h.assertionEncryptionAlgorithm),readOnly:v,"data-testid":"".concat(S,"-assertion-encryption-algorithm-dropdown")}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Lt,label:w("applications:forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.label"),name:"keyEncryptionAlgorithm",type:"dropdown",required:!1,disabled:!Ze||!Je,requiredErrorMessage:w("applications:forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.validations.empty"),default:null==h?void 0:h.keyEncryptionAlgorithm.defaultValue,value:null==f?void 0:f.singleSignOnProfile.assertion.encryption.keyEncryptionAlgorithm,children:M(null==h?void 0:h.keyEncryptionAlgorithm),readOnly:v,"data-testid":"".concat(S,"-key-encryption-algorithm-dropdown")}))),s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},w("applications:forms.inboundSAML.sections.attributeProfile.heading")),s.createElement(m.Z,{hidden:!0}),s.createElement(_.gN,{ref:Tt,name:"attributeProfile",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=f&&f.attributeProfile.enabled?["enabled"]:[],listen:function(e){Ae(e.get("attributeProfile").includes("enabled"))},children:[{label:w("applications:forms.inboundSAML.sections.attributeProfile.fields.enable.label"),value:"enabled"}],readOnly:v,"data-testid":"".concat(S,"-attribute-profile-checkbox")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.attributeProfile.fields.enable.hint")))),g.applicationConfig.inboundSAMLForm.showAttributeConsumingServiceIndex&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Rt,label:w("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.label"),name:"attributeConsumingServiceIndex",placeholder:w("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.placeholder"),type:"text",required:!1,disabled:!Ie,requiredErrorMessage:w("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.validations.empty"),value:null==f?void 0:f.singleSignOnProfile.attributeConsumingServiceIndex,readOnly:v,"data-testid":"".concat(S,"-attribute-consuming-service-index-input")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.hint"))))),s.createElement(p.Z.Row,{columns:2},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null),s.createElement(m.Z,{hidden:!0})),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},w("applications:forms.inboundSAML.sections.sloProfile.heading")),s.createElement(m.Z,{hidden:!0}),s.createElement(_.gN,{ref:Zt,name:"singleLogoutProfile",label:"",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.sloProfile.fields.enable.validations.empty"),type:"checkbox",value:null!=f&&f.singleLogoutProfile.enabled?["enabled"]:[],listen:function(e){Ee(e.get("singleLogoutProfile").includes("enabled"))},children:[{label:w("applications:forms.inboundSAML.sections.sloProfile.fields.enable.label"),value:"enabled"}],readOnly:v,"data-testid":"".concat(S,"-single-logout-profile-checkbox")}),s.createElement(l.kW,null,w("applications:forms.inboundSAML.sections.sloProfile.fields.enable.hint")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:xt,label:w("applications:forms.inboundSAML.sections.sloProfile.fields.logoutMethod.label"),name:"logoutMethod",type:"dropdown",required:!1,value:null==f?void 0:f.singleLogoutProfile.logoutMethod,requiredErrorMessage:w("applications:forms.inboundSAML.sections.sloProfile.fields.logoutMethod.validations.empty"),default:G.aD.BACK_CHANNEL,disabled:!ye,children:[{key:1,text:"Back Channel",value:G.aD.BACK_CHANNEL},{key:2,text:"Front Channel HTTP Redirect",value:G.aD.FRONT_CHANNEL_HTTP_REDIRECT},{key:3,text:"Front Channel HTTP Post",value:G.aD.FRONT_CHANNEL_HTTP_POST}],listen:function(e){et(e.get("logoutMethod"))},readOnly:v,"data-testid":"".concat(S,"-logout-method-dropdown")}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:kt,name:"singleLogoutResponseUrl",label:w("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.label"),validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(w("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.invalid"))),$e===G.aD.BACK_CHANNEL&&null!==g.commonConfig&&void 0!==g.commonConfig&&g.commonConfig.blockLoopBackCalls&&Q.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(w("idp:forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.empty"),placeholder:w("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.placeholder"),disabled:!ye,type:"text",value:null==f?void 0:f.singleLogoutProfile.logoutResponseUrl,readOnly:v,"data-testid":"".concat(S,"-single-logout-response-url-input")}),s.createElement(l.kW,{disabled:!ye},w("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.hint",{productName:W.ui.productName})))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{ref:Ut,name:"singleLogoutRequestUrl",label:w("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.label"),validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(w("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.invalid"))),$e===G.aD.BACK_CHANNEL&&null!==g.commonConfig&&void 0!==g.commonConfig&&g.commonConfig.blockLoopBackCalls&&Q.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(w("idp:forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.empty"),placeholder:w("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.placeholder"),disabled:!ye,type:"text",value:null==f?void 0:f.singleLogoutProfile.logoutRequestUrl,readOnly:v,"data-testid":"".concat(S,"-single-logout-request-url-input")}),s.createElement(l.kW,{disabled:!ye},w("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.hint",{productName:W.ui.productName})))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h6",disabled:!ye},w("applications:forms.inboundSAML.sections.idpInitiatedSLO.heading")),s.createElement(m.Z,{hidden:!0}),s.createElement(_.gN,{ref:Ft,name:"idpInitiatedSingleLogout",label:"",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.validations.empty"),type:"checkbox",disabled:!ye,value:null!=f&&f.singleLogoutProfile.idpInitiatedSingleLogout.enabled?["enabled"]:[],listen:function(e){Ce(e.get("idpInitiatedSingleLogout").includes("enabled"))},children:[{label:w("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.label"),value:"enabled"}],readOnly:v,"data-testid":"".concat(S,"-idp-initiated-single-logout-checkbox")}),s.createElement(l.kW,{disabled:!ye},w("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.hint")))),s.createElement("div",{ref:Pt}),s.createElement(l.wE,{urlState:ee,setURLState:function(e){var t;te(e),(null==f||null===(t=f.singleLogoutProfile)||void 0===t||null===(t=t.idpInitiatedSingleLogout)||void 0===t||null===(t=t.returnToUrls)||void 0===t?void 0:t.toString())!==e&&it(!0)},labelName:w("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.label"),value:null==f?void 0:f.singleLogoutProfile.idpInitiatedSingleLogout.returnToUrls.toString(),placeholder:w("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.placeholder"),validationErrorMsg:w("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.validations.invalid"),validation:function(e){var t=null;return Q.URLUtils.isHttpUrl(e)||Q.URLUtils.isHttpsUrl(e)||(t=s.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},w("console:common.validations.unrecognizedURL.description"))),!!Q.URLUtils.isMobileDeepLink(e)&&(U(t),!0)},showError:ge,setShowError:be,disabled:!we||!ye,readOnly:v,addURLTooltip:w("common:addURL"),duplicateURLErrorMessage:w("common:duplicateURLError"),"data-testid":"".concat(S,"-return-to-urls-input"),showPredictions:!1,customLabel:k,popupHeaderPositive:w("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:w("applications:URLInput.withLabel.negative.header"),popupContentPositive:w("applications:URLInput.withLabel.positive.content",{productName:W.ui.productName}),popupContentNegative:w("applications:URLInput.withLabel.negative.content",{productName:W.ui.productName}),popupDetailedContentPositive:w("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:w("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:w("console:common.validations.inSecureURL.description"),showLessContent:w("common:showLess"),showMoreContent:w("common:showMore")}),s.createElement(l.kW,{disabled:!ye},w("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.hint")),g.applicationConfig.inboundSAMLForm.showQueryRequestProfile&&s.createElement(s.Fragment,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(m.Z,null)),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},w("applications:forms.inboundSAML.sections.requestProfile.heading")),s.createElement(m.Z,{hidden:!0}),s.createElement(_.gN,{ref:Wt,name:"assertionQueryProfile",label:"",required:!1,requiredErrorMessage:w("applications:forms.inboundSAML.sections.requestProfile.fields.enable.validations.empty"),value:null!=f&&f.enableAssertionQueryProfile?["enableAssertionQueryProfile"]:[],type:"checkbox",children:[{label:w("applications:forms.inboundSAML.sections.requestProfile.fields.enable.label"),value:"enableAssertionQueryProfile"}],readOnly:v,"data-testid":"".concat(S,"-assertion-query-profile-checkbox")})))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_e,{protocol:G.AI.SAML,deleteAllowed:!(null!=f&&null!==(n=f.requestValidation)&&void 0!==n&&n.enableSignatureValidation||null!=f&&null!==(i=f.singleSignOnProfile)&&void 0!==i&&null!==(i=i.assertion)&&void 0!==i&&null!==(i=i.encryption)&&void 0!==i&&i.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:w("applications:forms.inboundSAML.sections.certificates.disabledPopup"),onUpdate:o,application:a,updateCertFinalValue:Ve,updateCertType:ze,canDiscardCertificate:function(){return!Te},certificate:r,readOnly:v,hidden:!1,isRequired:!0,hideJWKS:!0,triggerSubmit:at}))),!v&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement("span",{ref:Dt}),s.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:y,disabled:y,"data-testid":"".concat(S,"-submit-button")},w("common:update")))))):null};function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ut.defaultProps={"data-testid":"inbound-saml-form"};var mt=function(e){var t=e.certificate,n=e.metadata,i=e.initialValues,o=e.onSubmit,r=e.readOnly,f=e.isLoading,h=e["data-testid"],g=(0,u.$)().t,v=(0,d.I0)(),y=dt((0,s.useState)(!1),2),E=y[0],S=y[1],w=dt((0,s.useState)(!1),2),C=w[0],O=w[1],I=dt((0,s.useState)(void 0),2),A=I[0],L=I[1],T=dt((0,s.useState)(null),2),N=T[0],R=T[1];(0,s.useEffect)((function(){G.el.PEM===(null==t?void 0:t.type)&&(S(!0),null!=t&&t.value&&L(t.value))}),[t]);var Z,x;return n?s.createElement(_.Es,{onSubmit:function(e){o(function(e){return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:E?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}(e))}},s.createElement(p.Z,null,s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{name:"audience",label:g("applications:forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:g("applications:forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:g("applications:forms.inboundWSTrust.fields.audience.placeholder"),type:"text",value:null==i?void 0:i.audience,readOnly:r||!(0,c.Z)(null==i?void 0:i.audience),"data-testid":"".concat(h,"-audience-input")}),s.createElement(l.kW,{disabled:!(0,c.Z)(null==i?void 0:i.audience)},g("applications:forms.inboundWSTrust.fields.audience.hint")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.gN,{label:g("applications:forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:g("applications:forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:null==n?void 0:n.certificateAlias.defaultValue,value:null==i?void 0:i.certificateAlias,children:(Z=null==n?void 0:n.certificateAlias,x=[],Z&&Z.options.map((function(e){x.push({key:Z.options.indexOf(e),text:e,value:e})})),x),readOnly:r,"data-testid":"".concat(h,"-certificate-alias-dropdown")}),s.createElement(l.kW,null,g("applications:forms.inboundWSTrust.fields.certificateAlias.hint")))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(m.Z,null)),s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(l.X6,{as:"h5"},g("applications:forms.advancedConfig.sections.certificate.heading")),s.createElement(_.gN,{label:g("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:G.el.JWKS,listen:function(e){S("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:g("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:G.el.JWKS},{label:g("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:G.el.PEM}],readOnly:r,"data-testid":"".concat(h,"-certificate-type-radio-group")}))),s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},E?s.createElement(s.Fragment,null,s.createElement(_.gN,{name:"certificateValue",label:g("applications:forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:g("applications:forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:b.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:G.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){L(e.get("certificateValue"))},readOnly:r,"data-testid":"".concat(h,"-certificate-textarea")}),s.createElement(l.kW,null,g("applications:forms.advancedConfig.sections.certificate.fields.pemValue.hint")),s.createElement(l.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),E&&A&&((t=Q.CertificateManagementUtils.canSafelyParseCertificate(A)?Q.CertificateManagementUtils.displayCertificate(null,A):M.lu.DUMMY_DISPLAY_CERTIFICATE)?(R(t),O(!0)):v((0,D.V_)({description:g("applications:notifications.invalidPEMFile.genericError.description"),level:a.QU.ERROR,message:g("applications:notifications.invalidPEMFile.genericError.message")})))},disabled:(0,c.Z)(A),"data-testid":"".concat(h,"-certificate-info-button")},g("applications:forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):s.createElement(s.Fragment,null,s.createElement(_.gN,{name:"jwksValue",label:g("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:g("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:g("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){j.I.url(e)||(t.isValid=!1,t.errorMessages.push(g("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:G.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:r,"data-testid":"".concat(h,"-jwks-input")})))),C&&s.createElement(J,{open:C,certificate:N,onClose:function(){O(!1)}}),!r&&s.createElement(p.Z.Row,{columns:1},s.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button","data-testid":"".concat(h,"-submit-button"),loading:f,disabled:f},g("common:update")))))):null};mt.defaultProps={"data-testid":"inbound-ws-trust-form"};var ft=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.metadata,a=e.initialValues,r=e.onSubmit,l=e.type,c=e.onApplicationRegenerate,u=e.onApplicationRevoke,d=e.readOnly,p=e.allowedOrigins,m=e.tenantDomain,f=e.template,h=e.showSAMLCreation,g=e.SAMLCreationOption,b=e.isLoading,v=e.setIsLoading,y=e.containerRef,E=e.isDefaultApplication,S=e.isSystemApplication,w=e["data-testid"];switch(l){case G.AI.OIDC:case G.AI.OAUTH2_OIDC:return s.createElement($e,{onUpdate:t,application:n,isLoading:b,setIsLoading:v,certificate:i,tenantDomain:m,allowedOriginList:p,initialValues:a,metadata:o,onSubmit:r,onApplicationRegenerate:c,onApplicationRevoke:u,readOnly:d,template:f,"data-testid":w,containerRef:y,isDefaultApplication:E,isSystemApplication:S});case G.AI.SAML:return h&&g&&g!==G.T6.MANUAL?s.createElement(at,{isLoading:b,initialValues:a,creationOption:g||G.T6.META_URL,onSubmit:r,"data-testid":w}):s.createElement(ut,{onUpdate:t,application:n,isLoading:b,certificate:i,initialValues:a,metadata:o,onSubmit:r,readOnly:d,"data-testid":w,containerRef:y});case G.AI.WS_TRUST:return s.createElement(mt,{isLoading:b,certificate:i,initialValues:a,metadata:o,onSubmit:r,readOnly:d,"data-testid":w});case G.AI.WS_FEDERATION:return s.createElement(nt,{onUpdate:t,application:n,isLoading:b,certificate:i,initialValues:a,onSubmit:r,readOnly:d,"data-testid":w});case G.AI.CUSTOM:return s.createElement(ee,{isLoading:b,certificate:i,metadata:o,initialValues:a,onSubmit:r,"data-testid":w});default:return null}};function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bt(e,t,n){var i;return i=function(e,t){if("object"!=ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ht(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ht(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ft.defaultProps={"data-testid":"inbound-form-factory",showSAMLCreation:!1};var Et="application-general-details",St=function(e){var t,n=e.appId,i=e.name,o=e.description,a=e.discoverability,c=e.hiddenFields,p=e.imageUrl,h=e.accessUrl,v=e.onSubmit,y=e.readOnly,E=e.hasRequiredScope,S=e.isSubmitting,w=e.isManagementApp,C=e.application,O=e["data-testid"],I=(0,u.$)().t,A=(0,l.fQ)().getLink,L=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),T=vt((0,s.useState)(a),2),N=T[0],R=T[1],Z=vt((0,s.useState)(f.$x.DEFAULT_MY_ACCOUNT_STATUS),2),x=Z[0],k=Z[1],U=vt((0,s.useState)(!1),2),F=U[0],P=U[1],W=window.AppUtils.getConfig().organizationName,M=(0,d.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),D=(0,Ne.pv)(!W&&(null===g.applicationConfig||void 0===g.applicationConfig||null===(t=g.applicationConfig.advancedConfigurations)||void 0===t?void 0:t.showMyAccountStatus)),_=D.data,B=D.isLoading,G=(0,s.useMemo)((function(){var e="";return b.jo.FORM_FIELD_CONSTRAINTS.ACCESS_URL_ALLOWED_PLACEHOLDERS.forEach((function(t,n){e+=0==n?t:"|".concat(t)})),new RegExp(e,"g")}),[]),V=function(e){var t,i,o,a;v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({accessUrl:null===(t=e.accessUrl)||void 0===t?void 0:t.toString(),advancedConfigurations:{discoverableByEndUsers:e.discoverableByEndUsers},description:null===(i=e.description)||void 0===i?void 0:i.toString().trim(),id:n,name:null===(o=e.name)||void 0===o?void 0:o.toString()},!(null!=c&&c.includes("imageUrl"))&&{imageUrl:null===(a=e.imageUrl)||void 0===a?void 0:a.toString()}))};return(0,s.useEffect)((function(){P((null==C?void 0:C.templateId)===b.jo.M2M_APP_TEMPLATE_ID)}),[C]),(0,s.useEffect)((function(){var e=f.$x.DEFAULT_MY_ACCOUNT_STATUS;if(_){var t=_.value;t&&"false"===t&&(e=!1)}k(e)}),[B]),B?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(r.l0,{id:Et,uncontrolledForm:!1,onSubmit:function(e){V(e)},initialValues:{accessUrl:h,description:o,name:i},validate:function(e){var t={accessUrl:void 0};return N&&!e.accessUrl&&(t.accessUrl=I("applications:forms.generalDetails.fields.accessUrl.validations.empty")),t}},void 0===A("develop.connections.newConnection.enterprise.saml.learnMore")?null:s.createElement(m.Z,{hidden:!0}),w&&s.createElement(l.v0,{type:"info",content:s.createElement(s.Fragment,null,I("applications:forms.generalDetails.managementAppBanner"),s.createElement(l.eb,{link:A("develop.applications.managementApplication.learnMore")},I("common:learnMore")))}),!L.systemAppsIdentifiers.includes(i)&&s.createElement(r.gN.Input,{ariaLabel:"Application name",inputType:"name",name:"name",label:I("applications:forms.generalDetails.fields.name.label"),required:!0,placeholder:I("applications:forms.generalDetails.fields.name.placeholder"),value:i,readOnly:y||M===de.$B.SUBORGANIZATION,validation:function(e){return function(e){if(!e||!e.match(b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,"data-testid":"".concat(O,"-application-name-input"),width:16}),i!==b.jo.MY_ACCOUNT_APP_NAME&&s.createElement(r.gN.Textarea,{ariaLabel:"Application description",name:"description",label:I("applications:forms.generalDetails.fields.description.label"),required:!1,placeholder:I("applications:forms.generalDetails.fields.description.placeholder"),value:o,readOnly:y,validation:function(e){return function(e){if(!e||!e.match(b.jo.FORM_FIELD_CONSTRAINTS.APP_DESCRIPTION_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:300,minLength:3,"data-testid":"".concat(O,"-application-description-textarea"),width:16}),s.createElement(r.gN.Input,{ariaLabel:"Application image URL",inputType:"url",name:"imageUrl",label:I("applications:forms.generalDetails.fields.imageUrl.label"),required:!1,placeholder:I("applications:forms.generalDetails.fields.imageUrl.placeholder"),value:p,readOnly:y,"data-testid":"".concat(O,"-application-image-url-input"),maxLength:200,minLength:3,hint:I("applications:forms.generalDetails.fields.imageUrl.hint"),width:16,hidden:null==c?void 0:c.includes("imageUrl")}),F||!x&&!W?null:s.createElement(r.gN.Checkbox,{ariaLabel:"Make application discoverable by end users",name:"discoverableByEndUsers",required:!1,label:I("applications:forms.generalDetails.fields.discoverable.label"),initialValue:N,readOnly:y,"data-testid":"".concat(O,"-application-discoverable-checkbox"),listen:function(e){return R(e)},hint:s.createElement(oe.c,{i18nKey:C.templateId===b.jo.MOBILE?"applications:forms.inboundOIDC.mobileApp.discoverableHint":"applications:forms.generalDetails.fields.discoverable.hint",tOptions:{myAccount:"My Account"}}," ",void 0===A("develop.applications.managementApplication.selfServicePortal")?s.createElement("strong",{"data-testid":"application-name-assertion"},"My Account"):s.createElement("strong",{className:"link pointing","data-testid":"application-name-assertion",onClick:function(){return window.open(A("develop.applications.managementApplication.selfServicePortal"),"_blank")}},"My Account")),width:16}),!F&&s.createElement(r.gN.Input,{ariaLabel:I("applications:forms.generalDetails.fields.accessUrl.ariaLabel"),inputType:"url",name:"accessUrl",label:I("applications:forms.generalDetails.fields.accessUrl.label"),required:N,placeholder:I("applications:forms.generalDetails.fields.accessUrl.placeholder"),value:h,readOnly:!E||y&&g.applicationConfig.generalSettings.getFieldReadOnlyStatus(C,"ACCESS_URL"),validation:function(e){var t,n,i=null==e||null===(t=e.trim())||void 0===t?void 0:t.replace(G,"");return!i||Q.URLUtils.isURLValid(i,!0)&&j.I.url(i)||(n=I("applications:forms.generalDetails.fields.accessUrl.validations.invalid")),n},maxLength:b.jo.FORM_FIELD_CONSTRAINTS.ACCESS_URL_MAX_LENGTH,minLength:b.jo.FORM_FIELD_CONSTRAINTS.ACCESS_URL_MIN_LENGTH,"data-testid":"".concat(O,"-application-access-url-input"),hint:I("applications:forms.generalDetails.fields.accessUrl.hint"),width:16}),s.createElement(r.gN.Button,{form:Et,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(O,"-submit-button"),disabled:S,loading:S,label:I("common:update"),hidden:!E||y&&g.applicationConfig.generalSettings.getFieldReadOnlyStatus(C,"ACCESS_URL")}))};function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}St.defaultProps={"data-testid":"application-general-settings-form"};var Ot="application-provisioning-configuration-form",It=function(e){var t,n,i,o,a=e.config,l=e.onSubmit,c=e.readOnly,d=e.useStoreList,p=e.isSubmitting,m=e["data-testid"],f=(0,u.$)().t,h=wt((0,s.useState)(!1),2),g=h[0],b=h[1],v=function(e){var t={provisioningConfigurations:{inboundProvisioning:{provisioningUserstoreDomain:e.provisioningUserstoreDomain,proxyMode:!!e.proxyMode}}};l(t)};return(0,s.useEffect)((function(){var e,t;null!=a&&null!==(e=a.inboundProvisioning)&&void 0!==e&&e.proxyMode&&b(null==a||null===(t=a.inboundProvisioning)||void 0===t?void 0:t.proxyMode)}),[a]),s.createElement(r.l0,{id:Ot,uncontrolledForm:!1,onSubmit:function(e){v(e)}},s.createElement(r.gN.CheckboxLegacy,{ariaLabel:"Proxy mode",name:"proxyMode",label:f("applications:forms.provisioningConfig.fields.proxyMode.label"),required:!1,value:null!=a&&null!==(t=a.inboundProvisioning)&&void 0!==t&&t.proxyMode?["modeOn"]:[],listen:function(e){return b(e)},readOnly:c,"data-testid":"".concat(m,"-proxy-mode-checkbox"),hint:f("applications:forms.provisioningConfig.fields.proxyMode.hint")}),c?s.createElement(r.gN.Input,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",inputType:"text",minLength:null,maxLength:null,label:f("applications:forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,value:null==a||null===(n=a.inboundProvisioning)||void 0===n?void 0:n.provisioningUserstoreDomain,disabled:g,readOnly:c,"data-testid":"".concat(m,"-provisioning-userstore-domain-input"),hint:f("applications:forms.provisioningConfig.fields.userstoreDomain.hint")}):s.createElement(r.gN.Dropdown,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",label:f("applications:forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,default:d&&d.length>0&&d[0].name,value:null==a||null===(i=a.inboundProvisioning)||void 0===i?void 0:i.provisioningUserstoreDomain,children:(o=[],d&&(null==d||d.map((function(e){o.push({key:d.indexOf(e),text:null==e?void 0:e.name,value:null==e?void 0:e.name})}))),o),disabled:g,readOnly:c,"data-testid":"".concat(m,"-provisioning-userstore-domain-dropdown"),hint:f("applications:forms.provisioningConfig.fields.userstoreDomain.hint")}),s.createElement(r.gN.Button,{form:Ot,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(m,"-submit-button"),disabled:p,loading:p,label:f("common:update"),hidden:c}))};It.defaultProps={"data-testid":"application-inbound-provisioning-configurations-form"};var At=n(57915),Lt=n(12735),Tt=n(39345),Nt=n(719);function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Zt(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(){xt=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(i||[]);return o(r,"_invoke",{value:A(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function b(){}function v(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(Z([])));w&&w!==n&&i.call(w,r)&&(E=w);var C=y.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,r,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Rt(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,i){var o=p;return function(a,r){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw r;return{value:e,done:!0}}for(i.method=a,i.arg=r;;){var l=i.delegate;if(l){var c=L(l,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?h:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=h,i.method="throw",i.arg=s.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Rt(t)+" is not iterable")}return v.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new I(u(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(C),s(C,c,"Generator"),s(C,r,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function kt(e,t,n,i,o,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(i,o)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){kt(a,i,o,r,l,"next",e)}function l(e){kt(a,i,o,r,l,"throw",e)}r(void 0)}))}}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Mt=function(e){return e[e.SHARE_ALL=0]="SHARE_ALL",e[e.SHARE_SELECTED=1]="SHARE_SELECTED",e[e.UNSHARE=2]="UNSHARE",e}(Mt||{}),Dt=function(e){var t=e.application,n=e.triggerApplicationShare,i=e.onApplicationSharingCompleted,o=e["data-componentid"],r=e.readOnly,f=(0,d.I0)(),h=(0,u.$)().t,g=(0,d.v9)((function(e){return e.organization.organization})),b=Ft((0,s.useState)([]),2),v=b[0],y=b[1],E=Ft((0,s.useState)([]),2),S=E[0],w=E[1],C=Ft((0,s.useState)([]),2),O=C[0],I=C[1],A=Ft((0,s.useState)([]),2),L=A[0],T=A[1],N=Ft((0,s.useState)(Mt.UNSHARE),2),R=N[0],Z=N[1],x=Ft((0,s.useState)(!1),2),k=x[0],U=x[1],F=Ft((0,s.useState)(),2),P=F[0],W=F[1];(0,s.useEffect)((function(){return I(v||[])}),[v]),(0,s.useEffect)((function(){return T(S||[])}),[S]),(0,s.useEffect)((function(){var e;if(t){var n,i,o=null==t||null===(e=t.advancedConfigurations)||void 0===e||null===(e=e.additionalSpProperties)||void 0===e?void 0:e.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));if(o&&0!==o.length)U(!!JSON.parse(null===(n=o[0])||void 0===n?void 0:n.value)&&JSON.parse(null===(i=o[0])||void 0===i?void 0:i.value));else U(!1)}}),[t]),(0,s.useEffect)((function(){k?Z(Mt.SHARE_ALL):(null==S?void 0:S.length)>0&&!k?Z(Mt.SHARE_SELECTED):S&&0!==(null==S?void 0:S.length)||k||Z(Mt.UNSHARE)}),[k,S]),(0,s.useEffect)((function(){n&&Q()}),[n]),(0,s.useEffect)((function(){isOrganizationManagementEnabled&&((0,ue.jX)(null,null,null,null,!0,!1).then((function(e){y(e.organizations)})).catch((function(e){null!=e&&e.description?f((0,D.V_)({description:e.description,level:a.QU.ERROR,message:h("organizations:notifications.getOrganizationList.error.message")})):f((0,D.V_)({description:h("organizations:notifications.getOrganizationList.genericError.description"),level:a.QU.ERROR,message:h("organizations:notifications.getOrganizationList.genericError.message")}))})),M())}),[ue.jX]);var M=function(){(0,ue.DM)(g.id,t.id).then((function(e){w(e.data.organizations)})).catch((function(e){e.response.data.description?f((0,D.V_)({description:e.response.data.description,level:a.QU.ERROR,message:h("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):f((0,D.V_)({description:h("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:a.QU.ERROR,message:h("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))}))},Q=(0,s.useCallback)(Ut(xt().mark((function e(){var n,o,r,l;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R!==Mt.SHARE_ALL){e.next=4;break}n={shareWithAllChildren:!0},e.next=14;break;case 4:if(R!==Mt.SHARE_SELECTED){e.next=14;break}if(!k){e.next=11;break}return r=L.map((function(e){return e.id})),e.next=9,(0,ue.An)(t.id,g.id);case 9:e.next=13;break;case 11:r=(0,Lt.Z)(L,S,"id").map((function(e){return e.id})),o=(0,Lt.Z)(S,L,"id");case 13:n={shareWithAllChildren:!1,sharedOrganizations:r};case 14:R===Mt.SHARE_ALL||R===Mt.SHARE_SELECTED?((0,ue.Bn)(g.id,t.id,n).then((function(){f((0,D.V_)({description:h("applications:edit.sections.shareApplication.addSharingNotification.success.description"),level:a.QU.SUCCESS,message:h("applications:edit.sections.shareApplication.addSharingNotification.success.message")}))})).catch((function(e){e.response.data.message?f((0,D.V_)({description:e.response.data.message,level:a.QU.ERROR,message:h("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})):f((0,D.V_)({description:h("applications:edit.sections.shareApplication.addSharingNotification.genericError.description"),level:a.QU.ERROR,message:h("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")}))})).finally((function(){R===Mt.SHARE_SELECTED&&M(),i()})),null===(l=o)||void 0===l||l.forEach((function(e){(0,ue.NY)(g.id,t.id,e.id).then((function(){f((0,D.V_)({description:h("applications:edit.sections.shareApplication.stopSharingNotification.success.description",{organization:e.name}),level:a.QU.SUCCESS,message:h("applications:edit.sections.shareApplication.stopSharingNotification.success.message")}))})).catch((function(t){t.response.data.message?f((0,D.V_)({description:t.response.data.message,level:a.QU.ERROR,message:h("applications:edit.sections.shareApplication.stopSharingNotification.genericError.message")})):f((0,D.V_)({description:h("applications:edit.sections.shareApplication.stopSharingNotification.genericError.description",{organization:e.name}),level:a.QU.ERROR,message:h("applications:edit.sections.shareApplication.stopSharingNotification.genericError.message")}))}))}))):R===Mt.UNSHARE&&(0,ue.An)(t.id,g.id).then((function(){f((0,D.V_)({description:h("applications:edit.sections.shareApplication.stopAllSharingNotification.success.description"),level:a.QU.SUCCESS,message:h("applications:edit.sections.shareApplication.stopAllSharingNotification.success.message")}))})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?f((0,D.V_)({description:e.response.data.message,level:a.QU.ERROR,message:h("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})):f((0,D.V_)({description:h("applications:edit.sections.shareApplication.addSharingNotification.genericError.description"),level:a.QU.ERROR,message:h("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")}))})).finally((function(){w([]),i()}));case 15:case"end":return e.stop()}}),e)}))),[S,L,ue.NY,f,g.id,t.id,R]),_=(0,s.useCallback)((function(){L.length!==v.length?T(v):T([])}),[v,I,L]);return s.createElement(s.Fragment,null,s.createElement(l.X6,{ellipsis:!0,as:"h6"},h("applications:edit.sections.sharedAccess.subTitle")),s.createElement(p.Z,null,s.createElement(p.Z.Row,null,s.createElement(p.Z.Column,{width:8},s.createElement(Nt.Z,{disabled:r,label:h("organizations:unshareApplicationRadio"),onChange:function(){return Z(Mt.UNSHARE)},checked:R===Mt.UNSHARE,"data-componentid":"".concat(o,"-share-with-all-checkbox")}),s.createElement(l.kW,{inline:!0,popup:!0},h("organizations:unshareApplicationInfo")),s.createElement(m.Z,{hidden:!0,className:"mb-0 mt-0"}),s.createElement(Nt.Z,{disabled:r,label:h("organizations:shareWithSelectedOrgsRadio"),onChange:function(){return Z(Mt.SHARE_SELECTED)},checked:R===Mt.SHARE_SELECTED,"data-componentid":"".concat(o,"-share-with-all-checkbox")}),s.createElement(At.Z,{in:R===Mt.SHARE_SELECTED,orientation:"vertical",timeout:"auto"},s.createElement(s.Fragment,null,k&&s.createElement(l.v0,{warning:!0,className:"ml-4 mt-3"},s.createElement("p",null,h("applications:edit.sections.shareApplication.switchToSelectiveShareFromSharingWithAllSuborgsWarning"))),s.createElement(l.IX,{className:"pl-2",disabled:R!==Mt.SHARE_SELECTED,selectionComponent:!0,searchPlaceholder:h("transferList:searchPlaceholder",{type:"organizations"}),handleUnelectedListSearch:function(e,t){var n=t.value,i=[];if((0,c.Z)(n))I(v);else{W(n);var o=new RegExp((0,Tt.Z)(n),"i");v&&v.map((function(e){o.test(e.name)&&i.push(e)})),I(i)}},"data-componentId":"application-share-modal-organization-transfer-component"},s.createElement(l.Jv,{disabled:R!==Mt.SHARE_SELECTED,isListEmpty:!((null==O?void 0:O.length)>0),handleHeaderCheckboxChange:_,isHeaderCheckboxChecked:(null==L?void 0:L.length)===(null==v?void 0:v.length),listType:"unselected",listHeaders:[h("transferList:list.headers.1"),""],emptyPlaceholderContent:h("console:develop.placeholders.emptySearchResult.subtitles.0",{query:P})+". "+h("console:develop.placeholders.emptySearchResult.subtitles.1"),"data-testid":"application-share-modal-organization-transfer-component-all-items",emptyPlaceholderDefaultContent:h("transferList:list.emptyPlaceholders.default")},null==O?void 0:O.map((function(e,t){var n=null==e?void 0:e.name,i=-1!==L.findIndex((function(t){return t.id===e.id}));return s.createElement(l.qT,{disabled:R!==Mt.SHARE_SELECTED,handleItemChange:function(){return function(e){var t=Zt(L),n=t.findIndex((function(t){return t.id===e.id}));-1!==n?(t.splice(n,1),T(t)):(t.push(e),T(t))}(e)},key:t,listItem:n,listItemId:e.id,listItemIndex:t,isItemChecked:i,showSecondaryActions:!1,"data-testid":"application-share-modal-organization-transfer-component-unselected-organizations"})})))))),s.createElement(m.Z,{hidden:!0,className:"mb-0 mt-0"}),s.createElement(Nt.Z,{label:h("organizations:shareApplicationRadio"),onChange:function(){return Z(Mt.SHARE_ALL)},checked:R===Mt.SHARE_ALL,"data-componentid":"".concat(o,"-share-with-all-checkbox")}),s.createElement(l.kW,{inline:!0,popup:!0},h("organizations:shareApplicationInfo")),s.createElement(m.Z,{hidden:!0}),s.createElement(l.KM,{"data-componentid":"".concat(o,"-update-button"),onClick:Q},h("common:update"))))))};Dt.defaultProps={"data-componentid":"application-share-form"}},52391:(e,t,n)=>{"use strict";n.d(t,{E:()=>X});var i=n(54833),o=n(93129),a=n(3356),r=n(86727),l=n(17),c=n(5043),s=n(44194),u=n(10479),d=n(59673),p=n(47245),m=n(62508),f=n(89141),h=n(10909),g=n(12638),b=n(67127),v=n(34936),y=n(95165),E=n(93758),S=n(65735),w=n(9261),C=n(39521);(function(e){var t,n=e.setProtocol,i=e.availableProtocols,o=e.setSAMLProtocol,a=e["data-testid"],l=(0,u.$)().t;return s.createElement(r.pJ,{basic:!0,"data-testid":a},s.createElement(f.Z,null,(t=function(){var e=[];if(i.includes(w.AI.OIDC)){var t={description:C.y.resolveProtocolDescription(w.AI.OIDC),image:(0,S.B0)().oidc,name:C.y.resolveProtocolDisplayName(w.AI.OIDC),protocol:w.AI.OIDC};e.push(t)}if(i.includes(w.AI.SAML)){var n={description:"XML-based open security standard framework",image:(0,S.B0)().saml,name:C.y.resolveProtocolDisplayName(w.AI.SAML),protocol:w.AI.SAML};e.push(n)}if(i.includes(w.AI.WS_FEDERATION)){var o={description:C.y.resolveProtocolDescription(w.AI.WS_FEDERATION),image:(0,S.B0)()["passive-sts"],name:C.y.resolveProtocolDisplayName(w.AI.WS_FEDERATION),protocol:w.AI.WS_FEDERATION};e.push(o)}return i.map((function(t){if(t!==w.AI.OIDC&&t!==w.AI.SAML&&t!==w.AI.WS_FEDERATION){var n={description:t,image:s.createElement(r.Xo,{name:t,size:"tiny","data-testid":"".concat(a,"-item-image-inner")}),name:t,protocol:t};e.push(n)}})),e}(),s.createElement(f.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},s.createElement(f.Z.Column,{width:16},s.createElement("div",{"data-testid":a},s.createElement(r.X6,{as:"h2",className:"mb-1",compact:!0},l("applications:edit.sections.access.protocolLanding.heading")),s.createElement(r.xv,{muted:!0},l("applications:edit.sections.access.protocolLanding.subHeading")),s.createElement(m.Z,{hidden:!0}),!(0,b.Z)(t)&&Array.isArray(t)&&t.length>0&&s.createElement(y.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var i;return s.createElement(E.Xy,{key:t,raised:!1,"data-testid":null!==(i=e["data-testid"])&&void 0!==i?i:"technology-card-".concat((0,v.Z)(e.name)),onClick:e.protocol===w.AI.SAML?o:function(){return n(e.protocol)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",showOption:e.protocol===w.AI.SAML})})))))))))}).defaultProps={"data-testid":"protocol-landing"};var O=function(e){var t,n=e.setSAMLProtocol,i=e["data-testid"];return s.createElement(r.pJ,{basic:!0,"data-testid":i},s.createElement(f.Z,null,(t=[{image:(0,S.pr)().manual,mode:w.T6.MANUAL,name:C.y.resolveSAMLConfigModeDisplayName(w.T6.MANUAL)},{image:(0,S.pr)().fileBased,mode:w.T6.META_FILE,name:C.y.resolveSAMLConfigModeDisplayName(w.T6.META_FILE)},{image:(0,S.pr)().URLBased,mode:w.T6.META_URL,name:C.y.resolveSAMLConfigModeDisplayName(w.T6.META_URL)}],s.createElement(f.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},s.createElement(f.Z.Column,{width:16},s.createElement("div",{"data-testid":i},s.createElement(r.X6,{as:"h2",className:"mb-1",compact:!0},"Which mode are you using?"),s.createElement(r.xv,{muted:!0},"Select the mode of configuration for your SAML application."),s.createElement(m.Z,{hidden:!0}),!(0,b.Z)(t)&&Array.isArray(t)&&t.length>0&&s.createElement(y.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var i;return s.createElement(E.Xy,{key:t,raised:!1,"data-testid":null!==(i=e["data-testid"])&&void 0!==i?i:"technology-card-".concat((0,v.Z)(e.name)),onClick:function(){return n(e.mode)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",iconClass:e.mode===w.T6.META_FILE})})))))))))};O.defaultProps={"data-testid":"protocol-saml-configuration-mode-landing"};var I=n(84870),A=n(66651),L=n(24393),T=n(78537),N=n(76316),R=n(6776),Z=n(89608),x=n(55368),k=n(28894),U=n(79734),F=n(45330);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function W(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){var i;return i=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=P(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==P(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){_=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(i||[]);return o(r,"_invoke",{value:A(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function b(){}function v(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(Z([])));w&&w!==n&&i.call(w,r)&&(E=w);var C=y.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,r,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==P(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,i){var o=p;return function(a,r){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw r;return{value:e,done:!0}}for(i.method=a,i.arg=r;;){var l=i.delegate;if(l){var c=L(l,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?h:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=h,i.method="throw",i.arg=s.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(P(t)+" is not iterable")}return v.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new I(u(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(C),s(C,c,"Generator"),s(C,r,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function j(e,t,n,i,o,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(i,o)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){j(a,i,o,r,l,"next",e)}function l(e){j(a,i,o,r,l,"throw",e)}r(void 0)}))}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var X=function(e){var t=e.application,n=e.appId,b=e.appName,v=e.certificate,y=e.featureConfig,E=e.inboundProtocolConfig,P=e.inboundProtocols,M=e.isLoading,j=e.setIsLoading,V=e.onUpdate,H=e.allowedOriginList,X=e.onAllowedOriginsUpdate,z=e.onApplicationSecretRegenerate,Y=e.isInboundProtocolConfigRequestLoading,J=e.readOnly,q=e.template,K=e.extendedAccessConfig,$=e.applicationTemplateId,ee=e.isDefaultApplication,te=e.isSystemApplication,ne=e["data-componentid"],ie=(0,u.$)().t,oe=(0,r.fQ)().getLink,ae=(0,p.I0)(),re=(0,N.b)(t.id).mutate,le=(0,p.v9)((function(e){return e.application.meta.protocolMeta})),ce=(0,p.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),se=L.h.getState().config.deployment.tenant,ue=(0,p.v9)((function(e){return e.config.deployment.allowMultipleAppProtocols})),de=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),pe=(0,A.Z)().legacyAuthzRuntime,me=G((0,s.useState)(void 0),2),fe=me[0],he=me[1],ge=G((0,s.useState)([]),2),be=ge[0],ve=ge[1],ye=G((0,s.useState)(void 0),2),Ee=ye[0],Se=ye[1],we=G((0,s.useState)(!1),2),Ce=we[0],Oe=we[1],Ie=G((0,s.useState)(!1),2),Ae=Ie[0],Le=Ie[1],Te=G((0,s.useState)(!1),2),Ne=Te[0],Re=Te[1],Ze=G((0,s.useState)(void 0),2),xe=Ze[0],ke=Ze[1],Ue=G((0,s.useState)(!1),2),Fe=Ue[0],Pe=Ue[1],We=G((0,s.useState)(void 0),2),Me=We[0],De=We[1],Qe=(0,s.useRef)(null),_e=G((0,s.useState)([]),2),je=_e[0],Be=_e[1],Ge=function(){var e=B(_().mark((function e(t,i){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.abrupt("return",(0,T.lp)(n,t,i).then((function(){ae((0,a.V_)({description:ie("applications:notifications.updateInboundProtocolConfig.success.description"),level:o.QU.SUCCESS,message:ie("applications:notifications.updateInboundProtocolConfig.success.message")})),X()})).catch((function(e){var t;r=!0,null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?ae((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:ie("applications:notifications.updateInboundProtocolConfig.error.message")})):ae((0,a.V_)({description:ie("applications:notifications.updateInboundProtocolConfig.genericError.description"),level:o.QU.ERROR,message:ie("applications:notifications.updateInboundProtocolConfig.genericError.message")}))})).finally((function(){V(n),r||Ve()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(){q.id===Z.id&&Me&&fe===w.AI.SAML&&De(void 0)},He=function(e,t){j(!0),(0,T.hN)(D({id:n},e.general),!0).then(B(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ge(e.inbound,t);case 2:re();case 3:case"end":return n.stop()}}),n)})))).catch((function(e){e.response&&e.response.data&&e.response.data.description?ae((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:ie("applications:notifications.updateApplication.error.message")})):ae((0,a.V_)({description:ie("applications:notifications.updateApplication.genericError.description"),level:o.QU.ERROR,message:ie("applications:notifications.updateApplication.genericError.message")}))})).finally((function(){j(!1)}))},Xe=function(){(0,T.gh)(n).then((function(e){ae((0,a.V_)({description:ie("applications:notifications.regenerateSecret.success.description"),level:o.QU.SUCCESS,message:ie("applications:notifications.regenerateSecret.success.message")})),z(e.data),V(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?ae((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:ie("applications:notifications.regenerateSecret.error.message")})):ae((0,a.V_)({description:ie("applications:notifications.regenerateSecret.genericError.description"),level:o.QU.ERROR,message:ie("applications:notifications.regenerateSecret.genericError.message")}))}))},ze=function(){(0,T.rA)(n).then((function(){ae((0,a.V_)({description:ie("applications:notifications.revokeApplication.success.description"),level:o.QU.SUCCESS,message:ie("applications:notifications.revokeApplication.success.message")})),V(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?ae((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:ie("applications:notifications.revokeApplication.error.message")})):ae((0,a.V_)({description:ie("applications:notifications.revokeApplication.success.description"),level:o.QU.ERROR,message:ie("applications:notifications.revokeApplication.success.message")}))}))};(0,s.useEffect)((function(){P.length>0&&ve(P),he(null),Ye()}),[P]);var Ye=function(){var e=function(e){var t=null!=q&&q.authenticationProtocol?[q.authenticationProtocol]:Object.values(w.AI);return $===R.jo.CUSTOM_APPLICATION_SAML?[w.AI.SAML]:$===R.jo.CUSTOM_APPLICATION_OIDC||$===R.jo.M2M_APP_TEMPLATE_ID?[w.AI.OAUTH2_OIDC]:$===R.jo.CUSTOM_APPLICATION_PASSIVE_STS?[w.AI.WS_FEDERATION]:t=t.filter((function(t){return q&&q.id===Z.id&&I.applicationConfig.customApplication.allowedProtocolTypes&&I.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!I.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===w.AI.WS_TRUST||t===w.AI.CUSTOM||K&&t===w.AI.WS_FEDERATION||e&&t===e)&&t}))}();e=(0,c.Z)(e,(function(e){var t=Q(Q({},w.AI.OIDC,0),w.AI.SAML,1);return P.length>0&&P.forEach((function(e,n){Object.values(w.AI).includes(e)&&(t=D(D({},t),{},Q({},e,n)))})),t[e]})),fe||((null==q?void 0:q.templateId)===x.id&&P.length>0?he(P[0]):he(e[0])),Ee||Se(e)},Je=function(e,t){if(t){var n=P.find((function(e){return e===t}));n&&(ke(n),Le(!0))}},qe=function(e,t){if(t){var n=W(je);if(null!=n&&n.includes(t.accordionIndex)){var i=null==n?void 0:n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);Be(n)}},Ke=function(e){var t=e;return"oidc"===t&&(t=w.AI.OAUTH2_OIDC),C.y.resolveProtocolDisplayName(t)},$e=function(){return Ee?ue?s.createElement(f.Z.Row,null,s.createElement(f.Z.Column,{mobile:16,tablet:16,computer:10},Ee.map((function(e,t){return s.createElement(r.GI,{key:t,trigger:s.createElement(h.Z,{basic:!0,color:fe===e?"red":"grey",content:fe===e?"red":"grey",className:"mr-3 protocol-button",onClick:function(){return he(e)}},s.createElement(r.dn,{fill:fe===e?"primary":"accent1",inline:!0,transparent:!0,icon:(0,S.B0)()[e],size:"micro",spaced:"left",verticalAlign:"middle",className:"protocol-button-icon"}),s.createElement("div",{className:"protocol-change-title"},C.y.resolveProtocolDisplayName(e))),content:C.y.resolveProtocolDescription(e),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})})),s.createElement(m.Z,{hidden:!0}),s.createElement(m.Z,null))):$===w.u.M2M_APPLICATION?s.createElement(s.Fragment,null,s.createElement(g.Z,{as:"h3",className:"display-flex"},s.createElement(r.dn,{transparent:!0,width:"auto",icon:(0,S.B0)()[w.AI.OAUTH2],size:"x30",verticalAlign:"middle"}),s.createElement(g.Z.Content,{className:"mt-1"},s.createElement("strong",null,C.y.resolveProtocolDisplayName(w.AI.OAUTH2)))),et(),s.createElement(m.Z,{hidden:!0})):s.createElement(s.Fragment,null,s.createElement(g.Z,{as:"h3",className:"display-flex"},s.createElement(r.dn,{transparent:!0,width:"auto",icon:(0,S.B0)()[fe],size:"x30",verticalAlign:"middle"}),s.createElement(g.Z.Content,{className:"mt-1"},s.createElement("strong",null," ",C.y.resolveProtocolDisplayName(fe)," "))),et(),s.createElement(m.Z,{hidden:!0})):null},et=function(){return fe===w.AI.OIDC?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},ie("applications:forms.inboundOIDC.description",{protocol:C.y.resolveProtocolDisplayName(w.AI.OIDC)}),s.createElement(r.eb,{link:oe("develop.applications.editApplication.oidcApplication.protocol.learnMore")},ie("common:learnMore"))):fe===w.AI.OAUTH2_OIDC?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},ie("applications:forms.inboundOIDC.description",{protocol:C.y.resolveProtocolDisplayName($===w.u.M2M_APPLICATION?w.AI.OAUTH2:w.AI.OAUTH2_OIDC)}),s.createElement(r.eb,{link:oe("develop.applications.editApplication.oidcApplication.protocol.learnMore")},ie("common:learnMore"))):fe===w.AI.SAML?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},ie("applications:forms.inboundSAML.description"),s.createElement(r.eb,{link:oe("develop.applications.editApplication.samlApplication.protocol.learnMore")},ie("common:learnMore"))):fe===w.m5.CAS?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},ie("applications:forms.inboundOIDC.description",{protocol:C.y.resolveProtocolDisplayName(w.m5.CAS)})):fe===w.m5.JWT_SSO?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},ie("applications:forms.inboundOIDC.description",{protocol:C.y.resolveProtocolDisplayName(w.m5.JWT_SSO)})):null};(0,s.useEffect)((function(){var e=Object.values(w.Ii);(null==q?void 0:q.templateId)===x.id&&(e=P),e.map((function(e){if(e!==w.AI.WS_FEDERATION&&e!==w.AI.WS_TRUST){var t=e;Object.prototype.hasOwnProperty.call(le,t)||(0,T.WL)(t).then((function(e){ae((0,k.vX)(t,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?ae((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:ie("applications:notifications.fetchProtocolMeta.error.message")})):ae((0,a.V_)({description:ie("applications:notifications.fetchProtocolMeta.genericError.description"),level:o.QU.ERROR,message:ie("applications:notifications.fetchProtocolMeta.genericError.message")}))}))}}))}),[P]);return M||Fe||Y?s.createElement(r.pJ,{padded:"very"},s.createElement(r.pO,{inline:"centered",active:!0})):fe||0!==P.length||ue||$!==R.jo.CUSTOM_APPLICATION_SAML?s.createElement(f.Z,null,s.createElement(s.Fragment,null,Ye(),q&&s.createElement(f.Z.Row,null,s.createElement(f.Z.Column,{mobile:16,tablet:16,computer:16},function(){var e,n;if(!fe||be.length<1)return null;var o,a;return s.createElement(r.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:Qe},be.length>1?be.map((function(e,n){var o,a;return Object.values(w.AI).includes(e)?s.createElement(L.Us,{key:n,globalActions:!J&&[{icon:"trash alternate",onClick:Je,type:"icon"}],authenticators:[{actions:[],content:e&&s.createElement(U.XH,{onUpdate:V,application:t,isLoading:M,setIsLoading:j,certificate:v,tenantDomain:se,allowedOrigins:H,metadata:le[e===w.AI.OAUTH2_OIDC?w.AI.OIDC:e],initialValues:(0,l.Z)(E,e===w.AI.OAUTH2_OIDC?w.AI.OIDC:e)?E[e===w.AI.OAUTH2_OIDC?w.AI.OIDC:e]:void 0,onSubmit:function(t){return He(t,e)},type:e,onApplicationRegenerate:Xe,onApplicationRevoke:ze,readOnly:J||!(0,i.Xr)(null==y?void 0:y.applications,null==y||null===(o=y.applications)||void 0===o||null===(o=o.scopes)||void 0===o?void 0:o.update,ce,de,pe),showSAMLCreation:e===w.AI.SAML,SAMLCreationOption:e===w.AI.SAML&&Me,template:q,"data-testid":"".concat(ne,"-inbound-").concat(e,"-form"),"data-componentid":"".concat(ne,"-inbound-").concat(e,"-form"),containerRef:Qe,isDefaultApplication:ee,isSystemApplication:te}),icon:{icon:(0,S.B0)()[e],size:"micro"},id:e,title:Ke(e)}],accordionActiveIndexes:je,accordionIndex:n,handleAccordionOnClick:qe,"data-testid":"".concat(ne,"-accordion"),"data-componentid":"".concat(ne,"-accordion")}):s.createElement(U.XH,{onUpdate:V,application:t,isLoading:M,setIsLoading:j,certificate:v,metadata:le[e===w.AI.OAUTH2_OIDC?w.AI.OIDC:e],initialValues:(0,l.Z)(E,e===w.AI.OAUTH2_OIDC?w.AI.OIDC:e)?E[e===w.AI.OAUTH2_OIDC?w.AI.OIDC:e]:void 0,onSubmit:function(t){return He(t,e)},type:w.AI.CUSTOM,readOnly:!(0,i.Xr)(null==y?void 0:y.applications,null==y||null===(a=y.applications)||void 0===a||null===(a=a.scopes)||void 0===a?void 0:a.update,ce,de,pe),template:q,"data-testid":"".concat(ne,"-inbound-custom-form"),"data-componentid":"".concat(ne,"-inbound-custom-form"),containerRef:Qe})})):1===be.length?s.createElement("div",{className:"form-container with-max-width"},M?null:$e(),(o=void 0,a=void 0,$===R.jo.CUSTOM_APPLICATION_OIDC&&(o=oe("develop.applications.editApplication.standardBasedApplication.oauth2OIDC.protocol.learnMore"),a="applications:forms.inboundOIDC.documentation"),$===R.jo.CUSTOM_APPLICATION_SAML&&(o=oe("develop.applications.editApplication.standardBasedApplication.saml.protocol.learnMore"),a="applications:forms.inboundSAML.documentation"),o?s.createElement(s.Fragment,null,s.createElement(r.v0,{visible:!0,type:"info",content:s.createElement(d.c,{i18nKey:a,tOptions:{protocol:C.y.resolveProtocolDisplayName(fe)}},"Read through our",s.createElement(r.eb,{link:o},"documentation"),"to learn more about using",s.createElement(r.EK,{withBackground:!1},C.y.resolveProtocolDisplayName(fe)),"protocol to implement login in your applications.")}),s.createElement(m.Z,{hidden:!0})):null),Object.values(w.AI).includes(fe)?s.createElement(U.XH,{onUpdate:V,application:t,isLoading:M,setIsLoading:j,certificate:v,tenantDomain:se,allowedOrigins:H,metadata:le[fe===w.AI.OAUTH2_OIDC?w.AI.OIDC:fe],initialValues:(0,l.Z)(E,fe===w.AI.OAUTH2_OIDC?w.AI.OIDC:fe)?E[fe===w.AI.OAUTH2_OIDC?w.AI.OIDC:fe]:void 0,onSubmit:function(e){return He(e,fe)},type:fe,onApplicationRegenerate:Xe,onApplicationRevoke:ze,readOnly:J||!(0,i.Xr)(null==y?void 0:y.applications,null==y||null===(e=y.applications)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,ce,de,pe),showSAMLCreation:fe===w.AI.SAML,SAMLCreationOption:fe===w.AI.SAML&&Me,template:q,"data-testid":"".concat(ne,"-inbound-").concat(fe,"-form"),"data-componentid":"".concat(ne,"-inbound-").concat(fe,"-form"),containerRef:Qe,isDefaultApplication:ee,isSystemApplication:te}):s.createElement(U.XH,{onUpdate:V,application:t,isLoading:M,setIsLoading:j,certificate:v,metadata:le[fe===w.AI.OAUTH2_OIDC?w.AI.OIDC:fe],initialValues:(0,l.Z)(E,fe===w.AI.OAUTH2_OIDC?w.AI.OIDC:fe)?E[fe===w.AI.OAUTH2_OIDC?w.AI.OIDC:fe]:void 0,onSubmit:function(e){return He(e,fe)},type:w.AI.CUSTOM,readOnly:!(0,i.Xr)(null==y?void 0:y.applications,null==y||null===(n=y.applications)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update,ce,de,pe),template:q,"data-testid":"".concat(ne,"-inbound-custom-form"),"data-componentid":"".concat(ne,"-inbound-custom-form"),containerRef:Qe})):void 0)}())),(null==P?void 0:P.length)<1&&s.createElement(f.Z.Row,null,s.createElement(f.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(r.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:Qe},s.createElement(r.$J,{title:ie("applications:edit.sections.protocol.title"),subtitle:[ie("applications:edit.sections.protocol.subtitle")],action:s.createElement(r.KM,{onClick:function(){return Oe(!0)}},ie("applications:edit.sections.protocol.button")),image:(0,L.jF)().emptyList,imageSize:"tiny"})))),Ce&&s.createElement(F.e8,{title:ie("applications:edit.sections.access.addProtocolWizard.heading"),subTitle:ie("applications:edit.sections.access.addProtocolWizard.subHeading",{appName:b}),closeWizard:function(){return Oe(!1)},addProtocol:!0,selectedProtocols:P,onUpdate:V,appId:n,"data-testid":"".concat(ne,"-protocol-add-wizard")}),Ae&&s.createElement(r.cV,{onClose:function(){return Le(!1)},type:"negative",open:Ae,assertion:xe,assertionHint:s.createElement("p",null,s.createElement(d.c,{i18nKey:"applications:confirmations.deleteProtocol.assertionHint",tOptions:{name:xe}},"Please type ",s.createElement("strong",null,xe)," to confirm.")),assertionType:"input",primaryAction:ie("common:confirm"),secondaryAction:ie("common:cancel"),onSecondaryActionClick:function(){return Le(!1)},onPrimaryActionClick:function(){var e;e=xe,(0,T.yY)(n,e).then((function(){ae((0,a.V_)({description:ie("applications:notifications.deleteProtocolConfig.success.description",{protocol:e}),level:o.QU.SUCCESS,message:ie("applications:notifications.deleteProtocolConfig.success.message")})),V(n)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?ae((0,a.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:o.QU.ERROR,message:ie("applications:notifications.deleteProtocolConfig.error.message")})):ae((0,a.V_)({description:ie("applications:notifications.deleteProtocolConfig.genericError.description"),level:o.QU.ERROR,message:ie("applications:notifications.deleteProtocolConfig.genericError.message")}))})),Le(!1)},"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(r.cV.Header,{"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-header")},ie("applications:confirmations.deleteProtocol.header")),s.createElement(r.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-message")},ie("applications:confirmations.deleteProtocol.message")),s.createElement(r.cV.Content,{"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-content")},ie("applications:confirmations.deleteProtocol.content"))),Ne&&s.createElement(r.cV,{onClose:function(){return Le(!1)},type:"negative",open:Ne,primaryAction:ie("common:confirm"),secondaryAction:ie("common:cancel"),onSecondaryActionClick:function(){Re(!1)},onPrimaryActionClick:function(){var e;e=fe,Pe(!0),(0,T.yY)(n,e).then((function(){V(n)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?ae((0,a.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:o.QU.ERROR,message:ie("applications:notifications.deleteProtocolConfig.error.message")})):ae((0,a.V_)({description:ie("applications:notifications.deleteProtocolConfig.genericError.description"),level:o.QU.ERROR,message:ie("applications:notifications.deleteProtocolConfig.genericError.message")}))})).finally((function(){Pe(!1),he(void 0)})),Re(!1)},"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(r.cV.Header,{"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-header")},ie("applications:confirmations.changeProtocol.header")),s.createElement(r.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-message")},ie("applications:confirmations.changeProtocol.message",{name:fe})),s.createElement(r.cV.Content,{"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-content")},ie("applications:confirmations.changeProtocol.content"))))):s.createElement(O,{setSAMLProtocol:function(e){De(e),he(w.AI.SAML),be.push(w.AI.SAML)}})};X.defaultProps={"data-componentid":"application-access-configuration",extendedAccessConfig:!1}},13639:(e,t,n)=>{"use strict";n.d(t,{I:()=>Xs});var i={};n.r(i),n.d(i,{DefaultBasicLoginSequence:()=>lr});var o={};n.r(o),n.d(o,{EmailOTPSecondFactorLoginSequence:()=>cr,SMSOTPSecondFactorLoginSequence:()=>sr,TOTPSecondFactorLoginSequence:()=>ur});var a={};n.r(a),n.d(a,{EmailOTPPasswordlessLoginSequence:()=>dr,FIDO2PasswordlessLoginSequence:()=>mr,MagicLinkPasswordlessLoginSequence:()=>pr,SmsOtpPasswordlessLoginSequence:()=>fr});var r={};n.r(r),n.d(r,{AppleSocialLoginSequence:()=>hr,FacebookSocialLoginSequence:()=>gr,GithubSocialLoginSequence:()=>br,GoogleSocialLoginSequence:()=>vr});var l={};n.r(l),n.d(l,{BasicLoginSequences:()=>i,MFALoginSequences:()=>o,PasswordlessLoginSequences:()=>a,SocialLoginSequences:()=>r});var c=n(44194),s=n(47245),u=n(93129),d=n(3356),p=n(14045),m=n(86727),f=n(46440),h=n(67127),g=n(10479),b=n(59673),v=n(62508),y=n(90988),E=n(59149),S=n(39174),w=n(19831),C=n(26507),O=n(8534),I=n(51865),A=n.n(I),L=n(42155),T=["mode","open","onClose","data-componentid"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},N.apply(this,arguments)}function R(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Z=function(e){var t=e.mode,n=e.open,i=e.onClose,o=e["data-componentid"],a=R(e,T),r=(0,g.$)().t;return c.createElement(m.cV,N({open:n,onClose:i,type:"warning",closeOnDimmerClick:!1,assertionHint:r("authenticationFlow:modes.switchConfirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:r("authenticationFlow:modes.switchConfirmationModal.primaryActionButtonText"),secondaryAction:r("authenticationFlow:modes.switchConfirmationModal.secondaryActionButtonText"),"data-componentid":o,onPrimaryActionClick:function(){return i(null,null)},onSecondaryActionClick:function(e){return i(e,null)}},a),c.createElement(m.cV.Header,{"data-componentid":"".concat(o,"-header")},r("authenticationFlow:modes.switchConfirmationModal.title")),c.createElement(m.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(o,"-message")},c.createElement(b.c,{i18nKey:"authenticationFlow:modes.switchConfirmationModal.warningMessage",tOptions:{mode:t.label}},"If you switch to the ",c.createElement("strong",null,t.label),", you will loose the unsaved changes in the current flow. Please proceed with caution.")),c.createElement(m.cV.Content,{"data-componentid":"".concat(o,"-content")},r("authenticationFlow:modes.switchConfirmationModal.content")))};Z.defaultProps={"data-componentid":"authentication-flow-mode-switch-disclaimer-modal"};const x=Z;var k=n(73150),U=n(15212),F=n(95817),P=n(24393),W=n(25220),M=n(82586),D=n(54833),Q=n(66936),_=n(34936),j=n(50350),B=n(2189),G=n(80254),V=n(47018),H=n(26154),X=n(12950),z=n(37077),Y=n(95165),J=n(77757),q=n(89141),K=n(61763),$=n(84870),ee=n(30463),te=n(63334),ne=n(2332),ie=n(37008),oe=n(51718),ae=n(91489),re=n(62517),le=n(6776);function ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ge(i.key),i)}}function he(e,t,n){return(t=ge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e){var t=function(e,t){if("object"!=se(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=se(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==se(t)?t:t+""}var be=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"isSecondFactorAdditionValid",value:function(e,t,n){var i=de(this.getLeftAndRightSideSteps(t,n),1)[0];return e===ne.b.TOTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(le.jo.TOTP_HANDLERS,i):e===ne.b.EMAIL_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(le.jo.EMAIL_OTP_HANDLERS,i):e===ne.b.SMS_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(le.jo.SMS_OTP_HANDLERS,i):this.hasSpecificFactorsInSteps(le.jo.FIRST_FACTOR_AUTHENTICATORS,i)}},{key:"isFirstFactorValid",value:function(e,t){var n;return!(null===(n=t[e])||void 0===n||null===(n=n.options)||void 0===n?void 0:n.find((function(e){return e.authenticator===ne.b.IDENTIFIER_FIRST_AUTHENTICATOR||e.authenticator===ne.b.BASIC_AUTHENTICATOR})))}},{key:"isConnectionsJITUPConflictWithMFA",value:function(e){var t=e.federatedAuthenticators,n=e.steps,i=e.subjectStepId;try{var o=(0,re.Z)(n.filter((function(e){return e.id===i})).map((function(e){return e.options}))),a=ue(new Set(o.map((function(e){return e.idp})))).map((function(e){return t.find((function(t){return t.name===e}))})).filter(Boolean).filter((function(e){var t;return!(null!=e&&null!==(t=e.provisioning)&&void 0!==t&&null!==(t=t.jit)&&void 0!==t&&t.isEnabled)}));if(n.length<2)return{conflicting:!1,idpList:[]};var r=(0,re.Z)(n.slice(1).map((function(e){return e.options}))),l=new Set(le.jo.SECOND_FACTOR_AUTHENTICATORS),c=r.filter((function(e){return l.has(e.authenticator)}));return{conflicting:a.length>0&&c.length>0,idpList:null!=a?a:[]}}catch(s){return{conflicting:!1,idpList:[]}}}},{key:"isFederatedConflictWithSMSOTP",value:function(e){var t=e.federatedAuthenticators,n=e.steps,i=e.subjectStepId;try{var o=(0,re.Z)(n.filter((function(e){return e.id===i})).map((function(e){return e.options}))),a=ue(new Set(o.map((function(e){return e.idp})))).map((function(e){return t.find((function(t){return t.name===e}))})).filter(Boolean);if(n.length<2)return{conflicting:!1,idpList:[]};var r=(0,re.Z)(n.slice(1).map((function(e){return e.options}))),l=r.some((function(e){return"sms-otp-authenticator"===e.authenticator}));return{conflicting:a.length>0&&l,idpList:null!=a?a:[]}}catch(c){return{conflicting:!1,idpList:[]}}}},{key:"countTwoFactorAuthenticatorsInCurrentStep",value:function(e,t){return t[e].options.filter((function(e){return e.authenticator===ne.b.TOTP_AUTHENTICATOR||e.authenticator===ne.b.EMAIL_OTP_AUTHENTICATOR||e.authenticator===ne.b.SMS_OTP_AUTHENTICATOR})).length}},{key:"hasSpecificAuthenticatorInCurrentStep",value:function(e,t,n){return!!n[t].options.find((function(t){return t.authenticator===e}))}}],(t=null)&&fe(e.prototype,t),n&&fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function ve(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}he(be,"getLeftAndRightSideSteps",(function(e,t){return[0!==e?t.slice(0,e):[],e+1 in t?t.slice(e+1):[],e+1 in t?t.slice(e+1,e+2):[]]})),he(be,"hasSpecificFactorsInSteps",(function(e,t){var n,i=!1,o=ce(t);try{for(o.s();!(n=o.n()).done;){var a,r=ce(n.value.options);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(e.includes(l.authenticator)){i=!0;break}}}catch(c){r.e(c)}finally{r.f()}if(i)break}}catch(c){o.e(c)}finally{o.f()}return i})),he(be,"getImmediateStepHavingSpecificFactors",(function(e,t){var n,i=!1,o=-1,a=ce(t.entries());try{for(a.s();!(n=a.n()).done;){var r,l=de(n.value,2),c=l[0],s=ce(l[1].options);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(e.includes(u.authenticator)){i=!0,o=c;break}}}catch(d){s.e(d)}finally{s.f()}if(i)break}}catch(d){a.e(d)}finally{a.f()}return o})),he(be,"checkImmediateStepHavingSpecificFactors",(function(e,t){var n,i=!1,o=ce(t.entries());try{for(o.s();!(n=o.n()).done;){var a,r=ce(de(n.value,2)[1].options);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(e.includes(l.authenticator)){i=!0;break}}}catch(c){r.e(c)}finally{r.f()}if(i)break}}catch(c){o.e(c)}finally{o.f()}return i})),he(be,"countSpecificFactorInSteps",(function(e,t){var n,i=0,o=ce(t);try{for(o.s();!(n=o.n()).done;){var a,r=ce(n.value.options);try{for(r.s();!(a=r.n()).done;){var l=a.value;e.includes(l.authenticator)&&i++}}catch(c){r.e(c)}finally{r.f()}}}catch(c){o.e(c)}finally{o.f()}return i}));var we=function(e){var t=e.authenticators,n=e.authenticationSteps,i=e.currentStep,o=e.defaultName,a=e.heading,r=e.onAuthenticatorSelect,l=e.selected,u=e.showLabels,d=e["data-testid"],p=(0,g.$)().t,f=(0,K.Z)().UIConfig,h=null==f?void 0:f.connectionResourcesUrl,v=ye((0,c.useState)(void 0),2),y=v[0],S=v[1],w=A()("authenticator",{"with-labels":u}),C=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment}));(0,c.useEffect)((function(){l&&S(l)}),[l]);var O=function(e){if(e.category===oe.Xi.SECOND_FACTOR)return 0!==i&&be.isSecondFactorAdditionValid(e.defaultAuthenticator.authenticatorId,i,n);if(e.name===ne.b.BACKUP_CODE_AUTHENTICATOR)return 0!==i&&be.countTwoFactorAuthenticatorsInCurrentStep(i,n)>0;if([ne.b.IDENTIFIER_FIRST_AUTHENTICATOR_ID,ne.b.BASIC_AUTHENTICATOR_ID].includes(e.id))return be.isFirstFactorValid(i,n);if(e.name===ne.b.SESSION_EXECUTOR_AUTHENTICATOR){var t;if(0!==(null===(t=n[i])||void 0===t||null===(t=t.options)||void 0===t?void 0:t.length))return!1;var o=ye(be.getLeftAndRightSideSteps(i,n),1)[0];if(!be.hasSpecificFactorsInSteps(ae.j.ACTIVE_SESSIONS_LIMIT_HANDLERS,o))return!1}return!0},I=function(e){var t,o,a,r=c.createElement(z.Z,{attached:"top"},c.createElement(H.Z,{name:"info circle"})," Info");return e.category===oe.Xi.SECOND_FACTOR?c.createElement(c.Fragment,null,0===i?c.createElement(c.Fragment,null,r,c.createElement(m.xv,null,null!==(t=$.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabledInFirstStep)&&void 0!==t?t:p("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabledInFirstStep"))):c.createElement(c.Fragment,null,r,c.createElement(m.xv,null,null!==(o=$.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabled)&&void 0!==o?o:c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabled"},"The second-factor authenticators can only be used if"," ",c.createElement(m.EK,{withBackground:!0},"Username & Password"),","," ",c.createElement(m.EK,{withBackground:!0},"Social Login"),",",c.createElement(m.EK,{withBackground:!0},"Passkey"),"or any other handlers that can handle these factors are present in a previous step.")))):e.name===ne.b.BACKUP_CODE_AUTHENTICATOR?c.createElement(c.Fragment,null,0===i?c.createElement(c.Fragment,null,r,c.createElement(m.xv,null,p("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabledInFirstStep"))):c.createElement(c.Fragment,null,r,c.createElement(m.xv,null,p("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabled")))):e.category===oe.Xi.SOCIAL?c.createElement(c.Fragment,null,r,c.createElement(m.xv,null,p("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.authenticatorDisabled"))):[ne.b.IDENTIFIER_FIRST_AUTHENTICATOR_ID,ne.b.BASIC_AUTHENTICATOR_ID].includes(e.id)?c.createElement(c.Fragment,null,r,c.createElement(m.xv,null,p("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.firstFactorDisabled"))):e.name===ne.b.SESSION_EXECUTOR_AUTHENTICATOR?c.createElement(c.Fragment,null,r,c.createElement(m.xv,null,0!==(null===(a=n[i])||void 0===a||null===(a=a.options)||void 0===a?void 0:a.length)?p("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.sessionExecutorDisabledInMultiOptionStep"):p("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.sessionExecutorDisabledInFirstStep"))):void 0},L=function(e){var t;return e&&null!==(t=ie.C.getAuthenticatorLabels(null==e?void 0:e.defaultAuthenticator))&&void 0!==t?t:[]},T=function(e){var t;return C&&(null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===ee.fB.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID?c.createElement(E.Z,{size:"small",label:p("common:beta").toUpperCase(),className:"oxygen-chip-beta"}):null};return c.createElement(c.Fragment,{"data-testid":d},a&&c.createElement(m.X6,{as:"h6"},a),t.map((function(e,t){var n;return e.id===ne.b.BACKUP_CODE_AUTHENTICATOR_ID?null:c.createElement(m.GI,{hoverable:!0,hideOnScroll:!0,position:"top center",key:t,on:"hover",disabled:O(e),content:I(e),trigger:c.createElement(m.rJ,{showTooltips:!0,imageSize:"micro",className:w,header:e.displayName||o,disabled:!O(e),selected:O(e)&&Array.isArray(y)&&y.some((function(t){return t.id===e.id})),subHeader:e.categoryDisplayName,description:e.description,featureStatus:T(e),image:e.idp===oe.Xi.LOCAL||(null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.authenticatorId)===ee.fB.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID?e.image:te.Zs.resolveConnectionResourcePath(h,e.image),tags:u&&L(e),onClick:function(){O(e)&&function(e){if(e.isEnabled){if(y.some((function(t){return t.id===e.id}))){var t=y.filter((function(t){return t.id!==e.id}));return r(t),void S(t)}r([].concat(ve(y),[e])),S([].concat(ve(y),[e]))}}(e)},imageOptions:{floated:!1,inline:!0},"data-testid":"".concat(d,"-authenticator-").concat(e.name),showCardAction:!1,showSetupGuideButton:!1})})})))};we.defaultProps={"data-testid":"authenticators",defaultName:"Unknown",showLabels:!0};var Ce=n(14323),Oe=n(11996),Ie=(0,c.createContext)(null);Ie.displayName="AuthenticationFlowContext";const Ae=Ie;var Le=n(48581);const Te=function(){var e=(0,c.useContext)(Le.Z);if(void 0===e)throw new Error("useUserPreferences must be used within a UserPreferencesProvider");return e};function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ze(e,t,n){var i;return i=function(e,t){if("object"!=Ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ne(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ne(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xe=function(){var e=(0,c.useContext)(Ae),t=Te(),n=t.setPreferences,i=t.preferredAuthenticationFlowBuilderMode;if(void 0===e)throw new Error("UseAuthenticationFlow must be used within a AuthenticationFlowProvider");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({preferredAuthenticationFlowBuilderMode:i,setPreferredAuthenticationFlowBuilderMode:function(e){n({preferredAuthenticationFlowBuilderMode:e})}},e)};var ke=n(69772),Ue=n(69594),Fe=n(8449),Pe=n(104),We=n(61137),Me=n(32459),De=n(65735);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}var _e=["allowSocialLoginAddition","authenticationSteps","authenticators","className","currentStep","header","onClose","open","onIDPCreateWizardTrigger","onModalSubmit","message","showStepSelector","stepCount","showLabels","data-testid"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},je.apply(this,arguments)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){var i;return i=function(e,t){if("object"!=Qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Qe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Qe(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Je(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var qe=function(e){var t=e.allowSocialLoginAddition,n=e.authenticationSteps,i=e.authenticators,o=e.className,a=e.currentStep,r=e.header,l=e.onClose,u=e.open,d=e.onIDPCreateWizardTrigger,p=e.onModalSubmit,f=e.message,b=e.showStepSelector,y=e.stepCount,E=e.showLabels,S=e["data-testid"],w=Je(e,_e),C=(0,g.$)().t,O=(0,m.fQ)().getLink,I=xe().hiddenAuthenticators,L=(0,Q.Z)().deploymentConfig,T=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment})),N=(0,s.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.hiddenConnectionTemplates})),R=(0,s.v9)((function(e){var t;return null===(t=e.identityProvider)||void 0===t?void 0:t.groupedTemplates})),Z=(0,s.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),x=Ue.l.getInstance(),k=Xe((0,c.useState)(u),1)[0],U=Xe((0,c.useState)([]),2),F=U[0],P=U[1],W=Xe((0,c.useState)([]),2),M=W[0],D=W[1],K=Xe((0,c.useState)([]),2),$=K[0],ae=K[1],re=Xe((0,c.useState)(y),2),le=re[0],ce=re[1],se=Xe((0,c.useState)(null),2),ue=se[0],de=se[1],pe=Xe((0,c.useState)(!1),2),me=pe[0],fe=pe[1],he=Xe((0,c.useState)([]),2),ge=he[0],be=he[1],ve=Xe((0,c.useState)([]),2),ye=ve[0],Ee=ve[1],Se=Xe((0,c.useState)([]),2),Ie=Se[0],Ae=Se[1];(0,c.useEffect)((function(){R||We.b.getIdentityProviderTemplates()}),[R]),(0,c.useEffect)((function(){if(i){var e=[].concat(He(Le(i.local,oe.Xi.LOCAL,C(ie.C.getAuthenticatorTypeDisplayName(oe.Xi.LOCAL)))),He(Le(i.social,oe.Xi.SOCIAL,C(ie.C.getAuthenticatorTypeDisplayName(oe.Xi.SOCIAL)))),He(Le(i.secondFactor,oe.Xi.SECOND_FACTOR,C(ie.C.getAuthenticatorTypeDisplayName(oe.Xi.SECOND_FACTOR)))),He(Le(i.enterprise,oe.Xi.ENTERPRISE,C(ie.C.getAuthenticatorTypeDisplayName(oe.Xi.ENTERPRISE)))),He(Le(i.recovery,oe.Xi.RECOVERY,C(ie.C.getAuthenticatorTypeDisplayName(oe.Xi.RECOVERY)))));e=Z===Me.$B.SUBORGANIZATION&&null!==Oe.identityProviderConfig&&void 0!==Oe.identityProviderConfig&&Oe.identityProviderConfig.disableSMSOTPInSubOrgs?e.filter((function(e){var t;return e.name!==ne.b.SMS_OTP_AUTHENTICATOR_ID&&e.name!==(null===Ce.authenticatorConfig||void 0===Ce.authenticatorConfig||null===(t=Ce.authenticatorConfig.overriddenAuthenticatorNames)||void 0===t?void 0:t.SMS_OTP_AUTHENTICATOR)})):e,ae(e),D(e),Te(e)}}),[i]);var Le=function(e,t,n){return(0,h.Z)(e)?[]:!I||!Array.isArray(I)||I.length<1?e:e.filter((function(e){return!I.includes(e.name)})).map((function(e){return Ge(Ge({},e),{},{category:t,categoryDisplayName:n})}))},Te=function(e){var t=[];e.filter((function(e){Pe.z.getAuthenticatorLabels(e).filter((function(e){t.includes(e)||t.push(e)}))})),be(t)},Ne=function(e,t){var n=t.value.toLocaleLowerCase();de(n),ae(Re(n,ye))},Re=function(e,t){var n=function(e){return!!(0,h.Z)(t)||Pe.z.getAuthenticatorLabels(e).some((function(e){return t.includes(e)}))};return M.filter((function(t){var i,o,a;return e?(null==t||null===(i=t.displayName)||void 0===i?void 0:i.toLocaleLowerCase()).includes(e)||Pe.z.getAuthenticatorLabels(t).some((function(t){var n,i;return(null==t||null===(n=t.toLocaleLowerCase())||void 0===n?void 0:n.includes(e))||(null===(i=(0,B.Z)(t))||void 0===i||null===(i=i.toLocaleLowerCase())||void 0===i?void 0:i.includes(e))}))||null!==(o=t.category)&&void 0!==o&&null!==(o=o.toLocaleLowerCase())&&void 0!==o&&o.includes(e)||null!==(a=t.categoryDisplayName)&&void 0!==a&&null!==(a=a.toLocaleLowerCase())&&void 0!==a&&a.includes(e)?n(t):void 0:n(t)}))},Ze=function(){if(R)(e=R,We.b.categorizeTemplates(e).then((function(e){var t=[];e.filter((function(e){e.templates=(0,j.Z)(e.templates,["comingSoon"],["desc"]),e.templates.filter((function(e){null!=e&&e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(t=(0,G.Z)(t,e.tags))}))})),Ae(e)})).catch((function(){Ae([])}))).then((function(){return fe(!0)}));else var e};return c.createElement(V.Z,je({className:A()("add-authenticator-modal",o),"data-testid":S,open:k},w),c.createElement(V.Z.Header,null,r),b&&c.createElement(V.Z.Content,{className:"step-selection-dropdown-container"},c.createElement(c.Fragment,null,c.createElement(m.X6,{as:"h5"},C("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.label")),c.createElement(m.kW,null,C("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.hint")),c.createElement(J.Z,null,c.createElement(J.Z.Field,{inline:!0},c.createElement(J.Z.Select,{scrolling:!0,placeholder:C("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.placeholder"),options:function(){for(var e=[],t=0;t<y;t++)e.push({key:t,text:"".concat(C("common:step")," ").concat(t+1),value:t+1});return e}(),onChange:function(e,t){var n=t.value;ce(parseInt(n,10))},value:le,"data-testid":"".concat(S,"-step-select")}))))),me&&Ie?c.createElement(V.Z.Content,{scrolling:!0,className:"authenticator-container"},c.createElement("div",{className:"page-header-wrapper"},c.createElement("div",{className:"back-button mb-0",onClick:function(){return fe(!1)}},c.createElement(H.Z,{name:"arrow left"}),C("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.goBackButton"))),c.createElement(v.Z,{hidden:!0}),Ie.map((function(e,t){return c.createElement(m.Q8,{key:t,isEmpty:!(null!=e&&e.templates&&Array.isArray(e.templates)&&e.templates.length>0),emptyPlaceholder:c.createElement(m.$J,{image:(0,ke.jF)().newList,imageSize:"tiny",title:C("authenticationProvider:placeHolders.emptyConnectionTypeList.title"),subtitle:[C("authenticationProvider:placeHolders.emptyConnectionTypeList.subtitles.0"),C("authenticationProvider:placeHolders.emptyConnectionTypeList.subtitles.1")],"data-testid":"".concat(S,"-empty-placeholder")})},e.templates.map((function(e,t){var n;if([ee.vs.IDP_TEMPLATE_IDS.LINKEDIN,ee.vs.IDP_TEMPLATE_IDS.ORGANIZATION_ENTERPRISE_IDP,ee.vs.TRUSTED_TOKEN_TEMPLATE_ID].concat(He(N)).includes(null==e?void 0:e.templateId))return null;var i=e.disabled,o=void 0;return e.id===ee.vs.IDP_TEMPLATE_IDS.APPLE&&(null===(n=new URL(null==L?void 0:L.serverOrigin))||void 0===n?void 0:n.hostname)===ee.vs.LOCAL_SERVER_URL&&(i=!0,o=C("console:develop.pages.authenticationProviderTemplate.disabledHint.apple")),c.createElement(m.Q8.Card,{showSetupGuideButton:!!T,navigationLink:O(te.Zs.resolveConnectionDocLink(e.id)),key:t,resourceName:"Expert Mode"===(null==e?void 0:e.name)?"Custom Connector":null==e?void 0:e.name,isResourceComingSoon:e.comingSoon,disabled:i,disabledHint:o,comingSoonRibbonLabel:C("common:comingSoon"),resourceDescription:e.description,resourceImage:Pe.z.resolveTemplateImage(e.image,(0,Fe.nI)()),tags:e.tags,onClick:function(){d(e.id,(function(){fe(!1)}),e)},showTooltips:!1,"data-testid":"".concat(S,"-").concat(e.name)})})))}))):c.createElement(c.Fragment,null,c.createElement(V.Z.Content,{className:"authenticator-search-container"},c.createElement(X.Z,{loading:!1,className:"mb-3",icon:c.createElement(H.Z,{name:"search"}),value:ue,iconPosition:"left",fluid:!0,onChange:Ne,placeholder:C("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.search.placeholder")}),ge&&Array.isArray(ge)&&ge.length>0&&c.createElement(z.Z.Group,null,ge.map((function(e,t){var n=ye.includes(e);return c.createElement(z.Z,{basic:!0,key:t,as:"a",className:"filter-label ".concat(n?"active":""),onClick:function(){return function(e){var t=[];t=ye.includes(e)?ye.filter((function(t){return t!==e})):[].concat(He(ye),[e]),Ee(t),ae(Re(ue,t))}(e)}},Pe.z.getAuthenticatorLabelDisplayName(e),n&&c.createElement(H.Z,{name:"check"}))})))),c.createElement(V.Z.Content,{scrolling:!0,className:"authenticator-container"},f,$&&Array.isArray($)&&$.length>0?c.createElement(Y.Z.Group,{itemsPerRow:3},c.createElement(we,{authenticators:$,authenticationSteps:n,onAuthenticatorSelect:function(e){P(e)},selected:F,showLabels:E,"data-testid":"".concat(S,"-authenticators"),currentStep:a}),t&&c.createElement(Y.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(E?"with-labels":""),onClick:Ze},c.createElement(Y.Z.Content,{textAlign:"center"},c.createElement(m.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,De.s_)().addCircleOutline}),c.createElement(m.xv,{weight:"500"},C("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title"))))):c.createElement("div",null,c.createElement(m.$J,{subtitle:[C("applications:placeholders.emptyAuthenticatorsList.subtitles")]}),t&&c.createElement(Y.Z.Group,{centered:!0,itemsPerRow:3},c.createElement(Y.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(E?"with-labels":""),onClick:Ze},c.createElement(Y.Z.Content,{textAlign:"center"},c.createElement(m.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,De.s_)().addCircleOutline}),c.createElement(m.xv,{weight:"500"},C("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title")))))))),c.createElement(V.Z.Actions,null,c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:function(e){return l(e,null)}},C("common:cancel"))),!me&&c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.KM,{floated:"right",onClick:function(){x.compute((function(){null==F||F.forEach((function(e){x.publish("application-sign-in-method-add-new-authenticator",{type:(0,_.Z)(e.defaultAuthenticator.name)})}))})),p(F,le)},disabled:(0,h.Z)(F),"data-testid":"".concat(S,"-next-button")},C("common:add")))))))};qe.defaultProps={"data-testid":"add-authenticator-modal",showLabels:!0,size:"small"};var Ke=["open","onClose","data-componentid","currentStep","onIDPCreateWizardTrigger"];function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$e.apply(this,arguments)}function et(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var tt=function(e){var t,n,i=e.open,o=e.onClose,a=e["data-componentid"],r=e.currentStep,l=e.onIDPCreateWizardTrigger,u=et(e,Ke),d=xe(),p=d.authenticators,m=d.authenticationSequence,f=d.addSignInOption,h=(0,g.$)().t,b=(0,s.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),v=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features}));return c.createElement(qe,$e({authenticationSteps:null==m?void 0:m.steps,allowSocialLoginAddition:(0,D.Xr)(null==v?void 0:v.identityProviders,null==v||null===(t=v.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create,b),currentStep:r,open:i,onModalSubmit:function(e){e.map((function(e){f(r,e.id)})),o(null,null)},onClose:o,header:h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:p,showStepSelector:!1,stepCount:null==m||null===(n=m.steps)||void 0===n?void 0:n.length,onIDPCreateWizardTrigger:l,"data-componentid":a},u))};tt.defaultProps={"data-componentid":"authentication-flow-option-add-modal"};const nt=tt;var it=["open","onClose","data-componentid"];function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ot.apply(this,arguments)}function at(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rt=function(e){var t=e.open,n=e.onClose,i=e["data-componentid"],o=at(e,it),a=(0,g.$)().t;return c.createElement(m.cV,ot({open:t,onClose:n,type:"warning",closeOnDimmerClick:!1,assertionHint:a("authenticationFlow:revertConfirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:a("authenticationFlow:revertConfirmationModal.primaryActionButtonText"),secondaryAction:a("authenticationFlow:revertConfirmationModal.secondaryActionButtonText"),"data-componentid":i,onPrimaryActionClick:function(){return n(null,null)},onSecondaryActionClick:function(e){return n(e,null)}},o),c.createElement(m.cV.Header,{"data-componentid":"".concat(i,"-header")},a("authenticationFlow:revertConfirmationModal.title")),c.createElement(m.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(i,"-message")},a("authenticationFlow:revertConfirmationModal.warningMessage")),c.createElement(m.cV.Content,{"data-componentid":"".concat(i,"-content")},a("authenticationFlow:revertConfirmationModal.content")))};rt.defaultProps={"data-componentid":"authentication-flow-revert-disclaimer-modal"};const lt=rt;var ct=n(88865),st=n(2659),ut=n(51835),dt=n.n(ut),pt=n(27975),mt=n.n(pt),ft=n(55900),ht=n.n(ft),gt=n(21555),bt=n.n(gt),vt=n(3621),yt=n.n(vt),Et=n(5062),St=n.n(Et),wt=n(35313),Ct=n.n(wt),Ot={};Ot.styleTagTransform=St(),Ot.setAttributes=bt(),Ot.insert=ht().bind(null,"head"),Ot.domAPI=mt(),Ot.insertStyleElement=yt();dt()(Ct(),Ot);Ct()&&Ct().locals&&Ct().locals;function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Lt=function(e){var t=e.id,n=e.data,i=e.sourceX,o=e.sourceY,a=e.targetX,r=e.targetY,l=e.sourcePosition,s=e.targetPosition,u=e.style,d=void 0===u?{}:u,p=e.markerEnd,m=e["data-componentid"],f=n.onNewStepAddition,h=It((0,L.OQ)({sourcePosition:l,sourceX:i,sourceY:o,targetPosition:s,targetX:a,targetY:r}),3),g=h[0],b=h[1],v=h[2];return c.createElement(c.Fragment,null,c.createElement(L.u5,{path:g,markerEnd:p,style:d,"data-componentid":"".concat(m,"-base-edge")}),c.createElement(L.XQ,null,c.createElement("div",{style:{transform:"translate(-50%, -50%) translate(".concat(b,"px,").concat(v,"px)")},className:"add-step-button-wrapper nodrag nopan"},c.createElement(ct.Z,{"aria-label":"add",className:"add-step-button",variant:"circular",onClick:function(e){return f(e,t)},"data-componentid":"".concat(m,"-add-step-button")},c.createElement(st.pO,null)))))};Lt.defaultProps={};const Tt=Lt;var Nt=n(15697),Rt=n(54664),Zt=n.n(Rt),xt={};xt.styleTagTransform=St(),xt.setAttributes=bt(),xt.insert=ht().bind(null,"head"),xt.domAPI=mt(),xt.insertStyleElement=yt();dt()(Zt(),xt);Zt()&&Zt().locals&&Zt().locals;function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kt.apply(this,arguments)}var Ut=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",kt({xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"}))},Ft=function(e){var t,n=e.id,i=e["data-componentid"],o=xe().updateVisualEditorFlowNodeMeta,a=(0,c.useRef)(null);return(0,c.useEffect)((function(){a&&a.current&&o(n,{height:a.current.clientHeight,width:a.current.clientWidth})}),[null==a||null===(t=a.current)||void 0===t?void 0:t.clientHeight]),c.createElement("div",{ref:a,className:"done-node-wrapper","data-componentid":i},c.createElement(Nt.Z,{"aria-label":"done",className:"done-node",variant:"circular","data-componentid":"".concat(i,"-circular-fab")},c.createElement(Ut,{"data-componentid":"".concat(i,"-check-icon")})),c.createElement(L.HH,{className:"hidden-handle",id:"targetLeft",type:"target",position:L.Ly.Left}))};Ft.defaultProps={"data-componentid":"done-node"};const Pt=Ft;var Wt=n(62410),Mt=n(49674),Dt=n(83219),Qt=n(64748),_t=n(20849),jt=n(20997),Bt=n(73302),Gt=n(93591),Vt=n(24450),Ht=n(32665);function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xt.apply(this,arguments)}function zt(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var Yt=function(e){var t=Object.assign({},(zt(e),e));return c.createElement("svg",Xt({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 384 512",className:"cross-icon"},t),c.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},Jt=function(e){var t=Object.assign({},(zt(e),e));return c.createElement("svg",Xt({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 512 512"},t),c.createElement("path",{d:"M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"}))},qt=function(e){var t=e.children,n=e.onOptionRemove,i=e.onOptionSwitch,o=e.optionSwitchTooltipContent,a=e.optionRemoveTooltipContent,r=e["data-componentid"];return n||i?c.createElement("div",{className:"basic-sign-in-option-controls-wrapper","data-componentid":r},c.createElement("div",{className:"basic-sign-in-option-controls"},i&&c.createElement(Ht.Z,{title:o,"data-componentid":"".concat(r,"-tooltip")},c.createElement(jt.Z,{size:"small",onClick:i,className:"action-button","data-componentid":"".concat(r,"-switch-option-button")},c.createElement(Jt,null))),n&&c.createElement(Ht.Z,{title:a},c.createElement(jt.Z,{size:"small",onClick:n,className:"action-button","data-componentid":"".concat(r,"-remove-option-button")},c.createElement(Yt,null)))),c.createElement("div",{className:"basic-sign-in-option-control-fields"},t)):null};qt.defaultProps={"data-componentid":"basic-sign-in-option-controls",optionRemoveTooltipContent:"Remove",optionSwitchTooltipContent:"Switch"};const Kt=qt;var $t=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,g.$)().t,o=function(){var e=new Date,t=new Date;return e.setDate(t.getDate()-5),new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toLocaleString([],{day:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit",month:"2-digit",year:"numeric"})};return c.createElement("div",{className:"active-sessions-limit-fragment","data-componentid":n},c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.activeSessionsLimit.header")),c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.activeSessionsLimit.form.help")),c.createElement(Kt,{onOptionRemove:function(e){t(e,{toRemove:ne.b.SESSION_EXECUTOR_AUTHENTICATOR})},optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement("table",null,c.createElement("tr",null,c.createElement("th",null,c.createElement(Wt.Z,{className:"non-interactive"})),c.createElement("th",null,i("authenticationFlow:nodes.activeSessionsLimit.form.sessions.browserLabel")),c.createElement("th",null,i("authenticationFlow:nodes.activeSessionsLimit.form.sessions.lastAccessedLabel"))),c.createElement("tr",null,c.createElement("td",null,c.createElement(Wt.Z,{className:"non-interactive"})),c.createElement("td",null,"Chrome"),c.createElement("td",null," ",o()," ")),c.createElement("tr",null,c.createElement("td",null,c.createElement(Wt.Z,{className:"non-interactive"})),c.createElement("td",null,"Firefox"),c.createElement("td",null," ",o()," ")))))};$t.defaultProps={"data-componentid":"active-sessions-limit-fragment"};const en=$t;var tn=n(99472),nn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,g.$)().t;return c.createElement("div",{className:"basic-auth-fragment","data-componentid":n},c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.signIn.header")),c.createElement(Kt,{onOptionRemove:function(e){t(e,{toRemove:ne.b.BASIC_AUTHENTICATOR})},optionSwitchTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionSwitchTooltipContent"),optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement(tn.Z,{required:!0,fullWidth:!0,autoComplete:"off",label:i("authenticationFlow:nodes.signIn.form.fields.username.label"),name:"text",value:null,placeholder:i("authenticationFlow:nodes.signIn.form.fields.username.placeholder"),className:"non-interactive"}),c.createElement(tn.Z,{required:!0,fullWidth:!0,name:"password",autoComplete:"new-password",label:i("authenticationFlow:nodes.signIn.form.fields.password.label"),type:"password",value:null,placeholder:i("authenticationFlow:nodes.signIn.form.fields.password.placeholder"),className:"non-interactive"})),c.createElement(Qt.Z,{className:"non-interactive"},c.createElement(Dt.Z,{control:c.createElement(Wt.Z,{color:"secondary"}),label:i("authenticationFlow:nodes.signIn.form.fields.rememberMe.label")})),c.createElement(F.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.signIn.form.actions.primary")))};nn.defaultProps={"data-componentid":"basic-auth-fragment"};const on=nn;var an=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,g.$)().t;return c.createElement("div",{className:"email-otp-fragment","data-componentid":n},c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.emailOTP.header")),c.createElement(Kt,{onOptionRemove:function(e){t(e,{toRemove:ne.b.EMAIL_OTP_AUTHENTICATOR})},optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement(tn.Z,{required:!0,fullWidth:!0,name:"password",label:i("authenticationFlow:nodes.emailOTP.form.fields.code.label"),type:"password",placeholder:i("authenticationFlow:nodes.emailOTP.form.fields.code.placeholder"),autoComplete:"off",className:"otp-input non-interactive"})),c.createElement("div",{className:"oxygen-sign-in-action-group"},c.createElement(F.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.emailOTP.form.actions.primary")),c.createElement(F.Z,{color:"secondary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",fullWidth:!0},i("authenticationFlow:nodes.emailOTP.form.actions.secondary"))))};an.defaultProps={"data-componentid":"email-otp-fragment"};const rn=an;var ln=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,g.$)().t;return c.createElement("div",{className:"identifier-first-fragment","data-componentid":n},c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.identifierFirst.header")),c.createElement(Kt,{onOptionRemove:function(e){t(e,{toRemove:ne.b.IDENTIFIER_FIRST_AUTHENTICATOR})},optionSwitchTooltipContent:i("authenticationFlow:nodes.identifierFirst.controls.optionSwitchTooltipContent"),optionRemoveTooltipContent:i("authenticationFlow:nodes.identifierFirst.controls.optionRemoveTooltipContent")},c.createElement(tn.Z,{required:!0,fullWidth:!0,label:i("authenticationFlow:nodes.identifierFirst.form.fields.username.label"),name:"text",autoComplete:"off",value:null,placeholder:i("authenticationFlow:nodes.identifierFirst.form.fields.username.placeholder"),className:"non-interactive"})),c.createElement(Qt.Z,{className:"non-interactive"},c.createElement(Dt.Z,{control:c.createElement(Wt.Z,{color:"secondary"}),label:i("authenticationFlow:nodes.identifierFirst.form.fields.rememberMe.label")})),c.createElement(F.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.identifierFirst.form.actions.primary")))};ln.defaultProps={"data-componentid":"identifier-first-fragment"};const cn=ln;function sn(e){return function(e){if(Array.isArray(e))return un(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var dn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,g.$)().t;return c.createElement("div",{className:"sms-otp-fragment","data-componentid":n},c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.smsOTP.header")),c.createElement(Kt,{onOptionRemove:function(e){t(e,{toRemove:ne.b.SMS_OTP_AUTHENTICATOR})},optionRemoveTooltipContent:i("authenticationFlow:nodes.smsOTP.controls.optionRemoveTooltipContent")},c.createElement(O.Z,{align:"left",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.smsOTP.form.fields.code.label")),c.createElement("div",{className:"pin-code-input-fields"},sn(Array(6)).map((function(e,t){return c.createElement(tn.Z,{key:"pincode-".concat(t+1),id:"pincode-".concat(t+1),name:"number",placeholder:".",autoComplete:"off",className:"non-interactive"})})))),c.createElement("div",{className:"oxygen-sign-in-action-group"},c.createElement(F.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.smsOTP.form.actions.primary")),c.createElement(F.Z,{color:"secondary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",fullWidth:!0},i("authenticationFlow:nodes.smsOTP.form.actions.secondary"))))};dn.defaultProps={"data-componentid":"sms-otp-fragment"};const pn=dn;function mn(e){return function(e){if(Array.isArray(e))return fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var hn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,g.$)().t;return c.createElement("div",{className:"totp-fragment","data-componentid":n},c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.totp.header")),c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.totp.form.fields.code.label")),c.createElement(Kt,{onOptionRemove:function(e){t(e,{toRemove:ne.b.TOTP_AUTHENTICATOR})},optionRemoveTooltipContent:i("authenticationFlow:nodes.totp.controls.optionRemoveTooltipContent")},c.createElement("div",{className:"pin-code-input-fields"},mn(Array(6)).map((function(e,t){return c.createElement(tn.Z,{key:"pincode-".concat(t+1),id:"pincode-".concat(t+1),name:"number",placeholder:".",className:"non-interactive"})})))),c.createElement(F.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.totp.form.actions.primary")),c.createElement(O.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle2"},i("authenticationFlow:nodes.totp.form.help")))};hn.defaultProps={"data-componentid":"totp-fragment"};const gn=hn;var bn=n(84902),vn=n(61892),yn=n(85754),En=n.n(yn),Sn={};Sn.styleTagTransform=St(),Sn.setAttributes=bt(),Sn.insert=ht().bind(null,"head"),Sn.domAPI=mt(),Sn.insertStyleElement=yt();dt()(En(),Sn);En()&&En().locals&&En().locals;function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wn.apply(this,arguments)}var Cn=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",wn({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 384 512",className:"cross-icon"},t),c.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},On=function(e){var t,n,i,o,a,r=e.id,l=e.data,s=l.authenticators,u=l.authenticationSequence,d=l.onSignInOptionAdd,p=l.onSignInOptionRemove,m=l.onSignInOptionSwitch,f=l.onSignInStepRemove,h=l.onAttributeIdentifierStepChange,b=l.onSubjectIdentifierStepChange,v=l.stepIndex,E=l.showSelfSignUp,S=l["data-componentid"],w=(0,g.$)().t,C=xe().updateVisualEditorFlowNodeMeta,I=(0,bn.z)().isSubOrganization,A=(0,K.Z)().UIConfig,T=(0,c.useRef)(null),N=Object.values(s).flat(),R=(0,c.useMemo)((function(){return[ne.b.BACKUP_CODE_AUTHENTICATOR]}),[]);(0,c.useEffect)((function(){T&&T.current&&C(r,{height:T.current.clientHeight,width:T.current.clientWidth})}),[null==T||null===(t=T.current)||void 0===t?void 0:t.clientHeight]);var Z,x=function(){var e,t=void 0,n=null==u||null===(e=u.steps)||void 0===e||null===(e=e[v])||void 0===e||null===(e=e.options)||void 0===e?void 0:e.filter((function(e){return!R.includes(e.authenticator)}));return n.forEach((function(e){e.authenticator===ne.b.BASIC_AUTHENTICATOR?t=ne.b.BASIC_AUTHENTICATOR:e.authenticator===ne.b.IDENTIFIER_FIRST_AUTHENTICATOR?t=ne.b.IDENTIFIER_FIRST_AUTHENTICATOR:e.authenticator===ne.b.SESSION_EXECUTOR_AUTHENTICATOR&&(t=ne.b.SESSION_EXECUTOR_AUTHENTICATOR),1===n.length&&(e.authenticator===ne.b.TOTP_AUTHENTICATOR?t=ne.b.TOTP_AUTHENTICATOR:e.authenticator===ne.b.EMAIL_OTP_AUTHENTICATOR?t=ne.b.EMAIL_OTP_AUTHENTICATOR:e.authenticator===ne.b.SMS_OTP_AUTHENTICATOR&&(t=ne.b.SMS_OTP_AUTHENTICATOR))})),t},k=(0,c.useMemo)((function(){var e,t=!1;return null==u||null===(e=u.steps)||void 0===e||null===(e=e[v])||void 0===e||e.options.map((function(e){e.authenticator===ne.b.BACKUP_CODE_AUTHENTICATOR&&(t=!0)})),t}),[u]),U=(0,c.useMemo)((function(){var e,t=!1,n=!1;return null==u||null===(e=u.steps)||void 0===e||null===(e=e[v])||void 0===e||null===(e=e.options)||void 0===e||e.map((function(e){var i;(t=![ne.b.TOTP_AUTHENTICATOR,ne.b.BACKUP_CODE_AUTHENTICATOR,ne.b.SESSION_EXECUTOR_AUTHENTICATOR].includes(e.authenticator),[ne.b.TOTP_AUTHENTICATOR,ne.b.EMAIL_OTP_AUTHENTICATOR,ne.b.SMS_OTP_AUTHENTICATOR,ne.b.BACKUP_CODE_AUTHENTICATOR].includes(e.authenticator))&&((!I()||I()&&null!=A&&null!==(i=A.legacyMode)&&void 0!==i&&i.backupCodesForSubOrganizations)&&(n=!0))})),[t,n,k]}),[u]);return c.createElement("div",{ref:T,className:"sign-in-box-node","data-componentid":"".concat(S,"-step-").concat(v)},c.createElement("div",{className:"step-id"},c.createElement(O.Z,{variant:"body2","data-componentid":"".concat(S,"-step-").concat(v,"-id")},"Step ",v+1)),(null==u||null===(n=u.steps)||void 0===n?void 0:n.length)>1&&c.createElement(Ht.Z,{title:w("authenticationFlow:options.controls.remove")},c.createElement(jt.Z,{size:"small",onClick:function(e){f(e,{stepIndex:v})},className:"remove-button"},c.createElement(Cn,null))),0!==v&&c.createElement(L.HH,{type:"target",position:L.Ly.Left}),c.createElement(y.Z,{className:"oxygen-sign-in","data-componentid":"".concat(S,"-inner")},c.createElement(Gt.Z,{className:"oxygen-sign-in-box",elevation:0,variant:"outlined"},c.createElement(y.Z,{className:"oxygen-sign-in-form"},(Z=x())===ne.b.BASIC_AUTHENTICATOR?c.createElement(c.Fragment,null,c.createElement(on,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:v,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;m(e,{stepIndex:v,toAdd:n,toRemove:i})}}),c.createElement(Mt.Z,null,w("authenticationFlow:options.divider"))):Z===ne.b.IDENTIFIER_FIRST_AUTHENTICATOR?c.createElement(c.Fragment,null,c.createElement(cn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:v,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;m(e,{stepIndex:v,toAdd:n,toRemove:i})}}),c.createElement(Mt.Z,null,w("authenticationFlow:options.divider"))):Z===ne.b.TOTP_AUTHENTICATOR?c.createElement(gn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:v,toRemove:n})}}):Z===ne.b.EMAIL_OTP_AUTHENTICATOR?c.createElement(rn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:v,toRemove:n})}}):Z===ne.b.SMS_OTP_AUTHENTICATOR?c.createElement(pn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:v,toRemove:n})}}):Z===ne.b.SESSION_EXECUTOR_AUTHENTICATOR?c.createElement(c.Fragment,null,c.createElement(en,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:v,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;m(e,{stepIndex:v,toAdd:n,toRemove:i})}})):c.createElement(c.Fragment,null),c.createElement("div",{className:"oxygen-sign-in-options-wrapper"},c.createElement("div",{className:"oxygen-sign-in-options"},null==u||null===(i=u.steps)||void 0===i||null===(i=i[v])||void 0===i||null===(i=i.options)||void 0===i?void 0:i.map((function(e){return function(e){if(!(N&&N instanceof Array&&N.length>0))return null;var t=null;return(t=e.idp===ne.b.LOCAL_IDP_IDENTIFIER?N.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):(null==e?void 0:e.authenticator)===ee.fB.ORGANIZATION_SSO_AUTHENTICATOR_NAME?null==N?void 0:N.find((function(e){return(null==e?void 0:e.id)===vn.F.getOrganizationAuthenticator().id})):N.find((function(t){return t.idp===e.idp})))?R.includes(t.name)||t.name===x()?null:c.createElement("div",{className:"oxygen-sign-in-option with-cancel-button"},c.createElement(Ht.Z,{title:w("authenticationFlow:options.controls.remove")},c.createElement(jt.Z,{size:"small",onClick:function(e){var n;p(e,{stepIndex:v,toRemove:null===(n=t)||void 0===n||null===(n=n.defaultAuthenticator)||void 0===n?void 0:n.name})},className:"remove-button"},c.createElement(Cn,null))),c.createElement(F.Z,{startIcon:c.createElement("img",{className:"oxygen-sign-in-option-image",src:t.image}),variant:"contained",className:"oxygen-sign-in-option",type:"button",fullWidth:!0},t.displayName.startsWith("Sign In With")?t.displayName:w("authenticationFlow:options.displayName",{displayName:t.displayName}))):null}(e)})),x()!==ne.b.SESSION_EXECUTOR_AUTHENTICATOR&&c.createElement(F.Z,{fullWidth:!0,startIcon:c.createElement(st.pO,null),variant:"outlined",className:"oxygen-sign-in-option oxygen-sign-in-option-add",type:"button",onClick:function(e){return d(e,{stepIndex:v})},"data-componentid":"".concat(S,"-add-sign-in-option")},w("authenticationFlow:steps.controls.addOption")))),E&&c.createElement(_t.Z,{container:!0,className:"oxygen-sign-in-sign-up-link"},c.createElement(_t.Z,null,w("authenticationFlow:steps.controls.signUp.hint")),c.createElement(_t.Z,null,c.createElement(Bt.Z,{href:"#",className:"oxygen-sign-in-sign-up-link-action"},w("authenticationFlow:steps.controls.signUp.label"))))))),c.createElement(L.HH,{type:"source",position:L.Ly.Right,id:"a"}),c.createElement(Qt.Z,{className:"additional-behaviors"},U[0]&&c.createElement(c.Fragment,null,c.createElement(Dt.Z,{checked:(null==u?void 0:u.subjectStepId)===(null==u||null===(o=u.steps)||void 0===o||null===(o=o[v])||void 0===o?void 0:o.id),control:c.createElement(Vt.Z,null),onChange:function(e){var t;b(e,{stepIndex:null==u||null===(t=u.steps)||void 0===t||null===(t=t[v])||void 0===t?void 0:t.id})},label:w("authenticationFlow:nodes.controls.userAttributeSelector.label"),"data-componentid":"".concat(S,"-user-identifier-picker")}),c.createElement(Dt.Z,{checked:(null==u?void 0:u.attributeStepId)===(null==u||null===(a=u.steps)||void 0===a||null===(a=a[v])||void 0===a?void 0:a.id),control:c.createElement(Vt.Z,null),onChange:function(e){var t;h(e,{stepIndex:null==u||null===(t=u.steps)||void 0===t||null===(t=t[v])||void 0===t?void 0:t.id})},label:w("authenticationFlow:nodes.controls.attributeSelector.label"),"data-componentid":"".concat(S,"-attribute-identifier-picker")})),U[1]&&c.createElement(Dt.Z,{checked:k,control:c.createElement(Wt.Z,null),onChange:function(e){e.target.checked?d(e,{stepIndex:v,toAdd:ne.b.BACKUP_CODE_AUTHENTICATOR}):p(e,{stepIndex:v,toRemove:ne.b.BACKUP_CODE_AUTHENTICATOR})},label:w("authenticationFlow:nodes.controls.enableBackupCodes.label"),"data-componentid":"".concat(S,"-enable-backup-code-picker")})))};On.defaultProps={"data-componentid":"sign-in-box-node"};const In=On;var An=n(73508);const Ln=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.GET,url:"".concat(P.h.getState().config.endpoints.multiFactorAuthenticators,"/connectors/").concat(e)},n=(0,An.Z)(t),i=n.data,o=n.error;return{data:i,error:o,isLoading:!o&&!i,isValidating:n.isValidating,mutate:n.mutate}};var Tn=n(73019),Nn="ELK-Risk-Based",Rn=(n(27801),n(17687)),Zn=n.n(Rn),xn={};xn.styleTagTransform=St(),xn.setAttributes=bt(),xn.insert=ht().bind(null,"head"),xn.domAPI=mt(),xn.insertStyleElement=yt();dt()(Zn(),xn);Zn()&&Zn().locals&&Zn().locals;function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}var Un=["onIDPCreateWizardTrigger","data-componentid","onUpdate"];function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){Wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t,n){var i;return i=function(e,t){if("object"!=kn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=kn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==kn(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Qn(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_n.apply(this,arguments)}var jn=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",_n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M8,3 L3,8 L8,13 M12,20 L15,20 C18.3137085,20 21,17.3137085 21,14 C21,10.6862915 18.3137085,8 15,8 L4,8"}))},Bn=function(e){var t=e.onIDPCreateWizardTrigger,n=e["data-componentid"],i=e.onUpdate,o=Qn(e,Un),a=(0,g.$)().t,r=(0,s.I0)(),l=xe(),p=l.authenticators,h=l.authenticationSequence,v=l.addSignInStep,y=l.addSignInOption,E=l.defaultAuthenticationSequence,S=l.isAdaptiveAuthAvailable,w=l.isValidAuthenticationFlow,C=l.isConditionalAuthenticationEnabled,O=l.removeSignInOption,I=l.removeSignInStep,T=l.revertAuthenticationSequenceToDefault,N=l.updateAuthenticationSequence,R=l.visualEditorFlowNodeMeta,Z=Ln(ee.fB.FIDO_AUTHENTICATOR_ID),x=Z.data,D=Z.error,Q=Z.isLoading,_=(0,m.fQ)().getLink,j=(0,c.useRef)(null),B=Mn((0,c.useState)(0),2),G=B[0],V=B[1],H=Mn((0,c.useState)(!1),2),X=H[0],z=H[1],Y=Mn((0,c.useState)(!1),2),J=Y[0],q=Y[1],K=Mn((0,c.useState)(!1),2),$=K[0],te=K[1],ne=Mn((0,c.useState)(void 0),2),ie=ne[0],oe=ne[1],ae=Mn((0,c.useState)(0),2),re=ae[0],le=ae[1],ce=Mn((0,c.useState)(void 0),2),se=ce[0],ue=ce[1],de=(0,c.useMemo)((function(){return{done:Pt,loginBox:In}}),[]),pe=(0,c.useMemo)((function(){return{stepAdditionEdge:Tt}}),[]),me=(0,c.useMemo)((function(){var e,t={data:{"data-componentid":"done-node"},id:"-1",position:{x:0,y:0},type:"done"},n=[];return null==h||null===(e=h.steps)||void 0===e||e.filter((function(e,i){var o={data:{authenticationSequence:h,authenticators:p,"data-componentid":"sign-in-box-node",onAttributeIdentifierStepChange:function(e,t){var n=t.stepIndex;N({attributeStepId:n})},onSignInOptionAdd:function(e,t){var n=t.stepIndex,i=t.toAdd;i?y(n,i):(z(!0),V(n))},onSignInOptionRemove:function(e,t){var n=t.stepIndex,i=t.toRemove;O(n,i)},onSignInOptionSwitch:function(e,t){var n=t.stepIndex,i=t.toRemove,o=t.toAdd;O(n,i),y(n,o)},onSignInStepRemove:function(e,t){var n=t.stepIndex;I(n)},onSubjectIdentifierStepChange:function(e,t){var n=t.stepIndex;N({subjectStepId:n})},stepIndex:i},id:"".concat(e.id),position:{x:0,y:0},type:"loginBox"};n.push(o),i===h.steps.length-1&&n.push(Pn(Pn({},t),{},{id:"".concat(i+2),position:{x:0,y:0}}))})),n.forEach((function(e,t){var i,o,a,r,l=n[t-1],c=null===(i=R[parseInt(e.id)-1])||void 0===i?void 0:i.height,s=null===(o=R[parseInt(e.id)-1])||void 0===o?void 0:o.width,u=null===(a=R[parseInt(e.id)])||void 0===a?void 0:a.height,d=null===(r=R[parseInt(e.id)])||void 0===r?void 0:r.width;if(c&&u){var p=l.position.y+c/2;e.position.y=p-u/2}s&&d&&(e.position.x=l.position.x+s/2+250),e.id===n.length.toString()&&(e.position.x=e.position.x+125)})),n}),[h,p,R]),fe=(0,c.useMemo)((function(){var e=me.length-1,t={markerEnd:{color:"#696969",height:20,type:L.QZ.Arrow,width:20},style:{stroke:"#696969",strokeWidth:2}},n=(0,f.Z)(me).slice(0,e).map((function(e,n){return Pn({id:"".concat(n,"-").concat(n+1),source:"".concat(n),target:"".concat(n+1)},t)})),i=Pn({data:{onNewStepAddition:function(){v()}},"data-componentid":"step-addition-edge",id:"".concat(e,"-").concat(e+1),source:"".concat(e),target:"".concat(e+1),type:"stepAdditionEdge"},t);return n.push(i),n}),[h,me]);return(0,c.useEffect)((function(){if(!Q){var e,t;if(D)return null!=D&&null!==(e=D.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?void r((0,d.V_)({description:a("authenticationProvider:notifications.getConnectionDetails.error.description",{description:null==D||null===(t=D.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description}),level:u.QU.ERROR,message:a("authenticationProvider:notifications.getConnectionDetails.error.message")})):void r((0,d.V_)({description:a("authenticationProvider:notifications.getConnectionDetails.genericError.description"),level:u.QU.ERROR,message:a("authenticationProvider:notifications.getConnectionDetails.genericError.message")}));if(x){var n=null==x?void 0:x.properties,i=null==n?void 0:n.find((function(e){return"FIDO.EnablePasskeyProgressiveEnrollment"===e.name})),o="true"===(null==i?void 0:i.value);ue(o)}}}),[x,D,Q]),(0,c.useEffect)((function(){if(null==h?void 0:h.steps.some((function(e){return!(null==e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===Tn.bQ.FIDO_AUTHENTICATOR})))}))){if(se){var e,t=!(null==h||null===(e=h.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===Tn.bQ.FIDO_AUTHENTICATOR})));oe(t?c.createElement(c.Fragment,null,c.createElement(U.Z,null,a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled")),c.createElement(b.c,{i18nKey:a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyAsFirstStepWhenprogressiveEnrollmentEnabled")},c.createElement("strong",null,"Note : ")," For on-the-fly user enrollment with passkeys, use the ",c.createElement("strong",null,"Passkeys Progressive Enrollment")," template in",c.createElement("strong",null," Conditional Authentication")," section."),c.createElement(m.eb,{link:_("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore"))):c.createElement(c.Fragment,null,c.createElement(U.Z,null,a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled")),c.createElement(b.c,{i18nKey:a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyIsNotFirstStepWhenprogressiveEnrollmentEnabled")},"Users can enroll passkeys on-the-fly. If users wish to enroll multiple passkeys they should do so via ",c.createElement("strong",null,"My Account"),"."),c.createElement(m.eb,{link:_("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore"))))}else oe(c.createElement(c.Fragment,null,c.createElement(b.c,{i18nKey:a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentDisabled")},c.createElement(m.rU,{external:!1,onClick:function(){P.m8.push(P.$x.getPaths().get("IDP_EDIT").replace(":id","RklET0F1dGhlbnRpY2F0b3I"))}},"Passkey progressive enrollment"),"\xa0 is disabled. Users must enroll their passkeys through ",c.createElement("strong",null,"My Account")," to use passwordless sign-in."),c.createElement(m.eb,{link:_("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore"))));te(!0)}else te(!1)}),[se,null==h?void 0:h.steps]),(0,c.useEffect)((function(){if($){if(null!=j&&j.current){var e,t=null==j||null===(e=j.current)||void 0===e?void 0:e.getBoundingClientRect(),n=null==t?void 0:t.height;le(n)}}else le(0)}),[$]),c.createElement(c.Fragment,null,c.createElement("div",_n({className:A()("react-flow-container","visual-editor"),"data-componentid":n},o),$?c.createElement(k.Z,{className:"visual-editor-info-message",severity:"info",onClose:function(){return te(!1)},ref:j},ie):null,c.createElement(F.Z,{className:"revert-to-default-button",color:"secondary",onClick:function(){return q(!0)},"data-componentid":"".concat(n,"-revert-button"),style:{marginTop:"".concat(re+15,"px")}},c.createElement(jn,null),a("authenticationFlow:visualEditor.actions.revert.label")),c.createElement(L.x$,{fitView:!0,nodeTypes:de,edgeTypes:pe,nodes:me,edges:fe,proOptions:{hideAttribution:!0}},c.createElement(W.A,{color:"#e1e1e1",gap:16,variant:W.T.Dots,size:2}),c.createElement(M.Z,null),(!S||!C)&&c.createElement(F.Z,{color:"primary",variant:"contained",className:"update-button",onClick:function(){return i(h)},disabled:!w,"data-componentid":"".concat(n,"-update-button")},a("authenticationFlow:visualEditor.actions.update.label")))),X&&c.createElement(nt,{open:X,onClose:function(){return z(!1)},currentStep:G,onIDPCreateWizardTrigger:t}),c.createElement(lt,{open:J,onClose:function(){return q(!1)},onPrimaryActionClick:function(){T(),i(E,!0),q(!1)}}))};Bn.defaultProps={"data-componentid":"authentication-flow-visual-editor"};const Gn=Bn;var Vn=n(10657),Hn=n(15118),Xn=n(99774),zn=n(62111),Yn=n(16488),Jn=["isELKRiskBased","selectedTemplate","onELKConfigureClick","onTemplateChange","onClose","data-componentid"];function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qn.apply(this,arguments)}function Kn(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var $n=function(e){var t=e.isELKRiskBased,n=e.selectedTemplate,i=e.onELKConfigureClick,o=e.onTemplateChange,a=e.onClose,r=e["data-componentid"],l=Kn(e,Jn),s=(0,g.$)().t;return c.createElement(m.cV,qn({onClose:a,type:"warning",primaryAction:s("common:confirm"),secondaryAction:s("common:cancel"),onSecondaryActionClick:function(e){a(e,null),o(void 0)},onPrimaryActionClick:function(e){a(e,null),o(n)},"data-componentid":r,closeOnDimmerClick:!1},l),c.createElement(m.cV.Header,{"data-componentid":"".concat(r,"-header")},s("authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.heading")),c.createElement(m.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(r,"-message")},s("authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.message")),c.createElement(m.cV.Content,{"data-componentid":"".concat(r,"-content")},t&&c.createElement(c.Fragment,null,c.createElement(m.xv,null,c.createElement(b.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.configure"},"(",c.createElement(m.rU,{onClick:i,external:!1},"Configure"),"ELK Analytics settings for proper functionality.)")),c.createElement(m.xv,null,c.createElement(b.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.reassure"},"You can update your settings anytime.")," (",c.createElement(m.EK,null,c.createElement(st.UG,{size:14})),")")),c.createElement(b.c,{i18nKey:"authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.content"},"The selected template will replace the existing script in the editor as well as the login steps you configured. Click ",c.createElement(m.EK,null,"Confirm")," to proceed.")))};$n.defaultProps={"data-componentid":"adaptive-auth-template-change-confirmation-modal"};const ei=$n;var ti=n(7247),ni=n(73432),ii=n(66528),oi=n(9261),ai=["template","open","onClose","data-componentid"];function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ri.apply(this,arguments)}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function si(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ui=function(e){var t,n,i=e.template,o=e.open,a=e.onClose,r=e["data-componentid"],l=si(e,ai),s=(0,g.$)().t,u=(0,m.fQ)().getLink;return c.createElement(V.Z,ri({open:o,onClose:a,dimmer:"blurring",size:"small","data-componentid":r},l),c.createElement(V.Z.Header,null,i.title),c.createElement(V.Z.Content,{scrolling:!0},c.createElement("p",null,i.summary,(t=null==i?void 0:i.name,n=void 0,t===oi.qr.USER_AGE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.userAgeBased.learnMore")),t===oi.qr.GROUP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.groupBased.learnMore")),t===oi.qr.IP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.ipBased.learnMore")),t===oi.qr.NEW_DEVICE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.deviceBased.learnMore")),void 0===n?null:c.createElement(m.eb,{link:n,"data-componentid":"".concat(r,"-learn-more-link")},s("common:learnMore")))),Array.isArray(null==i?void 0:i.preRequisites)&&i.preRequisites.length>0&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.prerequisites")),c.createElement(ni.Z,null,i.preRequisites.map((function(e,t){var n=function(){var e=[];return(0,ti.Z)(i.parametersDescription)&&Object.entries(i.parametersDescription).map((function(t){var n=li(t,1)[0];e.push(n)})),e}();return c.createElement(ni.Z.Item,{key:t},c.createElement(ni.Z.Icon,{name:"check circle outline",color:"green"}),c.createElement(ni.Z.Content,null,function(e,t){var n=e.split(" "),i=[],o="";return n.map((function(e,n){t.includes(e)?(i.push(c.createElement("span",{key:n},o," ")),i.push(c.createElement("span",{key:n},c.createElement(m.EK,null,e))),o=""):o=o.concat(e+" ")})),i.push(c.createElement("span",null,o)),c.createElement("p",null,i.map((function(e){return e})))}(e,n)))})))),(0,ti.Z)(i.parametersDescription)&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.parameters")),c.createElement(ii.Z,{definition:!0},c.createElement(ii.Z.Header,null,c.createElement(ii.Z.Row,null,c.createElement(ii.Z.HeaderCell,null),c.createElement(ii.Z.HeaderCell,null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.description")))),c.createElement(ii.Z.Body,null,Object.entries(i.parametersDescription).map((function(e,t){var n=li(e,2),i=n[0],o=n[1];return c.createElement(ii.Z.Row,{key:t},c.createElement(ii.Z.Cell,null,c.createElement(m.EK,null,i)),c.createElement(ii.Z.Cell,null,o))}))))),(0,ti.Z)(i.defaultStepsDescription)&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.defaultSteps")),Object.entries(i.defaultStepsDescription).map((function(e,t,n){var i=li(e,2),o=i[0],a=i[1];return c.createElement("div",{className:"stepper",key:"".concat(t,"-").concat(o)},c.createElement("div",{className:"step-number"},t+1),c.createElement("div",{className:"step-text"},a),n.length!==t+1&&c.createElement("div",{className:"step-connector"},c.createElement("div",{className:"step-line"})))}))),i.helpLink&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.helpReference")),c.createElement(m.v0,{type:"info",content:c.createElement("a",{target:"_blank",href:i.helpLink,rel:"noopener noreferrer"},i.helpLink)})),i.code&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.code")),c.createElement(m.pq,{lint:!0,language:"javascript",sourceCode:i.code,options:{lineWrapping:!0},readOnly:!0,"data-testid":"".concat(i.title,"-code-editor"),getThemeFromEnvironment:!0}))),c.createElement(V.Z.Actions,null,c.createElement(m.Qj,{onClick:a},s("common:cancel"))))};ui.defaultProps={"data-componentid":"adaptive-auth-template-info-modal"};const di=ui;var pi=["selectedTemplate","onTemplateChange","onClose","data-componentid"];function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mi.apply(this,arguments)}function fi(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var hi=function(e){var t=e.selectedTemplate,n=e.onTemplateChange,i=e.onClose,o=e["data-componentid"],a=fi(e,pi),r=(0,g.$)().t;return c.createElement(m.cV,mi({onClose:i,type:"warning",primaryAction:r("common:confirm"),secondaryAction:r("common:cancel"),onSecondaryActionClick:function(e){i(e,null),n(void 0)},onPrimaryActionClick:function(e){i(e,null),n(t)},"data-componentid":o,closeOnDimmerClick:!1},a),c.createElement(m.cV.Header,{"data-componentid":"".concat(o,"-header")},r("authenticationFlow:basicLoginFlowSelectConfirmationModal.heading")),c.createElement(m.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(o,"-message")},r("authenticationFlow:basicLoginFlowSelectConfirmationModal.message")),c.createElement(m.cV.Content,{"data-componentid":"".concat(o,"-content")},c.createElement(b.c,{i18nKey:"authenticationFlow:basicLoginFlowSelectConfirmationModal.content"},"The selected template will replace the existing login steps you configured. Click ",c.createElement(m.EK,null,"Confirm")," to proceed.")))};hi.defaultProps={"data-componentid":"basic-login-flow-change-confirmation-modal"};const gi=hi;var bi=["authenticators","authenticatorCategoryDisplayName","onSelect","onClose","data-componentid"];function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vi.apply(this,arguments)}function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Si(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var wi=function(e){var t=e.authenticators,n=e.authenticatorCategoryDisplayName,i=e.onSelect,o=e.onClose,a=e["data-componentid"],r=Si(e,bi),l=(0,g.$)().t,s=yi((0,c.useState)(t[0]),2),u=s[0],d=s[1];return c.createElement(m.cV,vi({type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:o,primaryAction:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(e){o(e,null)},onPrimaryActionClick:function(e){i(u),o(e,null)},"data-componentid":a,closeOnDimmerClick:!1},r),c.createElement(m.cV.Header,null,l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:n})),c.createElement(m.cV.Message,{attached:!0,warning:!0},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:n})),c.createElement(m.cV.Content,{scrolling:!0},c.createElement(m.xv,null,c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:n}},"You have multiple Social Connections configured with \xa0",c.createElement(m.EK,null,n,"Authenticator"),". Select the desired one from the selection below to proceed.")),c.createElement(v.Z,{hidden:!0}),c.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==ne.b.BACKUP_CODE_AUTHENTICATOR})).map((function(e,t){return c.createElement(m.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:u.id===e.id,image:e.image,label:e.displayName,labelEllipsis:!0,"data-componentid":"".concat(a,"-authenticator-").concat(e.name),onClick:function(){return d(e)}})})))))};wi.defaultProps={"data-componentid":"duplicate-social-authenticator-selection-modal"};const Ci=wi;var Oi=n(8272),Ii=n(66116),Ai=n(15952),Li=n(17),Ti=n(20812),Ni=n(76892),Ri=n(97349);function Zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ki=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-componentid"],u=(0,g.$)().t,d=Zi((0,c.useState)({}),2),p=d[0],m=d[1],f=Zi((0,c.useState)(void 0),2),h=f[0],b=f[1];(0,c.useEffect)((function(){v()}),[]);var v=function(){b(!0),(0,Ni.SN)(null,null,null).then((function(e){m(e)})).catch((function(e){(0,Ri.Df)(e)})).finally((function(){b(!1)}))};return void 0!==h&&!1===h&&c.createElement(Ti.en,{id:"apple-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-testid":s},c.createElement(Ti.k0,{validate:function(e){var t={clientId:void 0,keyId:void 0,name:void 0,privateKey:void 0,teamId:void 0};return e.name||(t.name=u("authenticationProvider:forms.common.requiredErrorMessage")),e.clientId||(t.clientId=u("authenticationProvider:forms.common.requiredErrorMessage")),e.teamId||(t.teamId=u("authenticationProvider:forms.common.requiredErrorMessage")),e.keyId||(t.keyId=u("authenticationProvider:forms.common.requiredErrorMessage")),e.privateKey||(t.privateKey=u("authenticationProvider:forms.common.requiredErrorMessage")),t}},c.createElement(Ti.gN.Input,{ariaLabel:"Apple IDP Name",inputType:"name",name:"name",label:u("authenticationProvider:forms.generalDetails.name.label"),placeholder:u("authenticationProvider:forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==p?void 0:p.count)>0&&(null==p||p.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return u("authenticationProvider:forms.generalDetails.name.validations.duplicate")}(e)},maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Apple Client ID",inputType:"client_id",name:"clientId",label:u("authenticationProvider:forms.authenticatorSettings.apple.clientId.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.apple.clientId.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.apple.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Apple Team ID",inputType:"name",name:"teamId",label:u("authenticationProvider:forms.authenticatorSettings.apple.teamId.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.apple.teamId.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.apple.teamId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:Tn.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.TEAM_ID_MAX_LENGTH,minLength:Tn.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.TEAM_ID_MIN_LENGTH,"data-testid":"".concat(s,"-idp-team-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Apple Key ID",inputType:"name",name:"keyId",label:u("authenticationProvider:forms.authenticatorSettings.apple.keyId.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.apple.keyId.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.apple.keyId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:Tn.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.KEY_ID_MAX_LENGTH,minLength:Tn.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.KEY_ID_MIN_LENGTH,"data-testid":"".concat(s,"-idp-key-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Apple Private Key",inputType:"password",name:"privateKey",label:u("authenticationProvider:forms.authenticatorSettings.apple.privateKey.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.apple.privateKey.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.apple.privateKey.validations.required"),type:"password",autoComplete:""+Math.random(),maxLength:Tn.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.PRIVATE_KEY_MAX_LENGTH,minLength:Tn.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.PRIVATE_KEY_MIN_LENGTH,"data-testid":"".concat(s,"-idp-private-key"),width:13})))};ki.defaultProps={"data-componentid":"apple-idp-create-wizard-content"};var Ui=n(78645),Fi=n(29459);function Pi(e){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(e)}function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mi(e,t,n){var i;return i=function(e,t){if("object"!=Pi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Pi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Pi(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _i=function(e){var t=e.onWizardClose,n=e.onIDPCreate,i=e.currentStep,o=e.title,a=e.subTitle,r=e.template,l=e["data-componentid"],p=(0,s.I0)(),f=(0,g.$)().t,b=(0,m.fQ)().getLink,v=Di((0,m.IK)(),3),y=v[0],E=v[1],S=v[2],w=(0,s.v9)((function(e){return e.config})),C=Di((0,c.useState)(i),2),O=C[0],I=C[1],A=Di((0,c.useState)(0),2),L=A[0],T=A[1],N=Di((0,c.useState)(0),2),R=N[0],Z=N[1],x=Di((0,c.useState)(!1),2),k=x[0],U=x[1],F=Di((0,c.useState)(!1),2),W=F[0],M=F[1],D=P.lD.getInstance();(0,c.useEffect)((function(){I(L+1)}),[L]);var Q,_,j=function(e){var t,i=null==e||null===(t=e.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t?void 0:t.connectors[0],o=(0,Li.Z)(i,Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===Tn.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&o&&delete i[Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=r.description,function(e){U(!0),(0,Ni.Sf)(e).then((function(e){if(D.publish("connections-finish-adding-connection",{type:l}),p((0,d.V_)({description:f("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:f("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))n();else{var t=e.headers.location,i=t.substring(t.lastIndexOf("/")+1);n(i)}})).catch((function(e){var t,n=Ui.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)!==n.getErrorCode()?e.response&&e.response.data&&e.response.data.description?E({description:f("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:f("authenticationProvider:notifications.addIDP.error.message")}):E({description:f("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:f("authenticationProvider:notifications.addIDP.genericError.message")}):M(!0)})).finally((function(){U(!1)}))}(e)},B=function(){t()};return c.createElement(c.Fragment,null,W&&c.createElement(Fi.P,{actionLabel:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){M(!1),B()},header:f("idp:notifications.tierLimitReachedError.heading"),description:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:W}),c.createElement(P.wv,{open:!W,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:B,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().apple,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),c.createElement("div",{className:"ml-1"},o,a&&c.createElement(m.X6,{as:"h6"},a,c.createElement(m.eb,{link:b("develop.connections.newConnection.apple.learnMore")},f("common:learnMore")))))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},y&&S,c.createElement(ki,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){Mi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.templateId=r.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:e.clientId.toString()},{key:"ClientSecret",value:""},{key:"SecretValidityPeriod",value:Tn.bQ.APPLE_AUTHENTICATOR_CLIENT_SECRET_VALIDITY_PERIOD},{key:"TeamId",value:e.teamId.toString()},{key:"KeyId",value:e.keyId.toString()},{key:"PrivateKey",value:e.privateKey.toString()},{key:"callbackUrl",value:(null==w||null===(t=w.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"Scopes",value:Tn.bQ.APPLE_AUTHENTICATOR_REQUESTED_SCOPES.join(",")},{key:"AdditionalQueryParameters",value:""},{key:"RegenerateClientSecret",value:"false"},{key:"SecretExpiryEpochTime",value:"0"}],n.image="assets/images/logos/apple.svg",j(n)},triggerSubmission:function(e){Q=e},triggerPrevious:function(e){_=e},changePageNumber:function(e){return T(e)},setTotalPage:function(e){return Z(e)},template:r})),c.createElement(P.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:B,"data-testid":"".concat(l,"-modal-cancel-button")},f("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},O!==R?c.createElement(m.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:k,disabled:k},f("authenticationProvider:wizards.buttons.next")):c.createElement(c.Fragment,null,c.createElement(m.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:k,disabled:k},f("authenticationProvider:wizards.buttons.finish"))),O>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-previous-button")},f("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===O)return null;var t=(null==r?void 0:r.content).wizardHelp;return c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},f("authenticationProvider:templates.apple.wizardHelp.heading"))),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(Ai.p,null)},c.createElement(t,null))))}()))};_i.defaultProps={currentStep:1,"data-componentid":"apple-idp-create-wizard"};var ji=n(21036),Bi=n(50735),Gi=n(59054),Vi=n(30741);function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zi=function(e){return e.GENERAL_DETAILS="GeneralDetails",e.AUTHENTICATOR_SETTINGS="Identity Provider Settings",e.CERTIFICATES="Certificates",e}(zi||{}),Yi=function(e){var t=e.onWizardClose,n=e.onIDPCreate,i=e.title,o=e.subTitle,a=e.template,r=e["data-testid"],l=e["data-componentid"],b=(0,c.useRef)(null),y=Hi((0,c.useState)(!1),2),E=y[0],S=y[1],w=Hi((0,c.useState)([]),2),C=w[0],O=w[1],I=Hi((0,c.useState)(0),2),A=I[0],L=I[1],T=Hi((0,m.IK)(),3),N=T[0],R=T[1],Z=T[2],x=Hi((0,c.useState)(oo),2),k=x[0],U=x[1],F=Hi((0,c.useState)(),2),W=F[0],M=F[1],D=Hi((0,c.useState)(null),2),Q=D[0],j=D[1],B=Hi((0,c.useState)(null),2),G=B[0],V=B[1],X=Hi((0,c.useState)(null),2),z=X[0],J=X[1],K=Hi((0,c.useState)("jwks"),2),ee=K[0],te=K[1],ne=Hi((0,c.useState)("oidc"),2),ie=ne[0],oe=ne[1],ae=Hi((0,c.useState)("file"),2),re=ae[0],le=ae[1],ce=Hi((0,c.useState)(null),2),se=ce[0],ue=ce[1],de=Hi((0,c.useState)(!1),2),pe=de[0],me=de[1],fe=Hi((0,c.useState)(!0),2),he=fe[0],ge=fe[1],be=Hi((0,c.useState)([]),2),ve=be[0],ye=be[1],Ee=Hi((0,c.useState)(!1),2),Se=Ee[0],we=Ee[1],Ce=(0,s.v9)((function(e){return e.config})),Oe=(0,s.I0)(),Ie=(0,g.$)().t,Ae=(0,m.fQ)().getLink,Le=P.lD.getInstance();(0,c.useEffect)((function(){we(!0),(0,Ni.SN)(null,null,null).then((function(e){ye(e.identityProviders)})).catch((function(e){(0,Ri.Df)(e)})).finally((function(){we(!1)}))}),[]),(0,c.useEffect)((function(){E||(O(Re()),S(!0))}),[E]),(0,c.useEffect)((function(){te("oidc"===ie?"jwks":"pem")}),[ie]);var Te,Ne=(0,c.useMemo)((function(){return{NameIDType:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",RequestMethod:"post",name:oo}}),[]),Re=function(){return[{icon:(0,Fe.hz)().general,name:zi.GENERAL_DETAILS,title:"General Settings"},{icon:(0,Fe.hz)().authenticatorSettings,name:zi.AUTHENTICATOR_SETTINGS,title:"Configuration"},{icon:(0,Fe.hz)().general,name:zi.CERTIFICATES,title:"Certificates"}]},Ze=function(e){return(null==ve?void 0:ve.length)>0&&ve.reduce((function(e,t){var n=t.name;return e.add(n)}),new Set).has(e)},xe=function(e){return p.URLUtils.isLoopBackCall(e)&&null!==$.commonConfig&&void 0!==$.commonConfig&&$.commonConfig.blockLoopBackCalls?Ie("idp:forms.common.internetResolvableErrorMessage"):void 0},ke=function(){return c.createElement(Ti.k0,{validate:function(e){var t={};t.name=lo(so,uo($i))(e.name),Ze(e.name)&&(t.name=Ie("authenticationProvider:forms.generalDetails.name.validations.duplicate")),ji.I.isValidResourceName(e.name)||(t.name=Ie("authenticationProvider:templates.enterprise.validation.name")),ge(co(t))}},c.createElement(Ti.gN.Input,{"data-testid":"".concat(r,"-form-wizard-idp-name"),ariaLabel:"name",inputType:"resource_name",name:"name",placeholder:"Enter a name for the identity provider",label:"Identity provider name",initialValue:Ne.name,maxLength:$i.max,minLength:$i.min,required:!0,width:15,format:function(e){return e.toString().trimStart()},validation:function(e){var t;return t=lo(so,uo($i))(e),Ze(e)&&(t=Ie("authenticationProvider:forms.generalDetails.name.validations.duplicate")),ji.I.isValidResourceName(e)||(t=Ie("authenticationProvider:templates.enterprise.validation.invalidName",{idpName:e})),""!==t&&void 0!==t||ge(!1),t}}),c.createElement(q.Z,null,c.createElement(q.Z.Row,null,c.createElement(q.Z.Column,{mobile:16,tablet:16,computer:14},c.createElement("div",{className:"sub-template-selection"},c.createElement("label",{className:"sub-templates-label"},"Select protocol"),c.createElement(Y.Z.Group,{itemsPerRow:3,className:"sub-templates"},c.createElement(m.B0,{inline:!0,image:(0,Fe.nI)().oidc,size:"small",className:"sub-template-selection-card",header:"OpenID Connect",selected:"oidc"===ie,onClick:function(){return oe("oidc")},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},contentTopBorder:!1,showTooltips:!0,"data-testid":"".concat(r,"-form-wizard-oidc-selection-card")}),c.createElement(m.B0,{inline:!0,image:(0,Fe.nI)().saml,size:"small",className:"sub-template-selection-card",header:"SAML",selected:"saml"===ie,onClick:function(){return oe("saml")},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},showTooltips:!0,disabled:!1,overlay:c.createElement(Bi.Z,{className:"lighter",active:!0},Ie("common:featureAvailable")),contentTopBorder:!1,renderDisabledItemsAsGrayscale:!1,overlayOpacity:.6,"data-testid":"".concat(r,"-form-wizard-saml-selection-card")})))))))},Ue=function(){return c.createElement(Ti.k0,{validate:function(e){var t,n={};"oidc"===ie&&"jwks"===ee&&((null===(t=e.jwks_endpoint)||void 0===t?void 0:t.length)>0&&(n.jwks_endpoint=lo(uo(io),xe,po)(e.jwks_endpoint)),ge(co(n)));return n}},c.createElement(q.Z,null,c.createElement(q.Z.Row,{columns:1},c.createElement(q.Z.Column,{mobile:16,tablet:16,computer:10},c.createElement("p",null,c.createElement("b",null,"Mode of certificate configuration")),"oidc"===ie&&c.createElement(m.T5,{compact:!0,disabledMessage:"This feature will be enabled soon.",className:"mt-1",defaultOptionValue:"jwks",selectedValue:ee,onChange:function(e){var t=e.value;return te(t)},options:[{label:"JWKS endpoint",value:"jwks"},{label:"Use PEM certificate",value:"pem"}]})))),c.createElement(v.Z,{hidden:!0}),"oidc"===ie&&"jwks"===ee&&c.createElement(c.Fragment,null,c.createElement(Ti.gN.Input,{ariaLabel:"JWKS endpoint URL",inputType:"url",name:"jwks_endpoint",label:"JWKS endpoint URL",required:!1,maxLength:io.max,minLength:io.min,width:15,initialValue:oo,placeholder:"Enter JWKS endpoint URL","data-testid":"".concat(r,"-form-wizard-oidc-jwks-endpoint-url")}),c.createElement(m.kW,null,Ce.ui.productName," will use this URL to obtain keys to verify the signed responses from your external IdP")),"pem"===ee&&c.createElement(c.Fragment,null,c.createElement(m.GB,{key:2,file:z,pastedContent:se,fileStrategy:ao,normalizeStateOnRemoveOperations:!0,onChange:function(e){var t,n;ue(e.pastedContent),J(e.file),U(null===(t=e.serialized)||void 0===t?void 0:t.pem),ge(((null===(n=e.pastedContent)||void 0===n?void 0:n.length)>0||e.file)&&!e.serialized&&!e.valid)},uploadButtonText:"Upload Certificate File",dropzoneText:"Drag and drop a certificate file here.",pasteAreaPlaceholderText:"Paste IdP certificate in PEM format.",icon:(0,P._5)().uploadPlaceholder,placeholderIcon:c.createElement(H.Z,{name:"file alternate",size:"huge"}),"data-testid":"".concat(r,"-form-wizard-").concat(ie,"-pem-certificate")}),c.createElement(m.kW,null,Ce.ui.productName," will use this certificate to verify the signed responses from your external IdP.")))};return c.createElement(P.wv,{open:!0,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(r,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"wizard-header","data-testid":"".concat(r,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().enterprise,size:"x30",transparent:!0,spaced:"right","data-testid":"".concat(r,"-image")}),c.createElement("div",null,i,o&&c.createElement(m.X6,{as:"h6"},o,(Te=void 0,ie===Vi.RE.SAML&&(Te=Ae("develop.connections.newConnection.enterprise.saml.learnMore")),ie===Vi.RE.OIDC&&(Te=Ae("develop.connections.newConnection.enterprise.oidc.learnMore")),c.createElement(m.eb,{link:Te},Ie("common:learnMore"))))))),c.createElement(c.Fragment,null,c.createElement(P.wv.Content,{className:"steps-container","data-testid":"".concat(r,"-modal-content-1")},c.createElement(m.Rg.Group,{current:A},C.map((function(e,t){return c.createElement(m.Rg.Step,{active:!0,key:t,icon:e.icon,title:e.title})})))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(r,"-modal-content-2")},N&&Z,Se?c.createElement(m.pO,null):c.createElement(Ti.w,{ref:b,initialValues:Ne,onSubmit:function(e){var t,i,o,r,c,s,p,m,g,b,v=(0,f.Z)(a.subTemplates.find((function(e){return e.id===("saml"===ie?Tn.bQ.IDP_TEMPLATE_IDS.SAML:Tn.bQ.IDP_TEMPLATE_IDS.OIDC)}))).idp;"oidc"===ie?(v.templateId=null===(t=a.subTemplates.find((function(e){return"enterprise-oidc-idp"===e.templateId})))||void 0===t?void 0:t.templateId,v.name=null==e||null===(i=e.name)||void 0===i?void 0:i.toString(),v.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:null==e||null===(o=e.clientId)||void 0===o?void 0:o.toString()},{key:"ClientSecret",value:null==e||null===(r=e.clientSecret)||void 0===r?void 0:r.toString()},{key:"OAuth2AuthzEPUrl",value:null==e||null===(c=e.authorizationEndpointUrl)||void 0===c?void 0:c.toString()},{key:"OAuth2TokenEPUrl",value:null==e||null===(s=e.tokenEndpointUrl)||void 0===s?void 0:s.toString()},{key:"callbackUrl",value:(null==Ce||null===(p=Ce.deployment)||void 0===p?void 0:p.customServerHost)+"/commonauth"}],v.certificate.jwksUri=null!==(m=e.jwks_endpoint)&&void 0!==m?m:oo,v.certificate.certificates=[k?btoa(k):oo]):(v.templateId=null===(g=a.subTemplates.find((function(e){return"enterprise-saml-idp"===e.templateId})))||void 0===g?void 0:g.templateId,v.name=null==e||null===(b=e.name)||void 0===b?void 0:b.toString(),v.federatedAuthenticators.authenticators[0].properties="manual"===re?[{key:"IdPEntityId",value:e.IdPEntityId},{key:"NameIDType",value:e.NameIDType},{key:"RequestMethod",value:e.RequestMethod},{key:"SPEntityId",value:e.SPEntityId},{key:"SSOUrl",value:e.SSOUrl},{key:"SelectMode",value:"Manual Configuration"},{key:"IsUserIdInClaims",value:"false"},{key:"IsSLORequestAccepted",value:"false"},{key:"SignatureAlgorithm",value:"RSA with SHA256"},{key:"DigestAlgorithm",value:"SHA256"}]:[{key:"SPEntityId",value:e.SPEntityId},{key:"meta_data_saml",value:null!=W?W:oo},{key:"SelectMode",value:"Metadata File Configuration"},{key:"IsUserIdInClaims",value:"false"},{key:"IsSLORequestAccepted",value:"false"}],v.certificate.certificates=[k?btoa(k):oo]);v.image="assets/images/logos/enterprise.svg",v.description=Gi.C.getAuthenticatorDescription(v.federatedAuthenticators.authenticators[0].authenticatorId),me(!0),(0,Ni.Sf)(v).then((function(e){if(Le.publish("connections-finish-adding-connection",{type:l+"-"+(0,_.Z)(ie)}),Oe((0,d.V_)({description:Ie("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:Ie("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))n();else{var t=e.headers.location,i=t.substring(t.lastIndexOf("/")+1);n(i)}})).catch((function(e){var t,n,i=$.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;return 403===e.response.status&&(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)===i.getErrorCode()?(R({code:i.getErrorCode(),description:Ie(i.getErrorDescription()),level:u.QU.ERROR,message:Ie(i.getErrorMessage()),traceId:i.getErrorTraceId()}),void setTimeout((function(){return R(void 0)}),4e3)):500===(null==e?void 0:e.response.status)&&"saml"===ie&&"file"===re&&"IDP-65002"===(null===(n=e.response)||void 0===n?void 0:n.data.code)?(R({description:"You are trying to add a provider with an existing Identity Provider Entity ID or a Service Provider Entity ID.",level:u.QU.ERROR,message:"There's a Conflicting Entity"}),void setTimeout((function(){return R(void 0)}),8e3)):e.response&&e.response.data&&e.response.data.description?(R({description:Ie("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:Ie("authenticationProvider:notifications.addIDP.error.message")}),void setTimeout((function(){return R(void 0)}),4e3)):(R({description:Ie("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:Ie("authenticationProvider:notifications.addIDP.genericError.message")}),void setTimeout((function(){return R(void 0)}),4e3))})).finally((function(){me(!1)}))},uncontrolledForm:!0,pageChanged:function(e){return L(e)},"data-testid":r},"oidc"===ie?[ke(),c.createElement(Ti.k0,{validate:function(e){var t={};return t.clientId=lo(so,uo(Ji))(e.clientId),t.clientSecret=lo(so,uo(qi))(e.clientSecret),t.authorizationEndpointUrl=lo(so,po,xe,uo(Ki))(e.authorizationEndpointUrl),t.tokenEndpointUrl=lo(so,po,xe,uo(Ki))(e.tokenEndpointUrl),ge(co(t)),t}},c.createElement(Ti.gN.Input,{ariaLabel:"clientId",inputType:"client_id",name:"clientId",label:"Client ID",required:!0,maxLength:100,minLength:3,placeholder:"Enter client id","data-testid":"".concat(r,"-form-wizard-oidc-idp-client-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"clientSecret",className:"addon-field-wrapper",inputType:"password",name:"clientSecret",label:"Client secret",required:!0,hidePassword:Ie("common:hide"),showPassword:Ie("common:show"),maxLength:100,minLength:3,type:"password",placeholder:"Enter client secret","data-testid":"".concat(r,"-form-wizard-oidc-idp-client-secret"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"authorizationEndpointUrl",inputType:"url",name:"authorizationEndpointUrl",label:"Authorization endpoint URL",required:!0,placeholder:"Enter authorization endpoint URL",maxLength:100,minLength:3,"data-testid":"".concat(r,"-form-wizard-oidc-idp-authorization-endpoint-url"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"tokenEndpointUrl",inputType:"url",name:"tokenEndpointUrl",label:"Token endpoint URL",required:!0,placeholder:"Enter token endpoint URL",maxLength:100,minLength:3,"data-testid":"".concat(r,"-form-wizard-oidc-idp-token-endpoint-url"),width:13})),Ue()]:[ke(),c.createElement(Ti.k0,{validate:function(e){var t={};return t.SPEntityId=lo(so,uo(eo))(e.SPEntityId),"file"===re?ge(co(t)||!W):(t.NameIDType=lo(so)(e.NameIDType),t.SSOUrl=lo(so,uo(to),po)(e.SSOUrl),t.IdPEntityId=lo(so,uo(no))(e.IdPEntityId),t.RequestMethod=lo(so)(e.RequestMethod),ge(co(t))),t}},c.createElement(Ti.gN.Input,{ariaLabel:"Service provider entity id",inputType:"url",name:"SPEntityId",label:"Service provider entity ID",required:!0,maxLength:eo.max,minLength:eo.min,width:15,placeholder:"Enter a Service Provider Entity ID","data-testid":"".concat(r,"-form-wizard-saml-entity-id")}),c.createElement(q.Z,null,c.createElement(q.Z.Row,{columns:1},c.createElement(q.Z.Column,{mobile:16,tablet:16,computer:10},c.createElement("p",null,c.createElement("b",null,"Mode of configuration")),c.createElement(m.T5,{compact:!0,"data-testid":"".concat(r,"-form-wizard-saml-config-switcher"),className:"mt-1",selectedValue:re,onChange:function(e){var t=e.value;return le(t)},options:[{label:"Manual Configuration",value:"manual"},{label:"File Based Configuration",value:"file"}]})))),c.createElement(v.Z,{hidden:!0}),"manual"===re?c.createElement("div",null,c.createElement(Ti.gN.Input,{inputType:"url",ariaLabel:"Identity provider Single Sign-On URL",name:"SSOUrl",label:"Identity provider Single Sign-On URL",required:!0,maxLength:to.max,minLength:to.min,width:15,placeholder:"Enter SAML 2.0 redirect SSO url","data-testid":"".concat(r,"-form-wizard-saml-sso-url")}),c.createElement(Ti.gN.Input,{inputType:"url",ariaLabel:"Identity provider entity ID",name:"IdPEntityId",label:"Identity provider entity ID",required:!0,maxLength:no.max,minLength:no.min,width:15,placeholder:"Enter SAML 2.0 entity id (saml issuer)","data-testid":"".concat(r,"-form-wizard-saml-idp-entity-id")})):c.createElement(m.GB,{key:1,hidePasteOption:!0,fileStrategy:ro,file:Q,pastedContent:G,onChange:function(e){j(e.file),V(e.pastedContent),M(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(r,"-form-wizard-saml-xml-config-file-picker"),icon:(0,P._5)().uploadPlaceholder,placeholderIcon:c.createElement(H.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0})),Ue()]))),c.createElement(P.wv.Actions,{"data-testid":"".concat(r,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:t,"data-testid":"".concat(r,"-modal-cancel-button")},Ie("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},A<C.length-1&&c.createElement(m.KM,{disabled:he,floated:"right",onClick:function(){b.current.gotoNextPage()},"data-testid":"".concat(r,"-modal-next-button")},Ie("authenticationProvider:wizards.buttons.next"),c.createElement(H.Z,{name:"arrow right"})),A===C.length-1&&c.createElement(m.KM,{disabled:he||pe,type:"submit",floated:"right",onClick:function(){b.current.gotoNextPage()},"data-testid":"".concat(r,"-modal-finish-button"),loading:pe},Ie("authenticationProvider:wizards.buttons.finish")),A>0&&c.createElement(m.Qj,{type:"submit",floated:"right",onClick:function(){return b.current.gotoPreviousPage()},"data-testid":"".concat(r,"-modal-previous-button")},c.createElement(H.Z,{name:"arrow left"}),Ie("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(1!==A)return null;var t=(0,f.Z)(a.subTemplates.find((function(e){return e.id===("saml"===ie?Tn.bQ.IDP_TEMPLATE_IDS.SAML:Tn.bQ.IDP_TEMPLATE_IDS.OIDC)})));if(null==t||null===(e=t.content)||void 0===e||!e.wizardHelp)return null;var n=(null==t?void 0:t.content).wizardHelp;return"saml"===ie&&"file"===re&&(n=t.content.fileBasedHelpPanel),c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{"data-testid":"".concat(r,"-modal-side-panel-header"),className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},"Help")),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(m.pO,null)},c.createElement(n,{"data-testid":"".concat(r,"-modal-side-panel-help-content")}))))}())};Yi.defaultProps={currentStep:0,"data-componentid":"enterprise-idp","data-testid":"enterprise-idp-create-wizard"};var Ji={max:100,min:1},qi={max:100,min:1},Ki={max:2048,min:10},$i={max:120,min:3},eo={max:240,min:3},to={max:2048,min:10},no={max:2048,min:5},io={max:2048,min:0},oo="",ao=new m.tN,ro=new m.R2,lo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},co=function(e){return!Object.keys(e).every((function(t){return!e[t]}))},so=function(e){if(!e)return"This is a required field"},uo=function(e){return function(t){return!t&&e.min>0?"You cannot leave this blank":(null==t?void 0:t.length)>e.max?"Cannot exceed more than ".concat(e.max," characters."):(null==t?void 0:t.length)<e.min?"Should have at least ".concat(e.min," characters."):void 0}},po=function(e){return ji.I.url(e)?void 0:"This value is invalid."},mo=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-componentid"],u=(0,g.$)().t,d=(0,Ni.af)(),p=d.data,f=d.isLoading,h=d.error;(0,c.useEffect)((function(){h&&(0,Ri.Df)(h)}),[h]);return f?c.createElement(m.pO,null):c.createElement(Ti.en,{id:"expert-mode-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-componentid":s},c.createElement(Ti.k0,{validate:function(e){var t={name:void 0};return e.name||(t.name=u("authenticationProvider:forms.common.requiredErrorMessage")),t}},c.createElement(Ti.gN.Input,{ariaLabel:"Expert Mode IDP Name",inputType:"name",name:"name",label:u("authenticationProvider:forms.generalDetails.name.label"),placeholder:u("authenticationProvider:forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;return(null==p?void 0:p.count)>0&&(null==p||p.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t?u("authenticationProvider:forms.generalDetails.name.validations.duplicate"):null}(e)},maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-componentid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Textarea,{ariaLabel:"Expert Mode IDP Description",inputType:"description",name:"description",label:u("authenticationProvider:forms.generalDetails.description.label"),placeholder:u("authenticationProvider:forms.generalDetails.description.placeholder"),required:!1,maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MIN_LENGTH,"data-componentid":"".concat(s,"-idp-description"),width:13})))};mo.defaultProps={"data-componentid":"expert-mode-idp-create-wizard-content"};var fo=n(93758),ho=n(79589);function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vo(e,t,n){var i;return i=function(e,t){if("object"!=go(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=go(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==go(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var So=function(e){var t=e.onWizardClose,n=e.onIDPCreate,i=e.currentStep,o=e.title,a=e.subTitle,r=e.template,l=e["data-componentid"],p=(0,s.I0)(),f=(0,g.$)().t,b=(0,m.fQ)().getLink,v=yo((0,m.IK)(),3),y=v[0],E=v[1],S=v[2],w=yo((0,c.useState)(i),2),C=w[0],O=w[1],I=yo((0,c.useState)(0),2),A=I[0],L=I[1],T=yo((0,c.useState)(0),2),N=T[0],R=T[1],Z=yo((0,c.useState)(!1),2),x=Z[0],k=Z[1],U=yo((0,c.useState)(!1),2),F=U[0],P=U[1],W=ho.lD.getInstance();(0,c.useEffect)((function(){O(A+1)}),[A]);var M,D,Q=function(){t()};return c.createElement(c.Fragment,null,F&&c.createElement(fo.Pj,{actionLabel:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){P(!1),Q()},header:f("idp:notifications.tierLimitReachedError.heading"),description:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:F}),c.createElement(fo.wv,{open:!F,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:Q,closeOnDimmerClick:!1,closeOnEscape:!0,"data-componentid":"".concat(l,"-modal")},c.createElement(fo.wv.MainPanel,null,c.createElement(fo.wv.Header,{className:"wizard-header","data-componentid":"".concat(l,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().expert,size:"mini",transparent:!0,spaced:"right","data-componentid":"".concat(l,"-image")}),c.createElement("div",{className:"ml-1"},o,a&&c.createElement(m.X6,{as:"h6"},a,c.createElement(m.eb,{link:b("develop.connections.newConnection.siwe.learnMore")},f("common:learnMore")))))),c.createElement(fo.wv.Content,{className:"content-container","data-componentid":"".concat(l,"-modal-content")},y&&S,c.createElement(mo,{onSubmit:function(e){var t,i,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);o.name=null==e||null===(t=e.name)||void 0===t?void 0:t.toString(),o.description=(null==e||null===(i=e.description)||void 0===i?void 0:i.toString())||r.description,o.templateId=r.templateId,o.image="assets/images/logos/expert.svg",function(e){k(!0),(0,Ni.Sf)(e).then((function(e){if(W.publish("connections-finish-adding-connection",{type:l}),p((0,d.V_)({description:f("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:f("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))n();else{var t=e.headers.location,i=t.substring(t.lastIndexOf("/")+1);n(i)}})).catch((function(e){var t,n=Oe.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)!==n.getErrorCode()?e.response&&e.response.data&&e.response.data.description?E({description:f("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:f("authenticationProvider:notifications.addIDP.error.message")}):E({description:f("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:f("authenticationProvider:notifications.addIDP.genericError.message")}):P(!0)})).finally((function(){k(!1)}))}(o)},triggerSubmission:function(e){M=e},triggerPrevious:function(e){D=e},changePageNumber:function(e){return L(e)},setTotalPage:function(e){return R(e)},template:r})),c.createElement(fo.wv.Actions,{"data-componentid":"".concat(l,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:Q,"data-componentid":"".concat(l,"-modal-cancel-button")},f("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},C!==N?c.createElement(m.KM,{floated:"right",onClick:function(){M()},"data-componentid":"".concat(l,"-modal-finish-button"),loading:x,disabled:x},f("authenticationProvider:wizards.buttons.next")):c.createElement(c.Fragment,null,c.createElement(m.KM,{floated:"right",onClick:function(){M()},"data-componentid":"".concat(l,"-modal-finish-button"),loading:x,disabled:x},f("authenticationProvider:wizards.buttons.finish"))),C>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){D()},"data-componentid":"".concat(l,"-modal-previous-button")},f("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===C)return null;var t=(null==r?void 0:r.content).wizardHelp;return c.createElement(fo.wv.SidePanel,null,c.createElement(fo.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},f("authenticationProvider:templates.expert.wizardHelp.heading"))),c.createElement(fo.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(m.pO,null)},c.createElement(t,null))))}()))};function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Co(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}So.defaultProps={currentStep:1,"data-componentid":"expert-mode-idp-create-wizard"};var Oo=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-testid"],u=(0,g.$)().t,d=wo((0,c.useState)({}),2),p=d[0],m=d[1],f=wo((0,c.useState)(void 0),2),h=f[0],b=f[1];(0,c.useEffect)((function(){v()}),[]);var v=function(){b(!0),(0,Ni.SN)(null,null,null).then((function(e){m(e)})).catch((function(e){(0,Ri.Df)(e)})).finally((function(){b(!1)}))};return void 0!==h&&!1===h?c.createElement(Ti.en,{id:"facebook-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-testid":s},c.createElement(Ti.k0,{validate:function(e){var t={clientId:void 0,clientSecret:void 0,name:void 0};return e.name||(t.name=u("authenticationProvider:forms.common.requiredErrorMessage")),e.clientId||(t.clientId=u("authenticationProvider:forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=u("authenticationProvider:forms.common.requiredErrorMessage")),t}},c.createElement(Ti.gN.Input,{ariaLabel:"Facebook IDP Name",inputType:"name",name:"name",label:u("authenticationProvider:forms.generalDetails.name.label"),placeholder:u("authenticationProvider:forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==p?void 0:p.count)>0&&(null==p||p.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return u("authenticationProvider:forms.generalDetails.name.validations.duplicate")}(e)},maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Facebook Client ID",inputType:"client_id",name:"clientId",label:u("authenticationProvider:forms.authenticatorSettings.facebook.clientId.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.facebook.clientId.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.facebook.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Facebook Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:u("authenticationProvider:forms.authenticatorSettings.facebook.clientSecret.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.facebook.clientSecret.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.facebook.clientSecret.validations.required"),type:"password",hidePassword:u("common:hide"),showPassword:u("common:show"),autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-secret"),width:13}))):null};function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lo(e,t,n){var i;return i=function(e,t){if("object"!=Io(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Io(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Io(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function To(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return No(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Oo.defaultProps={"data-testid":"facebook-idp-create-wizard-content"};var Ro=function(e){var t=e.onWizardClose,n=e.onIDPCreate,i=e.currentStep,o=e.title,a=e.subTitle,r=e.template,l=e["data-testid"],p=e["data-componentid"],f=(0,s.I0)(),b=(0,g.$)().t,v=(0,m.fQ)().getLink,y=To((0,m.IK)(),3),E=y[0],S=y[1],w=y[2],C=(0,s.v9)((function(e){return e.config})),O=To((0,c.useState)(i),2),I=O[0],A=O[1],L=To((0,c.useState)(0),2),T=L[0],N=L[1],R=To((0,c.useState)(0),2),Z=R[0],x=R[1],k=To((0,c.useState)(!1),2),U=k[0],F=k[1],W=To((0,c.useState)(!1),2),M=W[0],D=W[1],Q=P.lD.getInstance();(0,c.useEffect)((function(){A(T+1)}),[T]);var _,j,B=function(e){var t,i=null==e||null===(t=e.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t?void 0:t.connectors[0],o=(0,Li.Z)(i,Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===Tn.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&o&&delete i[Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=r.description,function(e){F(!0),(0,Ni.Sf)(e).then((function(e){if(Q.publish("connections-finish-adding-connection",{type:p}),f((0,d.V_)({description:b("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:b("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))n();else{var t=e.headers.location,i=t.substring(t.lastIndexOf("/")+1);n(i)}})).catch((function(e){var t,n=Ui.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)!==n.getErrorCode()?e.response&&e.response.data&&e.response.data.description?S({description:b("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:b("authenticationProvider:notifications.addIDP.error.message")}):S({description:b("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:b("authenticationProvider:notifications.addIDP.genericError.message")}):D(!0)})).finally((function(){F(!1)}))}(e)},G=function(){t()};return c.createElement(c.Fragment,null,M&&c.createElement(Fi.P,{actionLabel:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){D(!1),G()},header:b("idp:notifications.tierLimitReachedError.heading"),description:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:M}),c.createElement(P.wv,{open:!M,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:G,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().facebook,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),c.createElement("div",{className:"ml-1"},o,a&&c.createElement(m.X6,{as:"h6"},a,c.createElement(m.eb,{link:v("develop.connections.newConnection.facebook.learnMore")},b("common:learnMore")))))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},E&&w,c.createElement(Oo,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.templateId=r.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:e.clientId.toString()},{key:"ClientSecret",value:e.clientSecret.toString()},{key:"callBackUrl",value:(null==C||null===(t=C.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"Scope",value:Tn.bQ.FACEBOOK_AUTHENTICATOR_REQUESTED_SCOPES.join(",")},{key:"UserInfoFields",value:Tn.bQ.FACEBOOK_AUTHENTICATOR_REQUESTED_PROFILE_FIELDS.join(",")}],n.image="assets/images/logos/facebook.svg",B(n)},triggerSubmission:function(e){_=e},triggerPrevious:function(e){j=e},changePageNumber:function(e){return N(e)},setTotalPage:function(e){return x(e)},template:r})),c.createElement(P.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:G,"data-testid":"".concat(l,"-modal-cancel-button")},b("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},I!==Z?c.createElement(m.KM,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-finish-button"),loading:U,disabled:U},b("authenticationProvider:wizards.buttons.next")):c.createElement(c.Fragment,null,c.createElement(m.KM,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-finish-button"),loading:U,disabled:U},b("authenticationProvider:wizards.buttons.finish"))),I>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){j()},"data-testid":"".concat(l,"-modal-previous-button")},b("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===I)return null;var t=(null==r?void 0:r.content).wizardHelp;return c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},b("authenticationProvider:templates.facebook.wizardHelp.heading"))),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(Ai.p,null)},c.createElement(t,null))))}()))};function Zo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Ro.defaultProps={currentStep:1,"data-componentid":"facebook-idp","data-testid":"facebook-idp-create-wizard"};var ko=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-testid"],u=(0,g.$)().t,d=Zo((0,c.useState)({}),2),p=d[0],m=d[1],f=Zo((0,c.useState)(void 0),2),h=f[0],b=f[1];(0,c.useEffect)((function(){v()}),[]);var v=function(){b(!0),(0,Ni.SN)(null,null,null).then((function(e){m(e)})).catch((function(e){(0,Ri.Df)(e)})).finally((function(){b(!1)}))};return void 0!==h&&!1===h?c.createElement(Ti.en,{id:"github-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-testid":s},c.createElement(Ti.k0,{validate:function(e){var t={clientId:void 0,clientSecret:void 0,name:void 0};return e.name||(t.name=u("authenticationProvider:forms.common.requiredErrorMessage")),e.clientId||(t.clientId=u("authenticationProvider:forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=u("authenticationProvider:forms.common.requiredErrorMessage")),t}},c.createElement(Ti.gN.Input,{ariaLabel:"GitHub IDP Name",inputType:"name",name:"name",label:u("authenticationProvider:forms.generalDetails.name.label"),placeholder:u("authenticationProvider:forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==p?void 0:p.count)>0&&(null==p||p.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return u("authenticationProvider:forms.generalDetails.name.validations.duplicate")}(e)},maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"GitHub Client ID",inputType:"client_id",name:"clientId",label:u("authenticationProvider:forms.authenticatorSettings.github.clientId.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.github.clientId.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.github.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"GitHub Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:u("authenticationProvider:forms.authenticatorSettings.github.clientSecret.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.github.clientSecret.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.github.clientSecret.validations.required"),type:"password",hidePassword:u("common:hide"),showPassword:u("common:show"),autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-secret"),width:13}))):null};function Uo(e){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(e)}function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Po(e,t,n){var i;return i=function(e,t){if("object"!=Uo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Uo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Uo(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ko.defaultProps={"data-testid":"github-idp-create-wizard-page"};var Do=function(e){var t=e.onWizardClose,n=e.onIDPCreate,i=e.currentStep,o=e.title,a=e.subTitle,r=e.template,l=e["data-testid"],p=e["data-componentid"],f=(0,s.I0)(),b=(0,g.$)().t,v=(0,m.fQ)().getLink,y=Wo((0,m.IK)(),3),E=y[0],S=y[1],w=y[2],C=(0,s.v9)((function(e){return e.config})),O=Wo((0,c.useState)(i),2),I=O[0],A=O[1],L=Wo((0,c.useState)(0),2),T=L[0],N=L[1],R=Wo((0,c.useState)(0),2),Z=R[0],x=R[1],k=Wo((0,c.useState)(!1),2),U=k[0],F=k[1],W=Wo((0,c.useState)(!1),2),M=W[0],D=W[1],Q=P.lD.getInstance();(0,c.useEffect)((function(){A(T+1)}),[T]);var _,j,B=function(e){var t,i=null==e||null===(t=e.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t?void 0:t.connectors[0],o=(0,Li.Z)(i,Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===Tn.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&o&&delete i[Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=r.description,function(e){F(!0),(0,Ni.Sf)(e).then((function(e){if(Q.publish("connections-finish-adding-connection",{type:p}),f((0,d.V_)({description:b("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:b("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))n();else{var t=e.headers.location,i=t.substring(t.lastIndexOf("/")+1);n(i)}})).catch((function(e){var t,n=Ui.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)!==n.getErrorCode()?e.response&&e.response.data&&e.response.data.description?S({description:b("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:b("authenticationProvider:notifications.addIDP.error.message")}):S({description:b("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:b("authenticationProvider:notifications.addIDP.genericError.message")}):D(!0)})).finally((function(){F(!1)}))}(e)},G=function(){t()};return c.createElement(c.Fragment,null,M&&c.createElement(Fi.P,{actionLabel:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){D(!1),G()},header:b("idp:notifications.tierLimitReachedError.heading"),description:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:M}),c.createElement(P.wv,{open:!M,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:G,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().github,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),c.createElement("div",{className:"ml-1"},o,a&&c.createElement(m.X6,{as:"h6"},a,c.createElement(m.eb,{link:v("develop.connections.newConnection.github.learnMore")},b("common:learnMore")))))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},E&&w,c.createElement(ko,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){Po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.templateId=r.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:e.clientId.toString()},{key:"ClientSecret",value:e.clientSecret.toString()},{key:"callbackUrl",value:(null==C||null===(t=C.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"scope",value:Tn.bQ.GITHUB_AUTHENTICATOR_REQUESTED_SCOPES.join(" ")},{key:"UsePrimaryEmail",value:"true"}],n.image="assets/images/logos/github.svg",B(n)},triggerSubmission:function(e){_=e},triggerPrevious:function(e){j=e},changePageNumber:function(e){return N(e)},setTotalPage:function(e){return x(e)},template:r})),c.createElement(P.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:G,"data-testid":"".concat(l,"-modal-cancel-button")},b("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},I!==Z?c.createElement(m.KM,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-finish-button"),loading:U,disabled:U},b("authenticationProvider:wizards.buttons.next")):c.createElement(c.Fragment,null,c.createElement(m.KM,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-finish-button"),loading:U,disabled:U},b("authenticationProvider:wizards.buttons.finish"))),I>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){j()},"data-testid":"".concat(l,"-modal-previous-button")},b("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===I)return null;var t=(null==r?void 0:r.content).wizardHelp;return c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},b("authenticationProvider:templates.github.wizardHelp.heading"))),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(Ai.p,null)},c.createElement(t,null))))}()))};function Qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Do.defaultProps={currentStep:1,"data-componentid":"github-idp","data-testid":"github-idp-create-wizard"};var jo=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-testid"],u=Qo((0,c.useState)({}),2),d=u[0],p=u[1],m=Qo((0,c.useState)(void 0),2),f=m[0],h=m[1],b=(0,g.$)().t;(0,c.useEffect)((function(){v()}),[]);var v=function(){h(!0),(0,Ni.SN)(null,null,null).then((function(e){p(e)})).catch((function(e){(0,Ri.Df)(e)})).finally((function(){h(!1)}))};return void 0!==f&&!1===f?c.createElement(Ti.en,{id:"google-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-testid":s},c.createElement(Ti.k0,{validate:function(e){var t={};return e.name||(t.name=b("authenticationProvider:forms.common.requiredErrorMessage")),e.clientId||(t.clientId=b("authenticationProvider:forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=b("authenticationProvider:forms.common.requiredErrorMessage")),t}},c.createElement(Ti.gN.Input,{ariaLabel:"Google IDP Name",inputType:"name",name:"name",label:b("authenticationProvider:forms.generalDetails.name.label"),placeholder:b("authenticationProvider:forms.generalDetails.name.placeholder"),required:!0,maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,validation:function(e){return function(e){var t=!1;if((null==d?void 0:d.count)>0&&(null==d||d.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return b("authenticationProvider:forms.generalDetails.name.validations.duplicate")}(e)},"data-testid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Google Client ID",inputType:"client_id",name:"clientId",label:b("authenticationProvider:templates.google.wizardHelp.clientId.heading"),placeholder:b("authenticationProvider:forms.authenticatorSettings.google.clientId.placeholder"),required:!0,message:b("authenticationProvider:forms.common.requiredErrorMessage"),type:"text",autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Google Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:b("authenticationProvider:templates.google.wizardHelp.clientSecret.heading"),placeholder:b("authenticationProvider:forms.authenticatorSettings.google.clientSecret.placeholder"),required:!0,message:b("authenticationProvider:forms.common.requiredErrorMessage"),type:"password",hidePassword:b("common:hide"),showPassword:b("common:show"),autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-secret"),width:13}))):null};function Bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Go(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}jo.defaultProps={"data-testid":"idp-edit-idp-create-wizard"};var Vo=function(e){var t,n,i=e.onWizardClose,o=e.onIDPCreate,a=e.currentStep,r=e.title,l=e.subTitle,p=e.template,f=e["data-testid"],b=e["data-componentid"],v=Bo((0,c.useState)(a),2),y=v[0],E=v[1],S=Bo((0,c.useState)(void 0),2)[1],w=Bo((0,c.useState)(void 0),2)[1],C=Bo((0,c.useState)(!1),2),O=C[0],I=C[1],A=Bo((0,c.useState)(!1),2),L=A[0],T=A[1],N=(0,s.I0)(),R=(0,g.$)().t,Z=(0,m.fQ)().getLink,x=(0,s.v9)((function(e){return e.config})),k=(0,s.v9)((function(e){return e.identityProvider.meta.authenticators})),U=Bo((0,m.IK)(),3),F=U[0],W=U[1],M=U[2],D=Bo((0,c.useState)(0),2),Q=D[0],_=D[1],j=Bo((0,c.useState)(0),2),B=j[0],G=j[1],V=P.lD.getInstance(),H=function(e){var t,n=null==e||null===(t=e.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t?void 0:t.connectors[0],i=(0,Li.Z)(n,Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===Tn.bQ.PROVISIONING_CONNECTOR_GOOGLE;n&&i&&delete n[Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=p.description,function(e){I(!0),(0,Ni.Sf)(e).then((function(e){if(V.publish("connections-finish-adding-connection",{type:b}),N((0,d.V_)({description:R("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:R("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))o();else{var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);o(n)}})).catch((function(e){var t,n,i=Ui.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)||(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.code)!==i.getErrorCode()?e.response&&e.response.data&&e.response.data.description?W({description:R("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:R("authenticationProvider:notifications.addIDP.error.message")}):W({description:R("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:R("authenticationProvider:notifications.addIDP.genericError.message")}):T(!0)})).finally((function(){I(!1)}))}(e)},X=function(){w(void 0),S(void 0),i()};(0,c.useEffect)((function(){var e,t;null!=k&&k.find((function(e){var t;return e.authenticatorId===(null==p||null===(t=p.idp)||void 0===t||null===(t=t.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)}))&&(t=null==p||null===(e=p.idp)||void 0===e||null===(e=e.federatedAuthenticators)||void 0===e?void 0:e.defaultAuthenticatorId,(0,Ni.DJ)(t).then((function(e){S(e)})).catch((function(e){(0,Ri.Rw)(e)})))}),[k]),(0,c.useEffect)((function(){E(Q+1)}),[Q]);return c.createElement(c.Fragment,null,L&&c.createElement(Fi.P,{actionLabel:R("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){T(!1),X()},header:R("idp:notifications.tierLimitReachedError.heading"),description:R("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:R("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:L}),c.createElement(P.wv,{open:!L,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:X,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(f,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"wizard-header","data-testid":"".concat(f,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().google,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(f,"-image")}),c.createElement("div",{className:"ml-1"},r,l&&c.createElement(m.X6,{as:"h6"},l,c.createElement(m.eb,{link:Z("develop.connections.newConnection.google.learnMore")},R("common:learnMore")))))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(f,"-modal-content-2")},F&&M,c.createElement(jo,{onSubmit:function(e){var t,n=p.idp;n.name=null==e?void 0:e.name.toString(),n.templateId=p.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:null==e?void 0:e.clientId.toString()},{key:"ClientSecret",value:null==e?void 0:e.clientSecret.toString()},{key:"callbackUrl",value:(null==x||null===(t=x.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"AdditionalQueryParameters",value:"scope=email openid profile"}],n.federatedAuthenticators.authenticators[0].isEnabled=!((0,h.Z)(null==e?void 0:e.clientId.toString())||(0,h.Z)(null==e?void 0:e.clientSecret.toString())),n.image="assets/images/logos/google.svg",H(n)},triggerSubmission:function(e){t=e},triggerPrevious:function(e){n=e},changePageNumber:function(e){return _(e)},setTotalPage:function(e){return G(e)},template:p})),c.createElement(P.wv.Actions,{"data-testid":"".concat(f,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:X,"data-testid":"".concat(f,"-modal-cancel-button")},R("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},y!==B?c.createElement(m.KM,{floated:"right",onClick:function(){t()},"data-testid":"".concat(f,"-modal-finish-button"),loading:O,disabled:O},R("authenticationProvider:wizards.buttons.next")):c.createElement(m.KM,{floated:"right",onClick:function(){t()},"data-testid":"".concat(f,"-modal-finish-button"),loading:O,disabled:O},R("authenticationProvider:wizards.buttons.finish")),y>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){n()},"data-testid":"".concat(f,"-modal-previous-button")},R("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==p||null===(e=p.content)||void 0===e||!e.wizardHelp||0===y)return null;var t=(null==p?void 0:p.content).wizardHelp;return c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},R("applications:wizards.minimalAppCreationWizard.help.heading"))),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(m.pO,null)},c.createElement(t,null))))}()))};function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Vo.defaultProps={currentStep:1,"data-componentid":"google-idp","data-testid":"idp-edit-idp-create-wizard"};var zo=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-componentid"],u=(0,g.$)().t,d=Ho((0,c.useState)({}),2),p=d[0],m=d[1],f=Ho((0,c.useState)(void 0),2),h=f[0],b=f[1];(0,c.useEffect)((function(){v()}),[]);var v=function(){b(!0),(0,Ni.SN)(null,null,null).then((function(e){m(e)})).catch((function(e){(0,Ri.Df)(e)})).finally((function(){b(!1)}))};return void 0!==h&&!1===h?c.createElement(Ti.en,{id:"hypr-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-testid":s},c.createElement(Ti.k0,{validate:function(e){var t={apiToken:void 0,appId:void 0,baseUrl:void 0,name:void 0};return e.name||(t.name=u("authenticationProvider:forms.common.requiredErrorMessage")),e.appId||(t.appId=u("authenticationProvider:forms.common.requiredErrorMessage")),e.apiToken||(t.apiToken=u("authenticationProvider:forms.common.requiredErrorMessage")),e.baseUrl||(t.baseUrl=u("authenticationProvider:forms.common.requiredErrorMessage")),t}},c.createElement(Ti.gN.Input,{ariaLabel:"HYPR IDP Name",inputType:"name",name:"name",label:u("authenticationProvider:forms.generalDetails.name.label"),placeholder:u("authenticationProvider:forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==p?void 0:p.count)>0&&(null==p||p.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return u("authenticationProvider:forms.generalDetails.name.validations.duplicate")}(e)},maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"HYPR App ID",inputType:"client_id",name:"appId",label:u("authenticationProvider:forms.authenticatorSettings.hypr.appId.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.hypr.appId.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.hypr.appId.validations.required"),type:"text",maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(s,"-idp-app-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"HYPR Base URL",inputType:"url",name:"baseUrl",label:u("authenticationProvider:forms.authenticatorSettings.hypr.baseUrl.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.hypr.baseUrl.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.hypr.baseUrl.validations.required"),type:"text",maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(s,"-idp-base-url"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"HYPR API Token",inputType:"password",className:"addon-field-wrapper",name:"apiToken",label:u("authenticationProvider:forms.authenticatorSettings.hypr.apiToken.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.hypr.apiToken.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.hypr.apiToken.validations.required"),type:"password",hidePassword:u("common:hide"),showPassword:u("common:show"),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(s,"-idp-api-token"),width:13}))):null};function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qo(e,t,n){var i;return i=function(e,t){if("object"!=Yo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Yo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Yo(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}zo.defaultProps={"data-componentid":"hypr-idp-create-wizard-page"};var ea=function(e){var t=e.onWizardClose,n=e.onIDPCreate,i=e.currentStep,o=e.title,a=e.subTitle,r=e.template,l=e["data-testid"],p=e["data-componentid"],f=(0,s.I0)(),b=(0,g.$)().t,v=(0,m.fQ)().getLink,y=Ko((0,m.IK)(),3),E=y[0],S=y[1],w=y[2],C=Ko((0,c.useState)(i),2),O=C[0],I=C[1],A=Ko((0,c.useState)(0),2),L=A[0],T=A[1],N=Ko((0,c.useState)(0),2),R=N[0],Z=N[1],x=Ko((0,c.useState)(!1),2),k=x[0],U=x[1],F=Ko((0,c.useState)(!1),2),W=F[0],M=F[1],D=P.lD.getInstance();(0,c.useEffect)((function(){I(L+1)}),[L]);var Q,_,j=function(){t()},B=function(e){U(!0),(0,Ni.Sf)(e).then((function(e){if(D.publish("connections-finish-adding-connection",{type:p}),f((0,d.V_)({description:b("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:b("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))n();else{var t=e.headers.location,i=t.substring(t.lastIndexOf("/")+1);n(i)}})).catch((function(e){var t,n=Ui.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)!==n.getErrorCode()?e.response&&e.response.data&&e.response.data.description?S({description:b("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:b("authenticationProvider:notifications.addIDP.error.message")}):S({description:b("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:b("authenticationProvider:notifications.addIDP.genericError.message")}):M(!0)})).finally((function(){U(!1)}))};return c.createElement(c.Fragment,null,W&&c.createElement(Fi.P,{actionLabel:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){M(!1),j()},header:b("idp:notifications.tierLimitReachedError.heading"),description:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:W}),c.createElement(P.wv,{open:!W,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:j,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().hypr,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),c.createElement("div",{className:"ml-1"},o,a&&c.createElement(m.X6,{as:"h6"},a,c.createElement(m.eb,{link:v("develop.connections.newConnection.hypr.learnMore")},b("common:learnMore")))))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},E&&w,c.createElement(zo,{onSubmit:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){qo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);t.name=e.name.toString(),t.templateId=r.templateId,t.description=r.description,t.federatedAuthenticators.authenticators[0].properties=[{key:"appId",value:e.appId.toString()},{key:"apiToken",value:e.apiToken.toString()},{key:"baseUrl",value:e.baseUrl.toString()}],t.image="assets/images/logos/hypr.svg",B(t)},triggerSubmission:function(e){Q=e},triggerPrevious:function(e){_=e},changePageNumber:function(e){return T(e)},setTotalPage:function(e){return Z(e)},template:r})),c.createElement(P.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:j,"data-testid":"".concat(l,"-modal-cancel-button")},b("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},O!==R?c.createElement(m.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:k,disabled:k},b("authenticationProvider:wizards.buttons.next")):c.createElement(c.Fragment,null,c.createElement(m.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:k,disabled:k},b("authenticationProvider:wizards.buttons.finish"))),O>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-previous-button")},b("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===O)return null;var t=(null==r?void 0:r.content).wizardHelp;return c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},b("authenticationProvider:templates.microsoft.wizardHelp.heading"))),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(Ai.p,null)},c.createElement(t,null))))}()))};function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ea.defaultProps={currentStep:1,"data-componentid":"hypr-idp","data-testid":"hypr-idp-create-wizard"};var ia=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-testid"],u=(0,g.$)().t,d=ta((0,c.useState)({}),2),p=d[0],m=d[1],f=ta((0,c.useState)(void 0),2),h=f[0],b=f[1];(0,c.useEffect)((function(){v()}),[]);var v=function(){b(!0),(0,Ni.SN)(null,null,null).then((function(e){m(e)})).catch((function(e){(0,Ri.Df)(e)})).finally((function(){b(!1)}))};return void 0!==h&&!1===h?c.createElement(Ti.en,{id:"microsoft-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-testid":s},c.createElement(Ti.k0,{validate:function(e){var t={clientId:void 0,clientSecret:void 0,name:void 0};return e.name||(t.name=u("authenticationProvider:forms.common.requiredErrorMessage")),e.clientId||(t.clientId=u("authenticationProvider:forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=u("authenticationProvider:forms.common.requiredErrorMessage")),t}},c.createElement(Ti.gN.Input,{ariaLabel:"Microsoft IDP Name",inputType:"name",name:"name",label:u("authenticationProvider:forms.generalDetails.name.label"),placeholder:u("authenticationProvider:forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==p?void 0:p.count)>0&&(null==p||p.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return u("authenticationProvider:forms.generalDetails.name.validations.duplicate")}(e)},maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Microsoft Client ID",inputType:"client_id",name:"clientId",label:u("authenticationProvider:forms.authenticatorSettings.microsoft.clientId.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.microsoft.clientId.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.microsoft.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Microsoft Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:u("authenticationProvider:forms.authenticatorSettings.microsoft.clientSecret.label"),placeholder:u("authenticationProvider:forms.authenticatorSettings.microsoft.clientSecret.placeholder"),required:!0,message:u("authenticationProvider:forms.authenticatorSettings.microsoft.clientSecret.validations.required"),type:"password",hidePassword:u("common:hide"),showPassword:u("common:show"),autoComplete:""+Math.random(),maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(s,"-idp-client-secret"),width:13}))):null};function oa(e){return oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ra(e,t,n){var i;return i=function(e,t){if("object"!=oa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=oa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oa(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ca(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ia.defaultProps={"data-testid":"microsoft-idp-create-wizard-page"};var sa=function(e){var t=e.onWizardClose,n=e.onIDPCreate,i=e.currentStep,o=e.title,a=e.subTitle,r=e.template,l=e["data-testid"],p=e["data-componentid"],f=(0,s.I0)(),b=(0,g.$)().t,v=(0,m.fQ)().getLink,y=la((0,m.IK)(),3),E=y[0],S=y[1],w=y[2],C=(0,s.v9)((function(e){return e.config})),O=la((0,c.useState)(i),2),I=O[0],A=O[1],L=la((0,c.useState)(0),2),T=L[0],N=L[1],R=la((0,c.useState)(0),2),Z=R[0],x=R[1],k=la((0,c.useState)(!1),2),U=k[0],F=k[1],W=la((0,c.useState)(!1),2),M=W[0],D=W[1],Q=P.lD.getInstance();(0,c.useEffect)((function(){A(T+1)}),[T]);var _,j,B=function(e){var t,i=null==e||null===(t=e.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t?void 0:t.connectors[0],o=(0,Li.Z)(i,Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===Tn.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&o&&delete i[Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=r.description,function(e){F(!0),(0,Ni.Sf)(e).then((function(e){if(Q.publish("connections-finish-adding-connection",{type:p}),f((0,d.V_)({description:b("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:b("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))n();else{var t=e.headers.location,i=t.substring(t.lastIndexOf("/")+1);n(i)}})).catch((function(e){var t,n=Ui.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)!==n.getErrorCode()?e.response&&e.response.data&&e.response.data.description?S({description:b("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:b("authenticationProvider:notifications.addIDP.error.message")}):S({description:b("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:b("authenticationProvider:notifications.addIDP.genericError.message")}):D(!0)})).finally((function(){F(!1)}))}(e)},G=function(){t()};return c.createElement(c.Fragment,null,M&&c.createElement(Fi.P,{actionLabel:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){D(!1),G()},header:b("idp:notifications.tierLimitReachedError.heading"),description:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:b("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:M}),c.createElement(P.wv,{open:!M,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:G,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().microsoft,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),c.createElement("div",{className:"ml-1"},o,a&&c.createElement(m.X6,{as:"h6"},a,c.createElement(m.eb,{link:v("develop.connections.newConnection.microsoft.learnMore")},b("common:learnMore")))))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},E&&w,c.createElement(ia,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.templateId=r.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:e.clientId.toString()},{key:"ClientSecret",value:e.clientSecret.toString()},{key:"callbackUrl",value:(null==C||null===(t=C.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"Scopes",value:Tn.bQ.MICROSOFT_AUTHENTICATOR_REQUESTED_SCOPES.join(" ")},{key:"commonAuthQueryParams",value:""},{key:"UsePrimaryEmail",value:"true"},{key:"OAuth2AuthzEPUrl",value:Tn.bQ.MICROSOFT_AUTHENTICATION_ENDPOINT_URL},{key:"OAuth2TokenEPUrl",value:Tn.bQ.MICROSOFT_TOKEN_ENDPOINT_URL}],n.image="assets/images/logos/microsoft.svg",B(n)},triggerSubmission:function(e){_=e},triggerPrevious:function(e){j=e},changePageNumber:function(e){return N(e)},setTotalPage:function(e){return x(e)},template:r})),c.createElement(P.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:G,"data-testid":"".concat(l,"-modal-cancel-button")},b("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},I!==Z?c.createElement(m.KM,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-finish-button"),loading:U,disabled:U},b("authenticationProvider:wizards.buttons.next")):c.createElement(c.Fragment,null,c.createElement(m.KM,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-finish-button"),loading:U,disabled:U},b("authenticationProvider:wizards.buttons.finish"))),I>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){j()},"data-testid":"".concat(l,"-modal-previous-button")},b("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===I)return null;var t=(null==r?void 0:r.content).wizardHelp;return c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},b("authenticationProvider:templates.microsoft.wizardHelp.heading"))),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(Ai.p,null)},c.createElement(t,null))))}()))};sa.defaultProps={currentStep:1,"data-componentid":"microsoft-idp","data-testid":"microsoft-idp-create-wizard"};var ua=n(12638),da=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-testid"],u=(0,g.$)().t;return c.createElement(Ti.en,{id:"oidc-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-testid":s},c.createElement(Ti.k0,{validate:function(e){var t={};return e.name||(t.name="This is a required field."),e.clientId||(t.clientId="This is a required field."),e.clientSecret||(t.clientSecret="This is a required field."),e.authorizationEndpointUrl||(t.authorizationEndpointUrl="This is a required field."),e.tokenEndpointUrl||(t.tokenEndpointUrl="This is a required field."),t}},c.createElement(Ti.gN.Input,{ariaLabel:"name",inputType:"name",name:"name",label:u("authenticationProvider:forms.generalDetails.name.label"),required:!0,maxLength:50,minLength:3,"data-testid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"clientId",inputType:"identifier",name:"clientId",label:"Client ID",required:!0,autoComplete:""+Math.random(),maxLength:100,minLength:3,validation:function(e){return function(e){if(!new RegExp(".*").test(e))return"Please enter a valid input."}(e)},"data-testid":"".concat(s,"-idp-client-id"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"clientSecret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:"Client secret",required:!0,hidePassword:u("common:hide"),showPassword:u("common:show"),autoComplete:""+Math.random(),maxLength:100,minLength:3,type:"password","data-testid":"".concat(s,"-idp-client-secret"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"authorizationEndpointUrl",inputType:"url",name:"authorizationEndpointUrl",label:"Authorization endpoint URL",required:!0,placeholder:"https://ENTERPRISE_DOMAIN/authorize",autoComplete:""+Math.random(),maxLength:2048,minLength:3,"data-testid":"".concat(s,"-idp-authorization-endpoint-url"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"tokenEndpointUrl",inputType:"url",name:"tokenEndpointUrl",label:"Token endpoint URL",required:!0,placeholder:"https://ENTERPRISE_DOMAIN/token",autoComplete:""+Math.random(),maxLength:2048,minLength:3,"data-testid":"".concat(s,"-idp-token-endpoint-url"),width:13})))};function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}da.defaultProps={"data-testid":"idp-edit-idp-create-wizard"};var fa=function(e){var t,n,i=e.onWizardClose,o=e.currentStep,a=e.onIDPCreate,r=e.title,l=e.subTitle,p=e.template,f=e["data-testid"],b=e["data-componentid"],v=pa((0,c.useState)(o),2),y=v[0],E=v[1],S=pa((0,c.useState)(void 0),2)[1],w=pa((0,c.useState)(void 0),2)[1],C=pa((0,c.useState)(!1),2),O=C[0],I=C[1],A=(0,s.I0)(),L=(0,g.$)().t,T=(0,s.v9)((function(e){return e.identityProvider.meta.authenticators})),N=pa((0,m.IK)(),3),R=N[0],Z=N[1],x=N[2],k=pa((0,c.useState)(0),2),U=k[0],F=k[1],W=pa((0,c.useState)(0),2),M=W[0],D=W[1],Q=P.lD.getInstance(),_=function(e){!function(e){I(!0),(0,Ni.Sf)(e).then((function(e){if(Q.publish("connections-finish-adding-connection",{type:b}),A((0,d.V_)({description:L("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:L("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))a();else{var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);a(n)}})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Z({description:L("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:L("authenticationProvider:notifications.addIDP.error.message")}):Z({description:L("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:L("authenticationProvider:notifications.addIDP.genericError.message")})})).finally((function(){I(!1)}))}(e)},j=function(){w(void 0),S(void 0),i()};(0,c.useEffect)((function(){var e,t;null!=T&&T.find((function(e){var t;return e.authenticatorId===(null==p||null===(t=p.idp)||void 0===t||null===(t=t.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)}))&&(t=null==p||null===(e=p.idp)||void 0===e||null===(e=e.federatedAuthenticators)||void 0===e?void 0:e.defaultAuthenticatorId,(0,Ni.DJ)(t).then((function(e){S(e)})).catch((function(e){(0,Ri.Rw)(e)})))}),[T]),(0,c.useEffect)((function(){E(U+1)}),[U]);return c.createElement(P.wv,{open:!0,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:j,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(f,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"page-header-inner with-image","data-testid":"".concat(f,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().enterprise,size:"x50",transparent:!0,spaced:"right","data-testid":"".concat(f,"-image")}),c.createElement(ua.Z,{size:"small",textAlign:"left",className:"m-0","data-testid":"".concat(f,"-text-wrapper")},c.createElement("span",{"data-testid":"".concat(f,"-title")},r&&r),l&&c.createElement(ua.Z.Subheader,{"data-testid":"".concat(f,"-sub-title")},l)))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(f,"-modal-content-2")},R&&x,c.createElement(da,{onSubmit:function(e){var t,n,i,o,a,r=p.idp;r.name=null==e||null===(t=e.name)||void 0===t?void 0:t.toString(),r.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:null==e||null===(n=e.clientId)||void 0===n?void 0:n.toString()},{key:"ClientSecret",value:null==e||null===(i=e.clientSecret)||void 0===i?void 0:i.toString()},{key:"OAuth2AuthzEPUrl",value:null==e||null===(o=e.authorizationEndpointUrl)||void 0===o?void 0:o.toString()},{key:"OAuth2TokenEPUrl",value:null==e||null===(a=e.tokenEndpointUrl)||void 0===a?void 0:a.toString()},{key:"callbackUrl",value:P.h.getState().config.deployment.serverHost+"/commonauth"}],r.image="assets/images/logos/enterprise.svg",_(r)},triggerSubmission:function(e){t=e},triggerPrevious:function(e){n=e},changePageNumber:function(e){return F(e)},setTotalPage:function(e){return D(e)},template:p})),c.createElement(P.wv.Actions,{"data-testid":"".concat(f,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:j,"data-testid":"".concat(f,"-modal-cancel-button")},L("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},y!==M?c.createElement(m.KM,{floated:"right",onClick:function(){t()},loading:O,disabled:O,"data-testid":"".concat(f,"-modal-finish-button")},L("authenticationProvider:wizards.buttons.next")):c.createElement(c.Fragment,null,c.createElement(m.KM,{floated:"right",onClick:function(){t()},loading:O,disabled:O,"data-testid":"".concat(f,"-modal-finish-button")},L("authenticationProvider:wizards.buttons.finish"))),y>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){n()},"data-testid":"".concat(f,"-modal-previous-button")},L("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==p||null===(e=p.content)||void 0===e||!e.wizardHelp||0===y)return null;var t=(null==p?void 0:p.content).wizardHelp;return c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},L("applications:wizards.minimalAppCreationWizard.help.heading"))),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(Ai.p,null)},c.createElement(t,null))))}())};function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ga(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}fa.defaultProps={currentStep:1,"data-componentid":"oidc-idp","data-testid":"idp-edit-idp-create-wizard"};var ba=function(e){var t,n=e.triggerSubmission,i=e.triggerPrevious,o=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,s=e["data-componentid"],u=(0,g.$)().t,d=ha((0,c.useState)({}),2),p=d[0],m=d[1],f=ha((0,c.useState)(void 0),2),h=f[0],b=f[1];(0,c.useEffect)((function(){v()}),[]);var v=function(){b(!0),(0,Ni.SN)(null,null,null).then((function(e){m(e)})).catch((function(e){(0,Ri.Df)(e)})).finally((function(){b(!1)}))};return!1===h?c.createElement(Ti.en,{id:"organization-enterprise-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return i(e)},changePage:function(e){return o(e)},setTotalPage:function(e){return r(e)},"data-componenentid":s},c.createElement(Ti.k0,{validate:function(e){var t={description:void 0,name:void 0};return e.name||(t.name=u("authenticationProvider:forms.common.requiredErrorMessage")),t}},c.createElement(Ti.gN.Input,{ariaLabel:"Organization IDP Name",inputType:"name",name:"name",label:u("authenticationProvider:forms.generalDetails.name.label"),placeholder:u("authenticationProvider:forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==p?void 0:p.count)>0&&(null==p||p.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return u("authenticationProvider:forms.generalDetails.name.validations.duplicate")}(e)},maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-componentid":"".concat(s,"-idp-name"),width:13}),c.createElement(Ti.gN.Input,{ariaLabel:"Organization IDP Description",inputType:"description",name:"description",label:u("authenticationProvider:forms.generalDetails.description.placeholder"),placeholder:u("authenticationProvider:forms.generalDetails.description.placeholder"),message:u("authenticationProvider:forms.generalDetails.description.placeholder"),type:"text",maxLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MAX_LENGTH,minLength:Tn.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MIN_LENGTH,"data-componentid":"".concat(s,"-idp-description"),width:30}))):null};function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ea(e,t,n){var i;return i=function(e,t){if("object"!=va(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=va(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==va(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ba.defaultProps={"data-componentid":"organization-enterprise-idp-create-wizard-content"};var Ca=function(e){var t=e.onWizardClose,n=e.onIDPCreate,i=e.currentStep,o=e.title,a=e.subTitle,r=e.template,l=e["data-componentid"],p=(0,s.I0)(),f=(0,g.$)().t,b=Sa((0,m.IK)(),3),v=b[0],y=b[1],E=b[2],S=Sa((0,c.useState)(i),2),w=S[0],C=S[1],O=Sa((0,c.useState)(0),2),I=O[0],A=O[1],L=Sa((0,c.useState)(0),2),T=L[0],N=L[1],R=Sa((0,c.useState)(!1),2),Z=R[0],x=R[1],k=Sa((0,c.useState)(!1),2),U=k[0],F=k[1],W=P.lD.getInstance();(0,c.useEffect)((function(){C(I+1)}),[I]);var M,D,Q=function(e){var t,i=null==e||null===(t=e.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t?void 0:t.connectors[0],o=(0,Li.Z)(i,Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===Tn.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&o&&delete i[Tn.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],delete e.certificate,delete e.claims,delete e.provisioning,e.description=e.description||r.description,function(e){x(!0),(0,Ni.Sf)(e).then((function(e){if(W.publish("connections-finish-adding-connection",{type:l}),p((0,d.V_)({description:f("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:f("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))n();else{var t=e.headers.location,i=t.substring(t.lastIndexOf("/")+1);n(i)}})).catch((function(e){var t,n=Ui.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)!==n.getErrorCode()?e.response&&e.response.data&&e.response.data.description?y({description:f("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:f("authenticationProvider:notifications.addIDP.error.message")}):y({description:f("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:f("authenticationProvider:notifications.addIDP.genericError.message")}):F(!0)})).finally((function(){x(!1)}))}(e)},_=function(){t()};return c.createElement(c.Fragment,null,U&&c.createElement(P.Pj,{actionLabel:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){F(!1),_()},header:f("idp:notifications.tierLimitReachedError.heading"),description:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:f("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:U}),c.createElement(P.wv,{open:!U,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:_,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},c.createElement(P.wv.MainPanel,null,c.createElement(P.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().organizationSSO,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),c.createElement("div",{className:"ml-1"},o,a&&c.createElement(m.X6,{as:"h6"},a)))),c.createElement(P.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},v&&E,c.createElement(ba,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){Ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.description=null===(t=e.description)||void 0===t?void 0:t.toString(),n.templateId=r.templateId,n.image="assets/images/logos/organization-sso.svg",Q(n)},triggerSubmission:function(e){M=e},triggerPrevious:function(e){D=e},changePageNumber:function(e){return A(e)},setTotalPage:function(e){return N(e)},template:r})),c.createElement(P.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{floated:"left",onClick:_,"data-testid":"".concat(l,"-modal-cancel-button")},f("common:cancel"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},w!==T?c.createElement(m.KM,{floated:"right",onClick:function(){M()},"data-testid":"".concat(l,"-modal-finish-button"),loading:Z,disabled:Z},f("authenticationProvider:wizards.buttons.next")):c.createElement(c.Fragment,null,c.createElement(m.KM,{floated:"right",onClick:function(){M()},"data-testid":"".concat(l,"-modal-finish-button"),loading:Z,disabled:Z},f("authenticationProvider:wizards.buttons.finish"))),w>1&&c.createElement(m.Qj,{floated:"right",onClick:function(){D()},"data-testid":"".concat(l,"-modal-previous-button")},f("authenticationProvider:wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===w)return null;var t=(null==r?void 0:r.content).wizardHelp;return c.createElement(P.wv.SidePanel,null,c.createElement(P.wv.Header,{className:"wizard-header help-panel-header muted"},c.createElement("div",{className:"help-panel-header-text"},f("authenticationProvider:templates.facebook.wizardHelp.heading"))),c.createElement(P.wv.Content,null,c.createElement(c.Suspense,{fallback:c.createElement(Ai.p,null)},c.createElement(t,null))))}()))};function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Ca.defaultProps={currentStep:1,"data-componentid":"organization-enterprise-idp"};var Aa=function(e){var t=e.onWizardClose,n=e.currentStep,i=e.onIDPCreate,o=e.title,a=e.subTitle,r=e.template,l=e["data-componentid"],f=new m.tN,b=(0,c.useRef)(null),v=(0,s.v9)((function(e){return e.config})),y=Oa((0,c.useState)(n),2),E=y[0],S=y[1],w=Oa((0,m.IK)(),3),C=w[0],O=w[1],I=w[2],A=Oa((0,c.useState)(null),2),L=A[0],T=A[1],N=Oa((0,c.useState)(""),2),R=N[0],Z=N[1],x=Oa((0,c.useState)(null),2),U=x[0],F=x[1],W=Oa((0,c.useState)(!1),2),M=W[0],D=W[1],Q=Oa((0,c.useState)(Vi.ny.JWKS),2),_=Q[0],j=Q[1],B=Oa((0,c.useState)(null),2),G=B[0],X=B[1],z=Oa((0,c.useState)(!1),2),Y=z[0],J=z[1],q=Oa((0,c.useState)(!0),2),K=q[0],ee=q[1],te=Oa((0,c.useState)(!0),2),ne=te[0],ie=te[1],oe=Oa((0,c.useState)([]),2),ae=oe[0],re=oe[1],le=Oa((0,c.useState)(!1),2),ce=le[0],se=le[1],ue=(0,s.I0)(),de=(0,g.$)().t,pe=(0,m.fQ)().getLink,me=P.lD.getInstance(),fe=[{label:de("authenticationProvider:templates.trustedTokenIssuer.forms.jwksUrl.optionLabel"),value:Vi.ny.JWKS},{label:de("authenticationProvider:templates.trustedTokenIssuer.forms.pem.optionLabel"),value:Vi.ny.PEM}],he=(0,Ni.af)(),ge=he.data,be=he.isLoading,ve=he.error;(0,c.useEffect)((function(){var e;(null==ge||null===(e=ge.identityProviders)||void 0===e?void 0:e.length)>0&&re(ge.identityProviders)}),[ge]),(0,c.useEffect)((function(){ve&&(0,Ri.Df)(ve)}),[ve]);var ye=function(){return[{content:Ee(),icon:(0,Fe.hz)().general,name:Vi.Fv.GENERAL_DETAILS,title:de("authenticationProvider:templates.trustedTokenIssuer.forms.steps.general")},{content:Se(),icon:(0,Fe.hz)().general,name:Vi.Fv.CERTIFICATES,title:de("authenticationProvider:templates.trustedTokenIssuer.forms.steps.certificate")}]},Ee=function(){return c.createElement(Ti.k0,null,c.createElement(Ti.gN.Input,{"data-componentid":"".concat(l,"-form-wizard-name"),"aria-label":"name",ariaLabel:"name",name:"name",inputType:"resource_name",placeholder:de("authenticationProvider:templates.trustedTokenIssuer.forms.name.placeholder"),label:de("authenticationProvider:templates.trustedTokenIssuer.forms.name.label"),maxLength:Tn.s0.IDP_NAME_MAX_LENGTH,minLength:Tn.s0.IDP_NAME_MIN_LENGTH,required:!0,width:15,format:function(e){return e.trimStart()},validation:function(e){var t,n;return n=e,(null==ae?void 0:ae.some((function(e){return e.name===n})))&&(t=de("authenticationProvider:forms.generalDetails.name.validations.duplicate")),ji.I.isValidResourceName(e)||(t=de("authenticationProvider:templates.enterprise.validation.invalidName",{idpName:e})),ee(void 0!==t),t}}),c.createElement(Ti.gN.Input,{"data-componentid":"".concat(l,"-form-wizard-issuer"),ariaLabel:"issuer","aria-label":"issuer",inputType:"resource_name",name:"issuer",placeholder:de("authenticationProvider:templates.trustedTokenIssuer.forms.issuer.placeholder"),label:de("authenticationProvider:templates.trustedTokenIssuer.forms.issuer.label"),hint:de("authenticationProvider:templates.trustedTokenIssuer.forms.issuer.hint"),maxLength:Tn.s0.IDP_NAME_MAX_LENGTH,minLength:Tn.s0.IDP_NAME_MIN_LENGTH,required:!0,width:15,format:function(e){return e.trimStart()},validation:function(e){var t;return ji.I.resourceName(e)||(t=de("authenticationProvider:templates.trustedTokenIssuer.forms.issuer.validation.notValid",{issuer:e})),ee(void 0!==t),t}}),c.createElement(Ti.gN.Input,{"data-componentid":"".concat(l,"-form-wizard-alias"),ariaLabel:"alias","aria-label":"alias",inputType:"resource_name",name:"alias",placeholder:de("authenticationProvider:templates.trustedTokenIssuer.forms.alias.placeholder"),label:de("authenticationProvider:templates.trustedTokenIssuer.forms.alias.label"),hint:de("authenticationProvider:templates.trustedTokenIssuer.forms.alias.hint",{productName:v.ui.productName}),maxLength:Tn.s0.IDP_NAME_MAX_LENGTH,minLength:Tn.s0.IDP_NAME_MIN_LENGTH,width:15,format:function(e){return e.trimStart()},validation:function(e){var t;return ji.I.resourceName(e)||(t=de("authenticationProvider:templates.trustedTokenIssuer.forms.alias.validation.notValid",{alias:e})),ee(void 0!==t),t}}))},Se=function(){return c.createElement(Ti.k0,null,c.createElement(_t.Z,{container:!0,rowSpacing:4},c.createElement(_t.Z,{className:"switcher-grid",container:!0,rowSpacing:2},c.createElement(_t.Z,{xs:12},c.createElement(k.Z,{severity:"info"},de("authenticationProvider:templates.trustedTokenIssuer.forms.certificateType.requiredCertificate"))),c.createElement(_t.Z,{md:12,lg:8},c.createElement("div",{className:"required-certificate-label"},de("authenticationProvider:templates.trustedTokenIssuer.forms.certificateType.label")),c.createElement(m.T5,{compact:!0,defaultOptionValue:fe[0].value,selectedValue:_,onChange:function(e){var t=e.value;switch(t){case Vi.ny.JWKS:ie(null===L);break;case Vi.ny.PEM:ie(!M)}j(t)},options:fe}))),c.createElement(_t.Z,{xs:12},_===Vi.ny.JWKS&&c.createElement(Ti.gN.Input,{ariaLabel:"JWKS endpoint URL",inputType:"url",name:"jwks_endpoint",label:de("authenticationProvider:templates.trustedTokenIssuer.forms.jwksUrl.label"),required:!0,maxLength:Tn.s0.JWKS_URL_MAX_LENGTH,minLength:Tn.s0.JWKS_URL_MIN_LENGTH,width:15,initialValue:"",placeholder:de("authenticationProvider:templates.trustedTokenIssuer.forms.jwksUrl.placeholder"),"data-componentid":"".concat(l,"-form-wizard-oidc-jwks-endpoint-url"),hint:de("authenticationProvider:templates.trustedTokenIssuer.forms.jwksUrl.hint"),validation:function(e){var t;return ji.I.url(e)||(t=de("authenticationProvider:templates.trustedTokenIssuer.forms.jwksUrl.validation.notValid")),t||(t=function(e){if(p.URLUtils.isLoopBackCall(e)&&null!==$.commonConfig&&void 0!==$.commonConfig&&$.commonConfig.blockLoopBackCalls)return de("idp:forms.common.internetResolvableErrorMessage")}(e)),t||""===e?(T(null),!ne&&ie(!0)):(T(e),ne&&ie(!1)),t}}),_===Vi.ny.PEM&&c.createElement(c.Fragment,null,c.createElement(m.GB,{key:2,file:U,pastedContent:G,fileStrategy:f,normalizeStateOnRemoveOperations:!0,onChange:function(e){var t,n;X(e.pastedContent),F(e.file),Z(null===(t=e.serialized)||void 0===t?void 0:t.pem),D(e.valid),ie(((null===(n=e.pastedContent)||void 0===n?void 0:n.length)>0||e.file)&&!e.serialized||!e.valid)},uploadButtonText:de("authenticationProvider:templates.trustedTokenIssuer.forms.pem.uploadCertificateButtonLabel"),dropzoneText:de("authenticationProvider:templates.trustedTokenIssuer.forms.pem.dropzoneText"),pasteAreaPlaceholderText:de("authenticationProvider:templates.trustedTokenIssuer.forms.pem.pasteAreaPlaceholderText"),icon:(0,P._5)().uploadPlaceholder,placeholderIcon:c.createElement(H.Z,{name:"file alternate",size:"huge"}),"data-componentid":"".concat(l,"-form-wizard-pem-certificate")}),c.createElement(m.kW,null,de("authenticationProvider:templates.trustedTokenIssuer.forms.pem.hint"))))))};return c.createElement(c.Fragment,null,ce&&c.createElement(P.Pj,{actionLabel:de("idp:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){se(!1),t()},header:de("idp:notifications.tierLimitReachedError.heading"),description:de("idp:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:de("idp:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:ce}),c.createElement(V.Z,{open:!ce,className:"wizard trusted-token-issuer-modal identity-provider-create-wizard",dimmer:"blurring",onClose:t,size:"small",closeOnDimmerClick:!1,closeOnEscape:!0,"data-componentid":"".concat(l,"-modal")},c.createElement(V.Z.Header,{className:"wizard-header","data-componentid":"".concat(l,"-modal-header")},c.createElement("div",{className:"display-flex"},c.createElement(m.dn,{icon:(0,Fe.nI)().trustedTokenIssuer,size:"x30",transparent:!0,spaced:"right","data-componentid":"".concat(l,"-image")}),c.createElement("div",null,o,a&&c.createElement(m.X6,{as:"h6"},a,c.createElement(m.eb,{link:pe("develop.connections.newConnection.enterprise.saml.learnMore")},de("common:learnMore")))))),c.createElement(V.Z.Content,{className:"steps-container","data-componentid":"".concat(l,"-modal-content-1")},c.createElement(m.Rg.Group,{current:E},ye().map((function(e,t){return c.createElement(m.Rg.Step,{active:!0,key:t,icon:e.icon,title:e.title})})))),c.createElement(V.Z.Content,{className:"content-container","data-componentid":"".concat(l,"-modal-content-2")},C&&I,be?c.createElement(m.pO,null):c.createElement(Ti.w,{ref:b,initialValues:{NameIDType:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",RequestMethod:"post",name:""},onSubmit:function(e){J(!0);var t=function(e){var t,n,i,o=r.idp;return o.templateId=r.templateId,o.description=r.description,o.name=null==e||null===(t=e.name)||void 0===t?void 0:t.toString(),o.idpIssuerName=null==e||null===(n=e.issuer)||void 0===n?void 0:n.toString(),o.alias=null==e||null===(i=e.alias)||void 0===i?void 0:i.toString(),o.image="assets/images/icons/trusted-token-issuer.svg",o.certificate.jwksUri=null!=L?L:"",o.certificate.certificates=[R?btoa(R):""],o}(e);(0,Ni.Sf)(t).then((function(e){if(me.publish("connections-finish-adding-connection",{type:l}),ue((0,d.V_)({description:de("authenticationProvider:notifications.addIDP.success.description"),level:u.QU.SUCCESS,message:de("authenticationProvider:notifications.addIDP.success.message")})),(0,h.Z)(e.headers.location))i();else{var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);i(n)}})).catch((function(e){var t,n,i,o=$.identityProviderConfig.useNewConnectionsView?Tn.bQ.ERROR_CREATE_LIMIT_REACHED:Tn.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)||(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.code)!==o.getErrorCode()?null!=e&&null!==(i=e.response)&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&i.description?O({description:de("authenticationProvider:notifications.addIDP.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:de("authenticationProvider:notifications.addIDP.error.message")}):O({description:de("authenticationProvider:notifications.addIDP.genericError.description"),level:u.QU.ERROR,message:de("authenticationProvider:notifications.addIDP.genericError.message")}):se(!0)})).finally((function(){J(!1)}))},uncontrolledForm:!0,pageChanged:function(e){return S(e)},"data-componentid":l},ye().map((function(e){return e.content})))),c.createElement(V.Z.Actions,{"data-componentid":"".concat(l,"-modal-actions")},c.createElement(_t.Z,{container:!0},c.createElement(_t.Z,{xs:6,container:!0,justifyContent:"flex-start"},c.createElement(m.Qj,{floated:"left",onClick:t,"data-componentid":"".concat(l,"-modal-cancel-button")},de("common:cancel"))),c.createElement(_t.Z,{xs:6},E<ye().length-1&&c.createElement(m.KM,{disabled:K,floated:"right",onClick:function(){b.current.gotoNextPage()},"data-componentid":"".concat(l,"-modal-next-button")},de("authenticationProvider:wizards.buttons.next"),c.createElement(H.Z,{name:"arrow right"})),E===ye().length-1&&c.createElement(m.KM,{disabled:ne||Y,type:"submit",floated:"right",onClick:function(){b.current.gotoNextPage()},"data-componentid":"".concat(l,"-modal-finish-button"),loading:Y},de("authenticationProvider:wizards.buttons.finish")),E>0&&c.createElement(m.Qj,{type:"submit",floated:"right",onClick:function(){return b.current.gotoPreviousPage()},"data-componentid":"".concat(l,"-modal-previous-button")},c.createElement(H.Z,{name:"arrow left"}),de("authenticationProvider:wizards.buttons.previous")))))))};Aa.defaultProps={currentStep:0,"data-componentid":"trusted-token-issuer"};var La=n(67246);function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}var Na=["open","onWizardClose","type","selectedTemplate"];function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ra.apply(this,arguments)}function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ka(e,t,n){var i;return i=function(e,t){if("object"!=Ta(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ta(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ta(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Pa(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Wa=function(e){var t,n=e.open,i=e.onWizardClose,o=e.type,a=e.selectedTemplate,r=Pa(e,Na),l=(0,s.v9)((function(e){return e.config})),u=Ua((0,c.useState)(void 0),2),d=u[0],p=u[1],m=Ua((0,c.useState)(n),2),f=m[0],b=m[1],v=Ua((0,c.useState)(void 0),2),y=v[0],E=v[1],S=Ua((0,c.useState)(void 0),2),w=S[0],C=S[1],O=(0,g.$)().t;(0,c.useEffect)((function(){o&&I(o)}),[o]),(0,c.useEffect)((function(){var e;y&&(A((null===(e=y.idp)||void 0===e?void 0:e.name)||y.name),b(!0))}),[y]),(0,c.useEffect)((function(){var e;f&&d&&y&&(null!==(e=y.idp)&&void 0!==e&&e.name?C(xa(xa({},y),{},{idp:xa(xa({},y.idp),{},{name:L(y.idp.name,d)})})):C(xa(xa({},y),{},{name:L(null==y?void 0:y.name,d)})),b(!0))}),[d,y,f]);var I=function(e){(l.ui.identityProviderTemplateLoadingStrategy?l.ui.identityProviderTemplateLoadingStrategy===Vi.w7.REMOTE:Tn.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===Vi.w7.REMOTE)?(0,Ni.jY)(e).then((function(e){e.disabled||E(e)})).catch((function(e){(0,Ri.Em)(e)})):La.b.getIdentityProviderTemplate(e).then((function(e){void 0===e||e.disabled?a&&!a.disabled&&E(a):E(e)})).catch((function(e){(0,Ri.Em)(e)}))},A=function(e){(0,Ni.SN)(null,null,"name sw "+e).then((function(e){var t;p(null!=e&&e.totalResults?null==e||null===(t=e.identityProviders)||void 0===t?void 0:t.map((function(e){return e.name})):[])}))},L=function(e,t){for(var n=e,i=2;null!=t&&t.includes(n);i++)n=n.split(" ").length>1?e+" "+i:e+i;return n};switch(o){case Tn.bQ.IDP_TEMPLATE_IDS.FACEBOOK:return f&&!(0,h.Z)(w)?c.createElement(Ro,Ra({title:null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.GOOGLE:return f&&!(0,h.Z)(w)?c.createElement(Vo,Ra({title:null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.GITHUB:return f&&!(0,h.Z)(w)?c.createElement(Do,Ra({title:null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.MICROSOFT:return f&&!(0,h.Z)(w)?c.createElement(sa,Ra({title:null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.APPLE:return f&&!(0,h.Z)(w)?c.createElement(_i,Ra({title:null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.OIDC:return f&&!(0,h.Z)(w)?c.createElement(fa,Ra({title:null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.ORGANIZATION_ENTERPRISE_IDP:return f&&!(0,h.Z)(w)?c.createElement(Ca,Ra({title:null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.EXPERT_MODE:return f&&!(0,h.Z)(w)?c.createElement(So,Ra({title:"Expert Mode"===(null==w?void 0:w.name)?"Custom Connector":null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.HYPR:return f&&!(0,h.Z)(w)?c.createElement(ea,Ra({title:null==w?void 0:w.name,subTitle:null==w?void 0:w.description,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;case Tn.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER:return f&&!(0,h.Z)(w)?c.createElement(Aa,Ra({title:O("authenticationProvider:templates.trustedTokenIssuer.addWizard.title"),subTitle:O("authenticationProvider:templates.trustedTokenIssuer.addWizard.subtitle"),onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null;default:return f&&!(0,h.Z)(w)?null!==(t=Oe.identityProviderConfig.createIdentityProvider.getOverriddenCreateWizard(o,xa({onIDPCreate:r.onIDPCreate,onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},subTitle:null==w?void 0:w.description,template:w,title:null==w?void 0:w.name},r)))&&void 0!==t?t:c.createElement(Yi,Ra({title:O("authenticationProvider:templates.enterprise.addWizard.title"),subTitle:O("authenticationProvider:templates.enterprise.addWizard.subtitle"),onWizardClose:function(){C(void 0),E(void 0),b(!1),i()},template:w,"data-componentid":null==y?void 0:y.templateId},r)):null}};Wa.defaultProps={"data-testid":"authenticator-create-wizard-factory"};var Ma=["open","authenticatorCategoryTemplate","authenticatorCategoryDisplayName","onClose","data-componentid"];function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Da.apply(this,arguments)}function Qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ja(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ba=function(e){var t=e.open,n=e.authenticatorCategoryTemplate,i=e.authenticatorCategoryDisplayName,o=e.onClose,a=e["data-componentid"],r=ja(e,Ma),l=xe().refetchAuthenticators,s=Qa((0,c.useState)(t),2),u=s[0],d=s[1],p=Qa((0,c.useState)(!1),2),f=p[0],h=p[1],v=(0,g.$)().t;(0,c.useEffect)((function(){d(t)}),[open]);return c.createElement(c.Fragment,null,c.createElement(m.cV,Da({open:u,type:"info",onClose:function(e,t){o(e,t)},primaryAction:v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(e){o(e,null)},onPrimaryActionClick:function(){h(!0),d(!1)},"data-componentid":a,closeOnDimmerClick:!1},r),c.createElement(m.cV.Header,null,v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:i})),c.createElement(m.cV.Message,{attached:!0,info:!0},v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:i})),c.createElement(m.cV.Content,null,c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:i}},"You do not have an active Social Connection configured with",c.createElement(m.EK,null," ",i,"Authenticator"),". Click on the ",c.createElement("strong",null,"Configure")," button to register a new",c.createElement(m.EK,null,i," Social Connection")," or navigate to the ",c.createElement("a",{onClick:function(){Ii.m.push(Oi.$.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually."))),f&&function(){if(n)return c.createElement(Wa,{open:f,type:n,selectedTemplate:null,onIDPCreate:function(){l()},onWizardClose:function(){h(!1),o(null,null)}})}())};Ba.defaultProps={"data-componentid":"duplicate-social-authenticator-selection-modal"};const Ga=Ba;function Va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ha(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Xa=function(e){var t=e.selectedSequence,n=e.onSelect,i=xe().authenticators,o=Va((0,c.useState)([]),2),a=o[0],r=o[1],l=Va((0,c.useState)(void 0),2),s=l[0],u=l[1],d=Va((0,c.useState)(void 0),2),p=d[0],m=d[1],g=Va((0,c.useState)(!1),2),b=g[0],v=g[1],y=Va((0,c.useState)(!1),2),E=y[0],S=y[1];(0,c.useEffect)((function(){var e;if(t){var o=null,a=null;"GoogleSocialLoginSequence"===t.id?(o=ne.b.GOOGLE_OIDC_AUTHENTICATOR_ID,a=ne.b.GOOGLE_OIDC_AUTHENTICATOR_NAME,m(ne.b.IDP_TEMPLATE_IDS.GOOGLE),u(ne.b.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME)):"GithubSocialLoginSequence"===t.id?(o=ne.b.GITHUB_AUTHENTICATOR_ID,a=ne.b.GITHUB_AUTHENTICATOR_NAME,m(ne.b.IDP_TEMPLATE_IDS.GITHUB),u(ne.b.GITHUB_AUTHENTICATOR_DISPLAY_NAME)):"FacebookSocialLoginSequence"===t.id?(o=ne.b.FACEBOOK_AUTHENTICATOR_ID,a=ne.b.FACEBOOK_AUTHENTICATOR_NAME,m(ne.b.IDP_TEMPLATE_IDS.FACEBOOK),u(ne.b.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME)):"AppleSocialLoginSequence"===t.id&&(o=ne.b.APPLE_AUTHENTICATOR_ID,a=ne.b.APPLE_AUTHENTICATOR_NAME,m(ne.b.IDP_TEMPLATE_IDS.APPLE),u(ne.b.APPLE_AUTHENTICATOR_DISPLAY_NAME));var l=null==i||null===(e=i.social)||void 0===e?void 0:e.filter((function(e){var t;return(null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===o}));r(l),(0,h.Z)(l)?S(!0):l.length>1?v(!0):1!==l.length||n(w(t.sequence,a,l[0].idp))}}),[i,t]);var w=function(e,t,n){var i=(0,f.Z)(e);return i.steps[0].options.map((function(e){e.authenticator===t&&(e.idp=n)})),i};return b?c.createElement(Ci,{open:b,authenticators:a,authenticatorCategoryDisplayName:s,onSelect:function(e){n(w(t.sequence,e.defaultAuthenticator.name,e.idp))},onClose:function(){return v(!1)}}):E?c.createElement(Ga,{open:E,authenticatorCategoryTemplate:p,authenticatorCategoryDisplayName:s,onClose:function(){m(void 0),S(!1)}}):null};Xa.defaultProps={"data-componentid":"predefined-social-flow-handler-modal-factory"};const za=Xa;var Ya=n(65949);function Ja(e){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(e)}function qa(e){return function(e){if(Array.isArray(e))return Ka(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ka(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,er(i.key),i)}}function er(e){var t=function(e,t){if("object"!=Ja(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ja(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ja(t)?t:t+""}var tr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,i=[{key:"getDefaultScript",value:function(){return le.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT}},{key:"generateScript",value:function(e){for(var t=[],n=1;n<e;n++)t.push("    executeStep(:index);".replace(":index",n.toString()));var i=qa(le.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT);return i.splice.apply(i,[1,0].concat(t)),i}},{key:"isDefaultScript",value:function(t,n){for(var i=le.jo.EMPTY_STRING,o=Array.isArray(t)?t.join(le.jo.EMPTY_STRING):t,a=[],r=0;r<n;r++)a.push("executeStep("+(r+1)+");"),i+=a[r];var l=le.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT_HEADER+i+le.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT_FOOTER;return e.minifyScript(o,!1)===e.minifyScript(l,!1)}},{key:"minifyScript",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return le.jo.EMPTY_STRING;var n=Array.isArray(e)?e.join(le.jo.EMPTY_STRING):String(e);return t&&(n=n.replace(/\/\*[\s\S]*?\*\/|\/\/.*/gm,le.jo.EMPTY_STRING)),n=n.replace(/(?:\r\n|\r|\n)/g,le.jo.EMPTY_STRING).replace(/\s/g,le.jo.EMPTY_STRING).trim()}},{key:"isEmptyScript",value:function(t){return!t||Array.isArray(t)&&(0===t.length||0==t.join(le.jo.EMPTY_STRING).trim().length)||t instanceof String&&0===t.trim().length||!e.minifyScript(t)}},{key:"sourceToString",value:function(e){return Array.isArray(e)?e.join(le.jo.LINE_BREAK):null!=e?e:le.jo.EMPTY_STRING}}],(n=null)&&$a(t.prototype,n),i&&$a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}(),nr=n(66851),ir=n(3306),or=n(63633),ar=n(24277),rr=n(86396);const lr=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}'),cr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),sr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),ur=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),dr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),pr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),mr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}'),fr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),hr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),gr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),br=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),vr=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}');var yr=function(e){return e.Basic="BasicLoginSequences",e.MFA="MFALoginSequences",e.Passwordless="PasswordlessLoginSequences",e.Social="SocialLoginSequences",e}({}),Er=function(e){return e.Apple="<APPLE_IDP>",e.Facebook="<FACEBOOK_IDP>",e.Google="<GOOGLE_IDP>",e.Microsoft="Microsoft",e.GitHub="<GITHUB_IDP>",e}({}),Sr=n(70858),wr=n.n(Sr),Cr={};Cr.styleTagTransform=St(),Cr.setAttributes=bt(),Cr.insert=ht().bind(null,"head"),Cr.domAPI=mt(),Cr.insertStyleElement=yt();dt()(wr(),Cr);wr()&&wr().locals&&wr().locals;function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lr(e,t,n){var i;return i=function(e,t){if("object"!=Or(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Or(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Or(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(e){return function(e){if(Array.isArray(e))return Zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||Rr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){if(e){if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(e,t):void 0}}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xr.apply(this,arguments)}function kr(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var Ur=function(e){var t=Object.assign({},(kr(e),e));return c.createElement("svg",xr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"}))},Fr=function(e){var t=Object.assign({},(kr(e),e));return c.createElement("svg",xr({viewBox:"0 0 24 24"},t),c.createElement("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}))},Pr=function(e){var t=Object.assign({},(kr(e),e));return c.createElement("svg",xr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"}))},Wr=function(e){var t=Object.assign({},(kr(e),e));return c.createElement("svg",xr({stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M6 20l6.5 -9"}),c.createElement("path",{d:"M19 20c-6 0 -6 -16 -12 -16"}))},Mr=function(e){var t,n=e.onAdaptiveAuthTemplateChange,i=e.onBasicLoginTemplateChange,o=e.showBasicLoginTemplates,a=e.showAdaptiveLoginTemplates,r=e["data-componentid"],p=(0,g.$)().t,f=(0,Q.Z)().deploymentConfig,h=xe(),b=h.adaptiveAuthTemplates,v=h.authenticators,E=h.defaultAuthenticationSequence,S=h.updateAuthenticationSequence,w=h.onConditionalAuthenticationToggle,C=Object.values(v).flat(),I=Nr((0,c.useState)(["basic-login-panel"]),2),L=I[0],T=I[1],N=Nr((0,c.useState)(!1),2),R=N[0],Z=N[1],x=Nr((0,c.useState)(!1),2),k=x[0],U=x[1],P=Nr((0,c.useState)(!1),2),W=P[0],M=P[1],D=Nr((0,c.useState)(void 0),2),_=D[0],j=D[1],B=Nr((0,c.useState)(void 0),2),G=B[0],H=B[1],X=Nr((0,c.useState)(void 0),2),z=X[0],Y=X[1],J=Nr((0,c.useState)(!1),2),K=J[0],$=J[1],ee=Nr((0,c.useState)(!1),2),te=ee[0],ne=ee[1],ie=Nr((0,c.useState)(!1),2),oe=ie[0],ae=ie[1],re=Nr((0,c.useState)(void 0),2),le=re[0],ce=re[1],se=Nr((0,c.useState)(void 0),2),ue=se[0],de=se[1],pe=Nr((0,c.useState)(void 0),2),me=pe[0],fe=pe[1],he=Nr((0,c.useState)(!1),2),ge=he[0],be=he[1],ve=(0,s.I0)(),ye=function(e){L.includes(e)?T(L.filter((function(t){return t!==e}))):T([].concat(Tr(L),[e]))},Ee=function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:rr.e.decodeConnectorPropertyName(n),value:e[n]});Ya.serverConfigurationConfig.connectorToggleName[null==le?void 0:le.name]&&Ya.serverConfigurationConfig.autoEnableConnectorToggleProperty&&t.properties.push({name:rr.e.decodeConnectorPropertyName(Ya.serverConfigurationConfig.connectorToggleName[null==le?void 0:le.name]),value:"true"}),be(!0),(0,ir.u9)(t,ue,me).then((function(){ve((0,d.V_)({description:p("extensions:manage.serverConfigurations.analytics.form.notification.success.description"),level:u.QU.SUCCESS,message:p("governanceConnectors:notifications.updateConnector.success.message")}))})).catch((function(e){var t,n;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?ve((0,d.V_)({description:p("extensions:manage.serverConfigurations.analytics.form.notification.error.description"),level:u.QU.ERROR,message:p("governanceConnectors:notifications.updateConnector.error.message")})):ve((0,d.V_)({description:p("governanceConnectors:notifications.updateConnector.genericError.description"),level:u.QU.ERROR,message:p("governanceConnectors:notifications.updateConnector.genericError.message")}))})).finally((function(){be(!1),Se()}))},Se=function(){return ne(!1)},we=function(){!function(){var e=or.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,t=or.v.ANALYTICS_ENGINE_CONNECTOR_ID;de(e),fe(t),ae(!0),(0,ir.PP)(e,t).then((function(e){ce(e)})).catch((function(e){var t,n,i;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?ve((0,d.V_)({description:p("governanceConnectors:notifications.getConnector.error.description",{description:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description}),level:u.QU.ERROR,message:p("governanceConnectors:notifications.getConnector.error.message")})):ve((0,d.V_)({description:p("governanceConnectors:notifications.getConnector.genericError.description"),level:u.QU.ERROR,message:p("governanceConnectors:notifications.getConnector.genericError.message")}))})).finally((function(){ae(!1)}))}(),ne(!0)};return c.createElement("div",{className:"predefined-flows-side-panel","data-componentid":r},c.createElement("div",{className:"toolbar-container"},c.createElement(Yn.Z,{variant:"dense"},c.createElement(O.Z,null,p("authenticationFlow:predefinedFlows.header")))),c.createElement("div",{className:A()("predefined-flows-side-panel-content",{"full-height":!o||!a})},o&&c.createElement(Vn.Z,{square:!0,disableGutters:!0,defaultExpanded:!0,expanded:L.includes("basic-login-panel"),className:A()("predefined-flow-categories",{expanded:L.includes("basic-login-panel"),"full-height":1===L.length&&L.includes("basic-login-panel")})},c.createElement(Xn.Z,{className:"predefined-flow-category-heading","aria-controls":"basic-login-panel-content",id:"basic-login-panel-header",expandIcon:c.createElement(Fr,{height:"14px"}),onClick:function(){return ye("basic-login-panel")}},c.createElement(O.Z,null,p("authenticationFlow:predefinedFlows.basic.header"))),c.createElement(Hn.Z,null,Object.entries(l).map((function(e){var t=Nr(e,2),n=t[0],i=t[1],o=null;return n===yr.Basic?o=p("authenticationFlow:predefinedFlows.categories.basic.label"):n===yr.MFA?o=p("authenticationFlow:predefinedFlows.categories.mfa.label"):n===yr.Passwordless?o=p("authenticationFlow:predefinedFlows.categories.passwordless.label"):n===yr.Social&&(o=p("authenticationFlow:predefinedFlows.categories.social.label")),c.createElement(y.Z,{key:n,className:"predefined-flow-category"},c.createElement(O.Z,{variant:"body1"},o),c.createElement(y.Z,{className:"predefined-flow-category-items"},Object.entries(i).map((function(e){var t,i=Nr(e,2),o=i[0],a=i[1];return"AppleSocialLoginSequence"===o&&(null===(t=new URL(null==f?void 0:f.serverOrigin))||void 0===t?void 0:t.hostname)===nr.v.LOCAL_SERVER_URL?null:c.createElement(y.Z,{key:o,className:A()("predefined-flow-sequence",{"full-width":a.steps.length>1}),onClick:function(){j({sequence:a,sequenceCategoryId:n,sequenceId:o}),U(!0)}},a.steps.map((function(e,t){var n;return c.createElement(c.Fragment,null,c.createElement("div",{className:"predefined-flow-sequence-step"},null==e||null===(n=e.options)||void 0===n?void 0:n.map((function(t,n){return c.createElement(c.Fragment,null,c.createElement("div",{key:n,className:"predefined-flow-sequence-step-option"},c.createElement(zn.Z,{height:"14px",src:(0,Fe.C4)()[t.authenticator]||(0,Fe.C4)()[t.idp]}),c.createElement(O.Z,null,function(e,t){var n;if("LOCAL"!==t){if(t===Er.Apple)return p("authenticationFlow:predefinedFlows.authenticators.apple.displayName");if(t===Er.Facebook)return p("authenticationFlow:predefinedFlows.authenticators.facebook.displayName");if(t===Er.Google)return p("authenticationFlow:predefinedFlows.authenticators.google.displayName");if(t===Er.GitHub)return p("authenticationFlow:predefinedFlows.authenticators.github.displayName")}return null===(n=C.find((function(t){return t.defaultAuthenticator.name===e})))||void 0===n?void 0:n.displayName}(t.authenticator,t.idp))),e.options.length>1&&n!==e.options.length-1&&c.createElement(Ur,{height:"10px"}))}))),a.steps.length>1&&t!==a.steps.length-1&&c.createElement("div",{className:"predefined-flow-sequence-step-separator"},c.createElement(Pr,{height:"10px"})))})))}))))})))),a&&b&&Object.entries(b).length>0&&c.createElement(Vn.Z,{square:!0,disableGutters:!0,defaultExpanded:!0,expanded:L.includes("conditional-login-panel"),className:A()("predefined-flow-categories",{expanded:L.includes("conditional-login-panel"),"full-height":1===L.length&&L.includes("conditional-login-panel")})},c.createElement(Xn.Z,{className:"predefined-flow-category-heading","aria-controls":"conditional-login-panel-content",id:"conditional-login-panel-header",expandIcon:c.createElement(Fr,{height:"14px"}),onClick:function(){return ye("conditional-login-panel")}},c.createElement(O.Z,null,p("authenticationFlow:predefinedFlows.adaptive.header"))),c.createElement(Hn.Z,null,Object.entries(b).map((function(e){var t,n,i=Nr(e,2),o=i[0],a=i[1];return null==a||!a.templates||(null==a||null===(t=a.templates)||void 0===t?void 0:t.length)<=0?null:c.createElement(y.Z,{key:o,className:"predefined-flow-category"},c.createElement(O.Z,{variant:"body1"},a.displayName),c.createElement(y.Z,{className:"predefined-flow-category-items"},null==a||null===(n=a.templates)||void 0===n?void 0:n.map((function(e,t){return c.createElement(y.Z,{key:t,className:"predefined-flow-sequence full-width no-hover"},c.createElement("div",{className:"predefined-flow-sequence-step adaptive-auth-template"},c.createElement("div",{className:"label"},c.createElement(Wr,null),e.name),c.createElement("div",{className:"actions"},e.name===Nn&&c.createElement(jt.Z,{size:"small",onClick:function(){H(e),we()}},c.createElement(st.UG,{size:14})),c.createElement(jt.Z,{size:"small",onClick:function(){H(e),M(!0)}},c.createElement(st.Kb,{size:14})),c.createElement(F.Z,{size:"small",className:"add-button",onClick:function(){H(e),Z(!0)}},p("authenticationFlow:predefinedFlows.adaptive.actions.add")))))}))))}))))),R&&c.createElement(ei,{onELKConfigureClick:function(){return we()},isELKRiskBased:"ELK-Risk-Based"===(null==G?void 0:G.name),open:R,onClose:function(){return Z(!1)},selectedTemplate:G,onTemplateChange:function(e){!function(e){if(e){var t={};if(e.code&&(t=Ar(Ar({},t),{},{script:e.code.join("\n")})),e.defaultAuthenticators){for(var n=[],i=0,o=Object.entries(e.defaultAuthenticators);i<o.length;i++){var a=Nr(o[i],2),r=a[0],l=a[1];n.push({id:parseInt(r,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=Ar(Ar({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}w(!0),S(t)}}(e),n&&n(e)}}),k&&c.createElement(gi,{open:k,onClose:function(){return U(!1)},selectedTemplate:_,onTemplateChange:function(e){!function(e){var t;if(e){var n=Ar(Ar({},e.sequence),{},{script:null!==(t=e.sequence.script)&&void 0!==t?t:tr.generateScript(e.sequence.steps.length+1).join("\n")});if(e.sequenceCategoryId===yr.Social)return Y({id:e.sequenceId,sequence:n}),void $(!0);S(n)}}(e),i&&i(e)}}),W&&c.createElement(di,{template:G,open:W,onClose:function(){return M(!1)}}),K&&c.createElement(za,{selectedSequence:z,onSelect:function(e){S(Ar(Ar({},E),e)),$(!1)}}),c.createElement(V.Z,{open:te,onClose:Se,size:"small",dimmer:"blurring"},c.createElement(V.Z.Header,null,null==le?void 0:le.friendlyName,c.createElement(m.X6,{subHeading:!0,ellipsis:!0,as:"h6"},p("governanceConnectors:connectorSubHeading",{name:null==le?void 0:le.friendlyName}))),c.createElement(V.Z.Content,{className:"elk-analytics-modal",scrolling:!0},oe?c.createElement(m.pO,{inline:"centered",active:!0}):c.createElement(ar.Z,{onSubmit:Ee,triggerSubmission:function(e){t=e},initialValues:le,isConnectorEnabled:!0,isSubmitting:ge,hideUpdateButton:!0,isModalForm:!0})),c.createElement(V.Z.Actions,null,c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8},c.createElement(m.Qj,{"data-testid":"".concat(r,"-cancel-button"),floated:"left",onClick:function(){return Se()}},p("apiResources:tabs.scopes.form.cancelButton"))),c.createElement(q.Z.Column,{mobile:8},c.createElement(m.KM,{"data-testid":"".concat(r,"-finish-button"),floated:"right",onClick:function(){return t()},loading:ge},p("common:update"))))))))};Mr.defaultProps={"data-componentid":"predefined-flows-side-panel",showAdaptiveLoginTemplates:!0,showBasicLoginTemplates:!0};const Dr=Mr;var Qr=n(74427),_r=["open","onClose","data-componentid"];function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jr.apply(this,arguments)}function Br(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Gr=function(e){var t=e.open,n=e.onClose,i=e["data-componentid"],o=Br(e,_r),a=(0,g.$)().t,r=xe().onConditionalAuthenticationToggle;return c.createElement(m.cV,jr({open:t,onClose:n,type:"warning",closeOnDimmerClick:!1,primaryAction:a("common:confirm"),secondaryAction:a("common:cancel"),"data-componentid":i,onPrimaryActionClick:function(){r(!1),n(null,null)},onSecondaryActionClick:function(e){return n(e,null)}},o),c.createElement(m.cV.Header,{"data-componentid":"".concat(i,"-header")},a("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(m.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(i,"-message")},a("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(m.cV.Content,{"data-componentid":"".concat(i,"-content")},c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",c.createElement(m.EK,null,"Confirm")," to proceed.")))};Gr.defaultProps={"data-componentid":"adaptive-script-reset-confirmation-modal"};const Vr=Gr;var Hr=n(59501),Xr=n(90349),zr=n(99230),Yr=n(93818),Jr=n(92520),qr=n(15590),Kr=n(69192),$r=n(83487),el=n(16631),tl=n(55437),nl=n(70546),il=["deletingSecret","open","onClose","data-componentid"];function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ol.apply(this,arguments)}function al(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rl=function(e){var t=e.deletingSecret,n=e.open,i=e.onClose,o=e["data-componentid"],a=al(e,il),r=(0,g.$)().t,l=(0,s.I0)();return c.createElement(m.cV,ol({open:n,onClose:i,type:"negative",closeOnDimmerClick:!1,assertionHint:r("secrets:modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:r("secrets:modals.deleteSecret.primaryActionButtonText"),secondaryAction:r("secrets:modals.deleteSecret.secondaryActionButtonText"),"data-componentid":o,onPrimaryActionClick:function(){(0,nl.c8)({params:{secretName:t.secretName,secretType:t.type}}).then((function(){l((0,d.V_)({description:r("secrets:alerts.deleteSecret.description",{secretName:t.secretName,secretType:t.type}),level:u.QU.SUCCESS,message:r("secrets:alerts.deleteSecret.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?l((0,d.V_)({description:e.response.data.description,level:u.QU.ERROR,message:e.response.data.message})):l((0,d.V_)({description:r("secrets:errors.generic.description"),level:u.QU.ERROR,message:r("secrets:errors.generic.message")}))})).finally((function(){i(null,null)}))},onSecondaryActionClick:function(e){return i(e,null)}},a),c.createElement(m.cV.Header,{"data-componentid":"".concat(o,"-delete-confirmation-modal-header")},r("secrets:modals.deleteSecret.title")),c.createElement(m.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(o,"-delete-confirmation-modal-message")},r("secrets:modals.deleteSecret.warningMessage")),c.createElement(m.cV.Content,{"data-componentid":"".concat(o,"-delete-confirmation-modal-content")},r("secrets:modals.deleteSecret.content")))};rl.defaultProps={"data-componentid":"secret-delete-confirmation-modal"};const ll=rl;var cl=n(55639),sl=n(45044),ul=n(54709),dl=n.n(ul),pl={};pl.styleTagTransform=St(),pl.setAttributes=bt(),pl.insert=ht().bind(null,"head"),pl.domAPI=mt(),pl.insertStyleElement=yt();dt()(dl(),pl);dl()&&dl().locals&&dl().locals;function ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hl.apply(this,arguments)}var gl=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",hl({stroke:"currentColor",fill:"none",strokeWidth:"1.5",viewBox:"0 0 24 24","aria-hidden":"true",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"}))},bl=function(e){var t,n=e.open,i=e.onSecretSelect,o=e.onClose,a=e.onOpen,r=e["data-componentid"],l=(0,g.$)().t,u=(0,s.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),d=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),p=(0,nl.xA)(sl.H0),m=p.data,f=p.isLoading,h=p.mutate,v=ml((0,c.useState)(n),2),y=v[0],E=v[1],S=ml((0,c.useState)(null),2),w=S[0],C=S[1],I=ml((0,c.useState)(!1),2),A=I[0],L=I[1],T=ml((0,c.useState)(!1),2),N=T[0],R=T[1],Z=ml((0,c.useState)(void 0),2),x=Z[0],k=Z[1];return(0,c.useEffect)((function(){E(n)}),[n]),c.createElement(c.Fragment,null,c.createElement(F.Z,{className:"secret-selection-menu-trigger","aria-controls":y?"create-new-secret-menu":void 0,"aria-haspopup":"true","aria-expanded":y?"true":void 0,onClick:function(e){C(e.currentTarget),E(!0),a()},endIcon:c.createElement(st.v4,null),startIcon:c.createElement(gl,{height:14,width:14}),variant:"contained",color:"secondary",size:"small","data-componentid":"".concat(r,"-trigger")},l("authenticationFlow:scriptEditor.secretSelector.label")),c.createElement(qr.ZP,{anchorEl:w,open:y,onClose:function(e,t){C(null),E(!1),o(e,t)},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},classes:{paper:"create-new-secret-dropdown"},"data-componentid":"".concat(r,"-popover")},c.createElement($r.Z,{"data-componentid":"".concat(r,"-list")},f?c.createElement(el.Z,{alignItems:"center",className:"create-new-secret-dropdown-item-loading","data-componentid":"".concat(r,"-list-loader")},c.createElement(Xr.Z,{size:20})):0===(null==m?void 0:m.length)?c.createElement(el.Z,{className:"create-new-secret-dropdown-empty-placeholder","data-componentid":"".concat(r,"-list-empty-placeholder")},c.createElement(tl.Z,null,c.createElement(O.Z,{variant:"body1"},l("authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.header")),c.createElement(Mt.Z,null),c.createElement(O.Z,{variant:"caption"},c.createElement(b.c,{i18nKey:"authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.description"},"Securely store access keys as secrets. A secret can replace the consumer secret in ",c.createElement(Kr.Z,{variant:"caption"},"callChoreo()")," function in the conditional authentication scripts.")))):null==m?void 0:m.map((function(e,t){return c.createElement(c.Fragment,null,c.createElement(el.Z,{key:e.secretId,"data-componentid":"".concat(r,"-list-item-").concat(e.secretId)},c.createElement(tl.Z,{primary:c.createElement(O.Z,{noWrap:!0},e.secretName),secondary:c.createElement(O.Z,{noWrap:!0},e.description)}),c.createElement(jt.Z,{onClick:function(){return i(e)},"data-componentid":"".concat(r,"-list-item-").concat(e.secretId,"-add")},c.createElement(st.pO,{size:14})),c.createElement(jt.Z,{onClick:function(){k(e),R(!0)},"data-componentid":"".concat(r,"-list-item-").concat(e.secretId,"-delete")},c.createElement(st.XH,{size:14}))),t!==(null==m?void 0:m.length)-1&&c.createElement(Mt.Z,null))})),c.createElement(Mt.Z,null),c.createElement(el.Z,{onClick:function(){return null},disableGutters:!0,disablePadding:!0},(0,D.Xr)(null==d?void 0:d.secretsManagement,null==d||null===(t=d.secretsManagement)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create,u)&&c.createElement(F.Z,{fullWidth:!0,color:"primary",className:"create-new-secret-button",startIcon:c.createElement(st.pO,{size:14}),onClick:function(){C(null),E(!1),L(!0)},"data-componentid":"".concat(r,"-create-new-secret-button")},l("authenticationFlow:scriptEditor.secretSelector.actions.create.label"))))),A&&c.createElement(cl.Z,{onClose:function(){L(!1),h()},"data-componentid":"".concat(r,"-add-secret-modal")}),N&&c.createElement(ll,{deletingSecret:x,open:N,onClose:function(){R(!1),h()},"data-componentid":"".concat(r,"-delete-secret-modal")}))};bl.defaultProps={"data-componentid":"secret-selection-dropdown"};const vl=bl;var yl=function(e){return e.DARK="vs-dark",e.HIGH_CONTRAST="hc-black",e.LIGHT="vc",e}({}),El=function(e){return e.Maximized="maximized",e.Minimized="minimized",e}({}),Sl=n(16274),wl=n.n(Sl),Cl={};Cl.styleTagTransform=St(),Cl.setAttributes=bt(),Cl.insert=ht().bind(null,"head"),Cl.domAPI=mt(),Cl.insertStyleElement=yt();dt()(wl(),Cl);wl()&&wl().locals&&wl().locals;function Ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Il(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Al=(0,c.lazy)((function(){return n.e(5907).then(n.bind(n,13563))})),Ll=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:o,width:n,xmlns:"http://www.w3.org/2000/svg"},c.createElement("polyline",{points:"15 3 21 3 21 9"}),c.createElement("polyline",{points:"9 21 3 21 3 15"}),c.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),c.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))},Tl=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:o,width:n,xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M18 10h-4v-4"}),c.createElement("path",{d:"M20 4l-6 6"}),c.createElement("path",{d:"M6 14h4v4"}),c.createElement("path",{d:"M10 14l-6 6"}))},Nl=function(e){var t,n,i,o=e.className,a=e["data-componentid"],r=(0,g.$)().t,l=(0,c.useRef)(null),u=xe(),d=u.authenticationSequence,p=u.updateAuthenticationSequence,m=Ol((0,c.useState)(yl.DARK),2),f=m[0],h=m[1],b=Ol((0,c.useState)(!1),2),v=b[0],E=b[1],S=Ol((0,c.useState)(El.Minimized),2),w=S[0],C=S[1],I=(0,s.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),L=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),T=(0,c.useCallback)((function(e){l.current=e}),[l]),N=(0,c.useCallback)((function(e){p({script:e})}),[p]),R=function(){w!==El.Minimized?C(El.Minimized):C(El.Maximized)},Z=c.createElement(Al,{loading:null,className:"script-editor",width:"100%",height:"100%",language:"javascript",theme:f,value:tr.isEmptyScript(null==d?void 0:d.script)?tr.generateScript((null==d||null===(i=d.steps)||void 0===i?void 0:i.length)+1).join("\n"):null==d?void 0:d.script,options:{automaticLayout:!0},onChange:N,onMount:T,"data-componentid":"".concat(a,"-code-editor")}),x=c.createElement(y.Z,{className:"script-editor-toolbar-container"},c.createElement(Yn.Z,{variant:"dense"},c.createElement(y.Z,null,c.createElement(O.Z,null,r("authenticationFlow:scriptEditor.panelHeader"))),c.createElement("div",{className:"actions"},w===El.Minimized&&c.createElement(c.Fragment,null,c.createElement("div",{className:"editor-theme-select"},c.createElement(zr.Z,{size:"small"},c.createElement(Jr.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:f,onChange:function(e){h(e.target.value)}},c.createElement(Yr.Z,{value:yl.LIGHT},r("authenticationFlow:scriptEditor.themes.light.label")),c.createElement(Yr.Z,{value:yl.DARK},r("authenticationFlow:scriptEditor.themes.dark.label")),c.createElement(Yr.Z,{value:yl.HIGH_CONTRAST},r("authenticationFlow:scriptEditor.themes.highContrast.label"))))),c.createElement("div",{className:"secret-selection-menu-wrapper"},(null==L||null===(t=L.secretsManagement)||void 0===t?void 0:t.enabled)&&(0,D.Xr)(null==L?void 0:L.secretsManagement,null==L||null===(n=L.secretsManagement)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.read,I)&&c.createElement(vl,{open:v,onClose:function(){return E(!1)},onOpen:function(){return E(!0)},onSecretSelect:function(e){return function(e){if(l.current){var t=l.current.getSelection();t&&(l.current.executeEdits("replaceCodeBlock",[{range:t,text:e}]),E(!1))}}(e.secretName)}}))),c.createElement("div",{className:"editor-fullscreen"},c.createElement(Ht.Z,{title:w===El.Minimized?r("common:goFullScreen"):r("common:exitFullScreen"),"data-componentid":"editor-fullscreen-toggle-tooltip"},c.createElement(jt.Z,{size:"small",onClick:R},w===El.Minimized?c.createElement(Ll,{height:16,width:16}):c.createElement(Tl,{height:16,width:16})))))));return c.createElement(c.Suspense,{fallback:c.createElement(Xr.Z,null)},c.createElement("div",{className:A()("script-editor-panel",o),"data-componentid":a},x,c.createElement(Hr.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:w===El.Maximized,onClose:R},c.createElement(y.Z,{className:"full-screen-script-editor-container"},x,Z)),Z))};Nl.defaultProps={"data-componentid":"script-editor-panel"};const Rl=Nl;var Zl=n(2641),xl=n(83482),kl=n(21356),Ul=n.n(kl),Fl={};Fl.styleTagTransform=St(),Fl.setAttributes=bt(),Fl.insert=ht().bind(null,"head"),Fl.domAPI=mt(),Fl.insertStyleElement=yt();dt()(Ul(),Fl);Ul()&&Ul().locals&&Ul().locals;function Pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ml=function(e){var t,n=e.readOnly,i=e["data-componentid"],o=(0,g.$)().t,a=xe(),r=a.authenticationSequence,l=a.isConditionalAuthenticationEnabled,u=a.onConditionalAuthenticationToggle,d=a.updateAuthenticationSequence,p=a.applicationMetaData,m=(0,xl.Z)().aiGeneratedLoginFlow,f=(0,bn.z)().isSubOrganization,h=Pl((0,c.useState)(!1),2),b=h[0],v=h[1],E=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures}));(0,c.useEffect)((function(){var e,t,n,i;(null!=E&&E.includes(Zl.X7)||f()||null==m||!m.script||tr.isDefaultScript(m.script,null==m||null===(e=m.steps)||void 0===e?void 0:e.length)||tr.isEmptyScript(null==m?void 0:m.script))&&(null==p||null===(t=p.authenticationSequence)||void 0===t||!t.script||tr.isDefaultScript(p.authenticationSequence.script,null===(n=p.authenticationSequence)||void 0===n||null===(n=n.steps)||void 0===n?void 0:n.length)||tr.isEmptyScript(null===(i=p.authenticationSequence)||void 0===i?void 0:i.script))?u(!1):u(!0)}),[null==p||null===(t=p.authenticationSequence)||void 0===t?void 0:t.script]);return c.createElement(c.Fragment,null,c.createElement(y.Z,{className:"script-based-flow-switch","data-componentid":i},c.createElement(Vn.Z,{expanded:l,elevation:0},c.createElement(Xn.Z,{disabled:n},c.createElement(_t.Z,{className:"script-based-flow-switch-accordion-summary"},c.createElement(_t.Z,{xs:12,sm:6,md:2,lg:1,xl:1},c.createElement(Qr.Z,{checked:l,onChange:function(){l?v(!0):u(!0)}})),c.createElement(_t.Z,{className:"script-based-flow-switch-text",xs:12,sm:6,md:11,lg:11,xl:11},c.createElement(O.Z,{variant:"body1"},o("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading")),c.createElement(O.Z,{variant:"body2"},o("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"))))),c.createElement(Hn.Z,{className:"script-based-flow-switch-accordion-details"},c.createElement(Rl,null)))),b&&c.createElement(Vr,{open:b,onClose:function(){var e;d({script:tr.generateScript((null==r||null===(e=r.steps)||void 0===e?void 0:e.length)+1).join("\n")}),v(!1)}}))};Ml.defaultProps={"data-componentid":"script-based-flow-switch"};const Dl=Ml;var Ql=n(7443),_l=n(22393),jl=n.n(_l),Bl={};Bl.styleTagTransform=St(),Bl.setAttributes=bt(),Bl.insert=ht().bind(null,"head"),Bl.domAPI=mt(),Bl.insertStyleElement=yt();dt()(jl(),Bl);jl()&&jl().locals&&jl().locals;var Gl=["children","className","drawerIcon","panel","panelControlsLabel","open","data-componentid","onClose"];function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vl.apply(this,arguments)}function Hl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zl(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Yl=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{width:n,height:o,viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M11.671 10.4793L11.7803 10.3509L19.4469 3.01762C19.616 2.85521 19.8425 2.75926 20.0818 2.74866C20.3211 2.73807 20.5559 2.8136 20.7399 2.96037C20.9239 3.10715 21.0437 3.31452 21.0758 3.54161C21.1079 3.76871 21.0499 3.99907 20.9132 4.18728L20.8039 4.31562L13.8139 10.9999L20.8039 17.6843C20.9624 17.8362 21.0601 18.0364 21.0801 18.2502C21.1001 18.4639 21.041 18.6776 20.9132 18.854L20.8039 18.9823C20.6451 19.1339 20.4358 19.2273 20.2123 19.2464C19.9889 19.2655 19.7655 19.209 19.5811 19.0868L19.4469 18.9823L11.7803 11.6489C11.6218 11.497 11.5241 11.2968 11.5041 11.083C11.4842 10.8693 11.5432 10.6556 11.671 10.4793ZM2.08769 10.4793L2.19694 10.3509L9.86361 3.01762C10.0326 2.85521 10.2591 2.75926 10.4985 2.74866C10.7378 2.73807 10.9726 2.8136 11.1566 2.96037C11.3406 3.10715 11.4604 3.31452 11.4925 3.54161C11.5245 3.76871 11.4665 3.99907 11.3299 4.18728L11.2206 4.31562L4.23053 10.9999L11.2206 17.6843C11.3791 17.8362 11.4768 18.0364 11.4968 18.2502C11.5167 18.4639 11.4577 18.6776 11.3299 18.854L11.2206 18.9823C11.0618 19.1339 10.8524 19.2273 10.629 19.2464C10.4055 19.2655 10.1822 19.209 9.99778 19.0868L9.86361 18.9823L2.19694 11.6489C2.03848 11.497 1.94076 11.2968 1.9208 11.083C1.90083 10.8693 1.95989 10.6556 2.08769 10.4793Z",fill:"black"}))},Jl=function(e){var t=e.children,n=e.className,i=e.drawerIcon,o=e.panel,a=e.panelControlsLabel,r=e.open,l=e["data-componentid"],s=e.onClose,u=zl(e,Gl),d=Hl((0,c.useState)(r),2),p=d[0],m=d[1];(0,c.useEffect)((function(){m(r)}),[r]);return c.createElement(c.Fragment,null,c.createElement(y.Z,{component:"main",sx:{flexGrow:1},"data-componentid":"".concat(l,"-main")},t),o&&c.createElement(Ql.Z,Vl({open:p,PaperProps:{className:A()("side-panel-drawer",{open:p},n),style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},variant:"permanent",anchor:"right",className:A()("side-panel-drawer",{open:p},n),"data-componentid":l},u),c.createElement("div",{className:"side-panel-drawer-panel"},c.createElement("div",{className:"side-panel-drawer-panel-controls",onClick:function(e){p?(m(!1),s&&s(e,"backdropClick")):m(!0)}},c.createElement("div",{className:"side-panel-drawer-panel-controls-chevron"},i||c.createElement(Yl,{height:16,width:16})),a&&c.createElement("div",{className:"side-panel-drawer-panel-controls-label"},c.createElement(O.Z,null,a))),c.createElement("div",{className:"side-panel-drawer-panel-content"},o))))};Jl.defaultProps={"data-componentid":"side-panel-drawer"};const ql=Jl;var Kl=n(9004),$l=n(56406),ec=n(16348),tc=function(e){return e.Classic="classic",e.Visual="visual",e}({}),nc=n(30215),ic=n.n(nc),oc={};oc.styleTagTransform=St(),oc.setAttributes=bt(),oc.insert=ht().bind(null,"head"),oc.domAPI=mt(),oc.insertStyleElement=yt();dt()(ic(),oc);ic()&&ic().locals&&ic().locals;function ac(e){return ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(e)}function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cc(e,t,n){var i;return i=function(e,t){if("object"!=ac(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ac(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ac(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var dc=function(e){var t=e.legacyBuilder,n=e.onIDPCreateWizardTrigger,i=e.readOnly,o=e["data-componentid"],a=(0,g.$)().t,r=(0,s.I0)(),l=xe(),p=l.applicationMetaData,h=l.isAdaptiveAuthAvailable,b=l.isAuthenticationSequenceDefault,v=l.isVisualEditorEnabled,I=l.isLegacyEditorEnabled,T=l.refetchApplication,N=l.authenticationSequence,R=l.preferredAuthenticationFlowBuilderMode,Z=l.setPreferredAuthenticationFlowBuilderMode,k=l.isConditionalAuthenticationEnabled,U=l.updateAuthenticationSequence,F=l.isSystemApplication,P=l.onActiveFlowModeChange,W=i?[{id:0,label:a("authenticationFlow:modes.legacy.label"),mode:tc.Classic}]:[{id:0,label:a("authenticationFlow:modes.legacy.label"),mode:tc.Classic},{extra:c.createElement(E.Z,{size:"small",label:"Beta",className:"oxygen-chip-beta"}),id:1,label:a("authenticationFlow:modes.visual.label"),mode:tc.Visual}],M=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment})),D=(0,s.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),Q=sc((0,c.useState)(W[0]),2),_=Q[0],j=Q[1],B=sc((0,c.useState)(null),2),G=B[0],V=B[1],H=sc((0,c.useState)(b),1)[0],X=sc((0,c.useState)(!1),2),z=X[0],Y=X[1];(0,c.useEffect)((function(){var e,t;v&&I||(v&&!i?(j(W[1]),P(null===(e=W[1])||void 0===e?void 0:e.mode)):(j(W[0]),P(null===(t=W[0])||void 0===t?void 0:t.mode)))}),[v,I]),(0,c.useEffect)((function(){if(R){var e=W.find((function(e){return e.mode===R}));j(e),P(null==e?void 0:e.mode)}}),[R]);var J=function(e,t){var n,i={},o=lc(lc({},(0,f.Z)(e)),{},{type:t?$l.a1.DEFAULT:$l.a1.USER_DEFINED});h&&k&&!tr.isEmptyScript(N.script)||(o.script=tr.generateScript((null==N||null===(n=N.steps)||void 0===n?void 0:n.length)+1).join("\n"));D===ec.$B.SUBORGANIZATION&&(o.script=""),U(lc(lc({},e),{},{script:o.script})),i=F?{authenticationSequence:o,name:null==p?void 0:p.name}:{authenticationSequence:o},q(null==e?void 0:e.steps)&&(0,Kl.bz)(null==p?void 0:p.id,i).then((function(){r((0,d.V_)({description:a("applications:notifications.updateAuthenticationFlow.success.description"),level:u.QU.SUCCESS,message:a("applications:notifications.updateAuthenticationFlow.success.message")}))})).catch((function(e){var t,n;"APP-60001"!==(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)?null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?r((0,d.V_)({description:e.response.data.description,level:u.QU.ERROR,message:a("applications:notifications.updateAuthenticationFlow.error.message")})):r((0,d.V_)({description:a("applications:notifications.updateAuthenticationFlow.genericError.description"),level:u.QU.ERROR,message:a("applications:notifications.updateAuthenticationFlow.genericError.message")})):r((0,d.V_)({description:a("applications:notifications.updateAuthenticationFlow.invalidScriptError.description"),level:u.QU.ERROR,message:a("applications:notifications.updateAuthenticationFlow.invalidScriptError.message")}))})).finally((function(){return T()}))},q=function(e){return 1===e.length&&1===e[0].options.length&&e[0].options[0].authenticator===ne.b.IDENTIFIER_FIRST_AUTHENTICATOR?(r((0,d.V_)({description:a("applications:notifications.updateOnlyIdentifierFirstError.description"),level:u.QU.WARNING,message:a("applications:notifications.updateOnlyIdentifierFirstError.message")})),!1):!(1===e.length&&e[0].options.length>1&&K(e[0].options))||(r((0,d.V_)({description:a("applications:notifications.updateIdentifierFirstInFirstStepError.description"),level:u.QU.WARNING,message:a("applications:notifications.updateIdentifierFirstInFirstStepError.message")})),!1)},K=function(e){return e.some((function(e){return e.authenticator===ne.b.IDENTIFIER_FIRST_AUTHENTICATOR}))};return c.createElement(y.Z,{className:"sign-in-method-split-view"},c.createElement(ql,{open:H,className:A()("predefined-side-panel-drawer",{hidden:_.id===W[0].id}),panel:c.createElement(Dr,{showAdaptiveLoginTemplates:h}),panelControlsLabel:a("authenticationFlow:predefinedFlows.panelHeader")},c.createElement("div",{id:"drawer-container",style:{position:"relative"}},c.createElement(y.Z,null,I&&v&&c.createElement(y.Z,null,c.createElement(C.Z,{value:_.id,onChange:function(e,t){V(W[t]),Y(!0)},"aria-label":"basic tabs example"},W.map((function(e){return c.createElement(S.Z,{key:e.id,label:c.createElement("div",{className:"beta-feature-tab-item"},c.createElement(O.Z,{sx:{fontWeight:500}},e.label),M&&e.extra),"data-componentid":"".concat(o,"-").concat(e.id,"-tab")})})))),c.createElement(w.Z,{index:0,value:_.id,"data-componentid":"".concat(o,"-legacy-builder")},c.createElement("div",{className:"ui basic very padded segment sign-on-methods-tab-content"},t)),c.createElement(w.Z,{index:1,value:_.id,className:"visual-editor-tab-panel","data-componentid":"".concat(o,"-visual-builder")},c.createElement(L.tV,null,c.createElement(Gn,{onIDPCreateWizardTrigger:n,className:"visual-editor",onUpdate:function(e,t){return J(e,t)}})),h&&c.createElement(Dl,null),h&&k&&c.createElement("div",{className:"visual-editor-update-button-container"},c.createElement(m.KM,{variant:"contained",className:"update-button","data-componentid":"".concat(o,"-update-button"),onClick:function(){return J(N)}},a("authenticationFlow:visualEditor.actions.update.label"))))))),z&&c.createElement(x,{mode:G,open:z,onPrimaryActionClick:function(){j(G),V(null),Y(!1),T(),Z(null==G?void 0:G.mode)},onClose:function(){V(null),Y(!1)}}))};dc.defaultProps={"data-componentid":"authentication-flow-builder",readOnly:!1};const pc=dc;var mc=n(23587),fc=n(78537),hc=n(32659),gc=n(94422);function bc(e){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(e)}var vc=["script"];function yc(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ec(e){return function(e){if(Array.isArray(e))return Ac(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ic(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(n),!0).forEach((function(t){Cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cc(e,t,n){var i;return i=function(e,t){if("object"!=bc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=bc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bc(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||Ic(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(e,t){if(e){if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ac(e,t):void 0}}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const Lc=function(e){var t=e.application,n=e.authenticators,i=e.children,o=e.isSystemApplication,a=e.onUpdate,r=e.onAuthenticatorsRefetch,l=e.hiddenAuthenticators,p=e.authenticationSequence,m=(0,s.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),b=(0,s.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),v=(0,fc.Tl)().data,y=(0,K.Z)().UIConfig,E=null==y?void 0:y.connectionResourcesUrl,S=(0,g.$)().t,w=(0,s.I0)(),C=Oc((0,c.useState)((0,f.Z)(null==t?void 0:t.authenticationSequence)),2),O=C[0],I=C[1],A=Oc((0,c.useState)(!1),2),L=A[0],T=A[1],N=Oc((0,c.useState)({enterprise:[],local:[],recovery:[],secondFactor:[],social:[]}),2),R=N[0],Z=N[1],x=Oc((0,c.useState)({height:0,width:0}),2),k=x[0],U=x[1];(0,c.useEffect)((function(){var e;null!=t&&null!==(e=t.authenticationSequence)&&void 0!==e&&e.script||I(wc(wc({},O),{},{script:Q.script}))}),[]),(0,c.useEffect)((function(){p&&I(p)}),[p]),(0,c.useEffect)((function(){if(n&&Array.isArray(n)&&n[0]&&n[1]){var e=n[0],t=n[1],i=[],o=[],a=[],r=[],l=[];e.forEach((function(e){e.id===ne.b.FIDO_AUTHENTICATOR_ID&&(e.displayName=Oe.identityProviderConfig.getOverriddenAuthenticatorDisplayName(e.id,e.displayName)),e.name===ne.b.BACKUP_CODE_AUTHENTICATOR?r.push(e):ae.j.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?a.push(e):l.push(e)})),t.forEach((function(e){var t,n,a,r;e.image=(null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===hc.f.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID?gc.C.getAuthenticatorIcon(null!==(n=null===(a=e.federatedAuthenticators)||void 0===a?void 0:a.defaultAuthenticatorId)&&void 0!==n?n:null===(r=e.defaultAuthenticator)||void 0===r?void 0:r.authenticatorId):te.Zs.resolveConnectionResourcePath(E,e.image),ae.j.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push(e):o.push(e)})),Z({enterprise:o,local:l,recovery:r,secondFactor:a,social:i})}}),[n]);var F=(0,c.useMemo)((function(){return b!==Me.$B.SUBORGANIZATION&&isAdaptiveAuthenticationAvailable}),[isAdaptiveAuthenticationAvailable,b]),P=(0,c.useMemo)((function(){return!(null==m?void 0:m.disabledFeatures).includes("applications.loginFlow.visualEditor")}),[m]),W=(0,c.useMemo)((function(){return!(null==m?void 0:m.disabledFeatures).includes("applications.loginFlow.legacyEditor")}),[m]),M=(0,c.useMemo)((function(){var e;return null==O||null===(e=O.steps)||void 0===e?void 0:e.every((function(e){return!(0,h.Z)(e.options)}))}),[O]),D=function(){w((0,d.V_)({description:S("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:u.QU.WARNING,message:S("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},Q=(0,c.useMemo)((function(){return wc(wc({},lr),{},{attributeStepId:1,requestPathAuthenticators:[],script:tr.generateScript(2).join("\n"),subjectStepId:1,type:$l.a1.DEFAULT})}),[]),_=(0,c.useMemo)((function(){Q.script;var e=yc(Q,vc);return(0,mc.Z)(e,O)}),[O,Q]),j=(0,c.useCallback)((function(e,t){U((function(n){return wc(wc({},n),{},Cc({},e,t))}))}),[]);return c.createElement(Ae.Provider,{value:{adaptiveAuthTemplates:v,addSignInOption:function(e,t){var n,i,o=Object.values(R).flat().find((function(e){var n;return e.id===t||(null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)===t}));if(o){var a=Ec(null==O?void 0:O.steps),r=function(e,t){var n,i=null==t?void 0:t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),o=ae.j.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return i&&o&&(i=null==t?void 0:t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!i||(w((0,d.V_)({description:S("applications:notifications.duplicateAuthenticationStep.genericError.description"),level:u.QU.WARNING,message:S("applications:notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(o,null===(n=a[e])||void 0===n?void 0:n.options);ae.j.HANDLER_AUTHENTICATORS.includes(t);var l=ae.j.FIRST_FACTOR_AUTHENTICATORS.includes(t),c=ae.j.SECOND_FACTOR_AUTHENTICATORS.includes(t),s=be.isSecondFactorAdditionValid(o.defaultAuthenticator.authenticatorId,e,a);if(!c||(l||0!==e&&s)&&(!l||0===e||s)){if((!$.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation||$.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,w))&&r){var p=o.authenticators.find((function(e){return e.authenticatorId===o.defaultAuthenticator.authenticatorId}));null===(i=a[e])||void 0===i||null===(i=i.options)||void 0===i||i.push({authenticator:p.name,idp:o.idp}),I(wc(wc({},O),{},{steps:a}))}}else w((0,d.V_)({description:S("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:u.QU.WARNING,message:S("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},addSignInStep:function(){var e=Ec(null==O?void 0:O.steps),t=O.script;tr.isDefaultScript(t,e.length)&&(t=tr.generateScript(e.length+2).join("\n")),e.push({id:e.length+1,options:[]}),I(wc(wc({},O),{},{script:t,steps:e}))},applicationMetaData:t,authenticationSequence:O,authenticators:R,defaultAuthenticationSequence:Q,hiddenAuthenticators:l,isAdaptiveAuthAvailable:F,isAuthenticationSequenceDefault:_,isConditionalAuthenticationEnabled:L,isLegacyEditorEnabled:W,isSystemApplication:o,isValidAuthenticationFlow:M,isVisualEditorEnabled:P,onActiveFlowModeChange:function(e){I(null==t?void 0:t.authenticationSequence)},onConditionalAuthenticationToggle:function(e){return T(e)},refetchApplication:function(){return a(t.id)},refetchAuthenticators:r,removeSignInOption:function(e,t){var n,i=Ec(null==O?void 0:O.steps),o=i[e],a=null===(n=o.options)||void 0===n?void 0:n.find((function(e){return e.authenticator===t})),r=-1;(null==a?void 0:a.authenticator)!==ne.b.TOTP_AUTHENTICATOR&&(null==a?void 0:a.authenticator)!==ne.b.EMAIL_OTP_AUTHENTICATOR&&(null==a?void 0:a.authenticator)!==ne.b.SMS_OTP_AUTHENTICATOR||be.hasSpecificAuthenticatorInCurrentStep(ne.b.BACKUP_CODE_AUTHENTICATOR,e,i)&&be.countTwoFactorAuthenticatorsInCurrentStep(e,i)<2&&o.options.map((function(e,t){e.authenticator===ne.b.BACKUP_CODE_AUTHENTICATOR&&(r=t)}));var l=Oc(be.getLeftAndRightSideSteps(e,i),2),c=l[0],s=l[1];if(be.hasSpecificFactorsInSteps(Ec(ae.j.SECOND_FACTOR_AUTHENTICATORS),s)){var u=wc({},a),d=be.countSpecificFactorInSteps(Ec(ae.j.SECOND_FACTOR_AUTHENTICATORS),s)===be.countSpecificFactorInSteps([ne.b.TOTP_AUTHENTICATOR,ne.b.EMAIL_OTP_AUTHENTICATOR],s),p=[].concat(Ec(ae.j.FIRST_FACTOR_AUTHENTICATORS),[ne.b.IDENTIFIER_FIRST_AUTHENTICATOR]).includes(u.authenticator),m=[].concat(Ec(ae.j.TOTP_HANDLERS),Ec(ae.j.EMAIL_OTP_HANDLERS)).includes(u.authenticator),f=be.getImmediateStepHavingSpecificFactors(ae.j.SECOND_FACTOR_AUTHENTICATORS,i);if(p||m){var h=0,g=0;if(i[e].options.filter((function(e){ae.j.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&h++,[].concat(Ec(ae.j.TOTP_HANDLERS),Ec(ae.j.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&g++})),d&&g<=1||!d&&h<=1)if(!(d?be.hasSpecificFactorsInSteps([].concat(Ec(ae.j.TOTP_HANDLERS),Ec(ae.j.EMAIL_OTP_HANDLERS)),c):be.hasSpecificFactorsInSteps(ae.j.FIRST_FACTOR_AUTHENTICATORS,c))){var b=Oc(be.getLeftAndRightSideSteps(f,i),1)[0];if((d?be.countSpecificFactorInSteps([].concat(Ec(ae.j.TOTP_HANDLERS),Ec(ae.j.EMAIL_OTP_HANDLERS)),b):be.countSpecificFactorInSteps(ae.j.FIRST_FACTOR_AUTHENTICATORS,b))<=1)return void D()}}}-1!==r&&i[e].options.splice(r,1);var v=i[e].options.findIndex((function(e){return e.authenticator===t}));-1!==v&&i[e].options.splice(v,1),I(wc(wc({},O),{},{steps:i}))},removeSignInStep:function(e){var t=Ec(null==O?void 0:O.steps),n=O.script;if(t.length<=1)w((0,d.V_)({description:S("applications:notifications.authenticationStepMin.genericError.description"),level:u.QU.WARNING,message:S("applications:notifications.authenticationStepMin.genericError.message")}));else{var i=Oc(be.getLeftAndRightSideSteps(e,t),3),o=i[0],a=i[1],r=i[2],l=be.hasSpecificFactorsInSteps(ae.j.SECOND_FACTOR_AUTHENTICATORS,a),c=be.countSpecificFactorInSteps([ne.b.TOTP_AUTHENTICATOR],a),s=be.countSpecificFactorInSteps(ae.j.SECOND_FACTOR_AUTHENTICATORS,a)+be.countSpecificFactorInSteps(ae.j.FIRST_FACTOR_AUTHENTICATORS,a);if(l)if(!(s===c?be.hasSpecificFactorsInSteps(ae.j.TOTP_HANDLERS,o):be.hasSpecificFactorsInSteps(ae.j.FIRST_FACTOR_AUTHENTICATORS,o)||be.checkImmediateStepHavingSpecificFactors(ae.j.FIRST_FACTOR_AUTHENTICATORS,r)))return void w((0,d.V_)({description:S("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:u.QU.WARNING,message:S("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));tr.isDefaultScript(n,t.length)&&(n=tr.generateScript(t.length).join("\n")),t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),I(wc(wc({},O),{},{script:n,steps:t}))}},revertAuthenticationSequenceToDefault:function(){I(Q)},updateAuthenticationSequence:function(e){I(wc(wc(wc({},O),(0,f.Z)(e)),{},{type:$l.a1.USER_DEFINED}))},updateVisualEditorFlowNodeMeta:j,visualEditorFlowNodeMeta:k}},i)};var Tc=n(23754),Nc=n(73384),Rc=n(66112),Zc=n(24184),xc=n(71015),kc=n(26060),Uc=n.n(kc),Fc=n(24730),Pc=n(88719),Wc=n(33040),Mc=n(71551),Dc=n(39114),Qc=n(50988),_c=n(66638),jc=n(5043),Bc=n(58934),Gc=n(19980);function Vc(e){return function(e){if(Array.isArray(e))return zc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||Xc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){if(e){if("string"==typeof e)return zc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zc(e,t):void 0}}function zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Yc=(0,c.forwardRef)((function(e,t){var n=e.defaultActiveIndexes,i=e.onTemplateSelect,o=e.templates,a=e.title,r=e.visible,l=e.isELKConfigureClicked,p=e.onELKModalClose,f=e.readOnly,h=e["data-componentid"],b=(0,g.$)().t,v=Hc((0,c.useState)(n),2),y=v[0],E=v[1],S=Hc((0,c.useState)(null),2),w=S[0],C=S[1],O=Hc((0,c.useState)(!1),2),I=O[0],A=O[1],L=Hc((0,c.useState)(!1),2),T=L[0],N=L[1],R=Hc((0,c.useState)(void 0),2),Z=R[0],x=R[1],k=Hc((0,c.useState)(void 0),2),U=k[0],F=k[1],P=Hc((0,c.useState)(void 0),2),W=P[0],M=P[1],D=Hc((0,c.useState)(!1),2),Q=D[0],_=D[1],j=(0,s.I0)(),B=function(e,t){var n=t.index,i=Vc(y);if(i.includes(n)){var o=i.indexOf(n);i.splice(o,1)}else i.push(n);E(i)},G=function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:rr.e.decodeConnectorPropertyName(n),value:e[n]});Ya.serverConfigurationConfig.connectorToggleName[null==Z?void 0:Z.name]&&Ya.serverConfigurationConfig.autoEnableConnectorToggleProperty&&t.properties.push({name:rr.e.decodeConnectorPropertyName(Ya.serverConfigurationConfig.connectorToggleName[null==Z?void 0:Z.name]),value:"true"}),_(!0),(0,ir.u9)(t,U,W).then((function(){j((0,d.V_)({description:b("extensions:manage.serverConfigurations.analytics.form.notification.success.description"),level:u.QU.SUCCESS,message:b("governanceConnectors:notifications.updateConnector.success.message")}))})).catch((function(e){var t,n;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?j((0,d.V_)({description:b("extensions:manage.serverConfigurations.analytics.form.notification.error.description"),level:u.QU.ERROR,message:b("governanceConnectors:notifications.updateConnector.error.message")})):j((0,d.V_)({description:b("governanceConnectors:notifications.updateConnector.genericError.description"),level:u.QU.ERROR,message:b("governanceConnectors:notifications.updateConnector.genericError.message")}))})).finally((function(){_(!1),X()}))},X=function(){A(!1),p()};(0,c.useEffect)((function(){l&&Y()}),[l]);var z,Y=function(){!function(){var e=or.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,t=or.v.ANALYTICS_ENGINE_CONNECTOR_ID;F(e),M(t),N(!0),(0,ir.PP)(e,t).then((function(e){x(e)})).catch((function(e){var t,n,i;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?j((0,d.V_)({description:b("governanceConnectors:notifications.getConnector.error.description",{description:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description}),level:u.QU.ERROR,message:b("governanceConnectors:notifications.getConnector.error.message")})):j((0,d.V_)({description:b("governanceConnectors:notifications.getConnector.genericError.description"),level:u.QU.ERROR,message:b("governanceConnectors:notifications.getConnector.genericError.message")}))})).finally((function(){N(!1)}))}(),A(!0)};return c.createElement(c.Fragment,null,w&&c.createElement(di,{template:w,open:!!w,onClose:function(){C(null)}}),c.createElement(Qc.Z,{as:Gc.Z,ref:t,className:"script-templates-panel",animation:"overlay",icon:"labeled",direction:"right",vertical:!0,secondary:!0,visible:r,"data-componentid":h},a&&"string"==typeof a?c.createElement(m.X6,{as:"h6",bold:!0},a):a,o&&o instanceof Array&&o.length>0?c.createElement(Bc.Z,{as:Mc.Z,className:"template-category-menu","data-componentid":"".concat(h,"-accordion"),fluid:!0,secondary:!0,vertical:!0},(0,jc.Z)(o,"order").map((function(e,t){return(null==e?void 0:e.templates)&&e.templates instanceof Array&&c.createElement(Mc.Z.Item,{key:t},c.createElement(Bc.Z.Title,{active:y.includes(t),className:"category-name",content:e.displayName,index:t,icon:c.createElement(H.Z,{className:"angle right caret-icon"}),onClick:B,"data-componentid":"".concat(h,"-accordion-title-").concat(t)}),c.createElement(Bc.Z.Content,{className:"template-list",active:y.includes(t),"data-componentid":"".concat(h,"-accordion-content-").concat(t)},e.templates.map((function(e,t){return c.createElement(Mc.Z.Item,{key:t,className:"template-list-item","data-componentid":e.name},c.createElement(m.GI,{trigger:c.createElement("div",{className:"template-name"},e.name),content:e.title||e.name}),c.createElement("div",{className:"actions"},e.name===Nn&&c.createElement(m.u,{compact:!0,trigger:c.createElement(H.Z,{className:"add-button",name:"cog",onClick:function(){Y()}}),content:b("common:configure")}),c.createElement(m.u,{compact:!0,trigger:c.createElement(H.Z,{className:"add-button",name:"info circle",onClick:function(){C(e)},"data-componentid":"".concat(e.name,"-info")}),content:b("applications:edit.sections.signOnMethod.sections.templateDescription.popupContent")}),!f&&c.createElement(m.u,{compact:!0,trigger:c.createElement(H.Z,{className:"add-button",name:"add",onClick:function(){return i(e)},"data-componentid":"".concat(e.name,"-add")}),content:b("common:add")})))}))))}))):null),c.createElement(V.Z,{open:I,onClose:X,size:"small",dimmer:"blurring"},c.createElement(V.Z.Header,null,null==Z?void 0:Z.friendlyName,c.createElement(m.X6,{subHeading:!0,ellipsis:!0,as:"h6"},b("governanceConnectors:connectorSubHeading",{name:null==Z?void 0:Z.friendlyName}))),c.createElement(V.Z.Content,{className:"elk-analytics-modal",scrolling:!0},T?c.createElement(m.pO,{inline:"centered",active:!0}):c.createElement(ar.Z,{onSubmit:G,triggerSubmission:function(e){z=e},initialValues:Z,isConnectorEnabled:!0,isSubmitting:Q,hideUpdateButton:!0,isModalForm:!0})),c.createElement(V.Z.Actions,null,c.createElement(q.Z,null,c.createElement(q.Z.Row,{column:1},c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.Qj,{"data-testid":"".concat(h,"-cancel-button"),floated:"left",onClick:function(){return X()}},b("apiResources:tabs.scopes.form.cancelButton"))),c.createElement(q.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(m.KM,{"data-testid":"".concat(h,"-finish-button"),floated:"right",onClick:function(){return z()},loading:Q},b("common:update"))))))))}));function Jc(e){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(e)}function qc(){qc=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(i||[]);return o(r,"_invoke",{value:A(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function b(){}function v(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(Z([])));w&&w!==n&&i.call(w,r)&&(E=w);var C=y.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,r,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Jc(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,i){var o=p;return function(a,r){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw r;return{value:e,done:!0}}for(i.method=a,i.arg=r;;){var l=i.delegate;if(l){var c=L(l,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?h:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=h,i.method="throw",i.arg=s.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Jc(t)+" is not iterable")}return v.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new I(u(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(C),s(C,c,"Generator"),s(C,r,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function Kc(e,t,n,i,o,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(i,o)}function $c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return es(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Yc.defaultProps={"data-componentid":"script-templates-side-panel",defaultActiveIndexes:[-1],visible:!1};var ts=function(e){var t,n,i=e.authenticationSequence,o=e.onTemplateSelect,a=e.onScriptChange,r=e.readOnly,l=e.authenticationSteps,v=e.isDefaultScript,y=e.onAdaptiveScriptReset,S=e["data-componentid"],w=(0,g.$)().t,C=(0,m.fQ)().getLink,O=(0,s.I0)(),I=(0,c.useRef)(null),A=(0,c.useRef)(null),L=$c((0,c.useState)(void 0),2),T=L[0],N=L[1],R=$c((0,c.useState)(void 0),2),Z=R[0],x=R[1],k=$c((0,c.useState)(!0),2),U=k[0],F=k[1],W=$c((0,c.useState)(void 0),2),M=W[0],Q=W[1],j=$c((0,c.useState)(!0),2),B=j[0],G=j[1],V=$c((0,c.useState)(void 0),2),z=V[0],Y=V[1],J=$c((0,c.useState)(void 0),2),q=J[0],K=J[1],$=$c((0,c.useState)(!1),2),ee=$[0],te=$[1],ne=$c((0,c.useState)(!1),2),ie=ne[0],oe=ne[1],ae=$c((0,c.useState)(!1),2),re=ae[0],ce=ae[1],se=$c((0,c.useState)(!1),2),ue=se[0],de=se[1],pe=$c((0,c.useState)(!1),2),me=pe[0],fe=pe[1],he=$c((0,c.useState)(!1),2),ge=he[0],be=he[1],ve=$c((0,c.useState)(void 0),2),ye=ve[0],Ee=ve[1],Se=$c((0,c.useState)(!1),2),we=Se[0],Ce=Se[1],Oe=(0,Zc.Ac)("console.application.signIn.adaptiveAuth"),Ie=(0,Zc.wY)("console.application.signIn.adaptiveAuth"),Ae=$c((0,c.useState)(!1),2),Le=Ae[0],Te=Ae[1],Ne=$c((0,c.useState)(!1),2),Re=Ne[0],Ze=Ne[1],ke=$c((0,c.useState)([]),2),Ue=ke[0],Fe=ke[1],Pe=$c((0,c.useState)([]),2),We=Pe[0],De=Pe[1],Qe=$c((0,c.useState)(!0),2),_e=Qe[0],je=Qe[1],Be=$c((0,c.useState)(!1),2),Ge=Be[0],Ve=Be[1],He=$c((0,c.useState)(void 0),2),Xe=He[0],ze=He[1],Ye=xe(),Je=Ye.isConditionalAuthenticationEnabled,qe=Ye.onConditionalAuthenticationToggle,Ke=P.lD.getInstance(),$e=(0,s.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),et=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features}));(0,c.useEffect)((function(){var e;(0,D.Xr)(null==et?void 0:et.secretsManagement,null==et||null===(e=et.secretsManagement)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.read,$e)&&tt()}),[]);var tt=function(){Nc.F.getOrganizationType()!==Me.$B.SUPER_ORGANIZATION&&Nc.F.getOrganizationType()!==Me.$B.FIRST_LEVEL_ORGANIZATION&&Nc.F.getOrganizationType()!==Me.$B.TENANT||(je(!0),(0,nl.pR)({params:{secretType:sl.H0}}).then((function(e){Fe(e.data),De(e.data)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?O((0,d.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:u.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):O((0,d.V_)({description:w("secrets:errors.generic.description"),level:u.QU.ERROR,message:w("secrets:errors.generic.message")}))})).finally((function(){je(!1)})))};(0,c.useEffect)((function(){Oe===Zc.iK.ENABLED&&null!=Ie&&Ie.includes(Zc.yM.PREMIUM)&&Te(!0)}),[]);var nt=function(){tt()},it=function(){be(!1),nt()};(0,c.useEffect)((function(){(0,fc.im)().then((function(e){N(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?O((0,d.V_)({description:e.response.data.description,level:u.QU.ERROR,message:xc.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE})):O((0,d.V_)({description:le.jo.ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR,level:u.QU.ERROR,message:xc.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE}))}))}),[]);var ot=function(){var e,t="100%";U&&(t="calc(100% - ".concat(null==I||null===(e=I.current)||void 0===e||null===(e=e.ref)||void 0===e||null===(e=e.current)||void 0===e?void 0:e.offsetWidth,"px)"));A.current.style.width=t};(0,c.useEffect)((function(){ot()}),[U]),(0,c.useEffect)((function(){ot()})),(0,c.useEffect)((function(){var e;r?qe(!0):null==i||!i.script||tr.isDefaultScript(i.script,null==i||null===(e=i.steps)||void 0===e?void 0:e.length)?qe(!1):qe(!0)}),[i]),(0,c.useEffect)((function(){ct(null==i?void 0:i.script)}),[null==i?void 0:i.steps,null==i?void 0:i.script,l]);var at,rt,lt,ct=function(e){var t,n;if(!e&&0===(null==i||null===(t=i.steps)||void 0===t?void 0:t.length))return Q(tr.getDefaultScript()),void te(!1);if(!e&&(null==i||null===(n=i.steps)||void 0===n?void 0:n.length)>0)return Q(tr.generateScript(l+1)),void te(!1);if(p.StringUtils.isValidJSONString(e)){if(ee&&!ie&&tr.minifyScript(z)!==tr.minifyScript(JSON.parse(e)))return;return te(!0),Q(JSON.parse(e)),void oe(!1)}return e&&function(e){for(var t=!1,n=q>l?q:l;n>0;n--)if(tr.isDefaultScript(e,n)){t=!0;break}return t}(e)&&tr.minifyScript(z)===tr.minifyScript(M)||e&&tr.isDefaultScript(null!=z?z:e,null!=q?q:l)&&tr.minifyScript(z)!==tr.minifyScript(M)?(K(l),Q(tr.generateScript(l+1)),void te(!1)):e&&!tr.isDefaultScript(null!=z?z:e,null!=q?q:l)?(K(l),tr.minifyScript(z)!==tr.minifyScript(e)&&tr.minifyScript(z)!==tr.minifyScript(M)?void Q(null!=z?z:e):(Q(Uc().js((0,_c.jr)(e))),void te(!1))):void(v?ut():(Q(e),te(!1)))},ut=function(){Q(tr.generateScript(l+1)),te(!1),y(),qe(!1)},dt=[{content:c.createElement("div",{className:"tour-step"},c.createElement(m.X6,{bold:!0,as:"h6"},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.heading")),c.createElement(m.xv,null,w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.0")),c.createElement(m.xv,null,c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.1"},"Click on the ",c.createElement(m.EK,null,"Next")," button to learn about the process."))),disableBeacon:!0,placement:"top",target:'[data-tourid="conditional-auth"]'},{content:c.createElement("div",{className:"tour-step"},c.createElement(m.X6,{bold:!0,as:"h6"},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.heading")),c.createElement(m.xv,null,w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.content.0"))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-authentication-options-button"]'},{content:c.createElement("div",{className:"tour-step"},c.createElement(m.X6,{bold:!0,as:"h6"},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.heading")),c.createElement(m.xv,null,c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.content.0"},"Click here if you need to add more steps to the flow. Once you add a new step,",c.createElement(m.EK,null,"executeStep(STEP_NUMBER);")," will appear on the script editor."))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-new-step-button"]'}],pt=function(){var e,t=(e=qc().mark((function e(){return qc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xe){e.next=19;break}return e.prev=1,e.next=4,(0,nl.c8)({params:{secretName:Xe.secretName,secretType:Xe.type}});case 4:O((0,d.V_)({description:w("secrets:alerts.deleteSecret.description",{secretName:Xe.secretName,secretType:Xe.type}),level:u.QU.SUCCESS,message:w("secrets:alerts.deleteSecret.message")})),e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=12;break}return O((0,d.V_)({description:e.t0.response.data.description,level:u.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 12:O((0,d.V_)({description:w("secrets:errors.generic.description"),level:u.QU.ERROR,message:w("secrets:errors.generic.message")}));case 13:return e.prev=13,nt(),Ve(!1),ze(void 0),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[1,7,13,19]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){Kc(a,i,o,r,l,"next",e)}function l(e){Kc(a,i,o,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),mt=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=P.Wj.getUserPreferences();if(!(0,h.Z)(n)){var i=(0,f.Z)(n);(0,Fc.Z)(null==i||null===(e=i.identityAppsSettings)||void 0===e?void 0:e.devPortal,le.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,t),P.Wj.setUserPreferences(i)}},ft=function(){var e,t=P.Wj.getUserPreferences();return!(0,h.Z)(t)&&(0,Li.Z)(null==t||null===(e=t.identityAppsSettings)||void 0===e?void 0:e.devPortal,le.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,!1)},ht=c.createElement(m.cV,{onClose:function(){Ve(!1),ze(void 0)},onSecondaryActionClick:function(){Ve(!1),ze(void 0)},onPrimaryActionClick:pt,open:Ge,type:"negative",assertionHint:w("secrets:modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:w("secrets:modals.deleteSecret.primaryActionButtonText"),secondaryAction:w("secrets:modals.deleteSecret.secondaryActionButtonText"),"data-componentid":"".concat(S,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(m.cV.Header,{"data-componentid":"".concat(S,"-delete-confirmation-modal-header")},w("secrets:modals.deleteSecret.title")),c.createElement(m.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(S,"-delete-confirmation-modal-message")},w("secrets:modals.deleteSecret.warningMessage")),c.createElement(m.cV.Content,{"data-componentid":"".concat(S,"-delete-confirmation-modal-content")},w("secrets:modals.deleteSecret.content")));return c.createElement(c.Fragment,null,c.createElement("div",{className:"conditional-auth-section"},c.createElement(m.el,{fluid:!0,"data-componentid":"".concat(S,"-accordion"),className:"conditional-auth-accordion"},c.createElement(m.el.Title,{"data-componentid":"".concat(S,"-accordion-title"),active:Je,content:c.createElement(c.Fragment,null,c.createElement("div",{className:"conditional-auth-accordion-title"},!r&&c.createElement(Dc.Z,{toggle:!0,"data-tourid":"conditional-auth",onChange:function(){Je?ce(!0):(Ke.publish("application-sign-in-method-enable-conditional-authentication"),qe(!0))},checked:Je,className:"conditional-auth-accordion-toggle"}),c.createElement("div",{className:"conditional-auth-accordion-title-text"},c.createElement(m.X6,{as:"h5",compact:!0,className:"heading"},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading"),Le&&c.createElement(m.GI,{basic:!0,inverted:!0,position:"top center",content:c.createElement("p",null,w("applications:featureGate.enabledFeatures.tags.premium.warning")),trigger:c.createElement(E.Z,{label:"PREMIUM",className:"oxygen-menu-item-chip oxygen-chip-premium",style:{height:"fit-content"}})})),c.createElement(m.xv,{muted:!0,compact:!0},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"),c.createElement(m.eb,{link:C("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.learnMore")},w("common:learnMore"))))),c.createElement(Pc.ZP,{continuous:!0,disableOverlay:!0,showSkipButton:!0,callback:function(e){e.status!==Pc.Q_.FINISHED&&e.status!==Pc.Q_.SKIPPED||mt()},run:!!Je&&!1===ft(),steps:dt,styles:{buttonClose:{display:"none"},tooltipContent:{paddingBottom:1}},locale:{back:w("common:back"),close:w("common:close"),last:w("common:done"),next:w("common:next"),skip:w("common:skip")}})),hideChevron:!0}),c.createElement(m.el.Content,{active:Je,className:"conditional-auth-accordion-content","data-componentid":"".concat(S,"-accordion-content")},c.createElement(Qc.Z.Pushable,{className:"script-editor-with-template-panel no-border"},!r&&c.createElement(Yc,{onELKModalClose:function(){return Ze(!1)},isELKConfigureClicked:Re,title:w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.templates.heading"),ref:I,onTemplateSelect:function(e){x(e),de(!0)},templates:(null==T?void 0:T.templatesJSON)&&Object.values(T.templatesJSON),visible:U,readOnly:r,"data-componentid":"".concat(S,"-script-templates-side-panel")}),c.createElement(Qc.Z.Pusher,null,c.createElement("div",{className:"script-editor-container",ref:A},c.createElement(Mc.Z,{attached:"top",className:"action-panel",secondary:!0},c.createElement(Mc.Z.Menu,{position:"right"},void 0===(lt=C("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.apiReference"))?null:c.createElement(Mc.Z.Item,{className:"action p-3",href:lt,target:"_blank"},c.createElement(m.u,{compact:!0,trigger:c.createElement(m.zx,{labelPosition:"left"},c.createElement(m.dn,{className:"p-1 mr-1",transparent:!0,defaultIcon:!0,size:"micro",icon:(0,P.YT)().openBookIcon,"data-componentid":"".concat(S,"-code-editor-open-documentation")}),c.createElement("p",null,w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.apiDocumentation"))),content:w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.goToApiDocumentation"),size:"mini"})),(null==et||null===(t=et.secretsManagement)||void 0===t?void 0:t.enabled)&&(0,D.Xr)(null==et?void 0:et.secretsManagement,null==et||null===(n=et.secretsManagement)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.read,$e)&&c.createElement(Mc.Z.Item,{className:"action ".concat(we?"selected-secret":"")},c.createElement("div",null,c.createElement(Wc.Z,{defaultOpen:!_e,labeled:!0,button:!0,upward:!1,options:We,onOpen:function(){return Ce(!0)},onClose:function(){return Ce(!1)},icon:c.createElement(m.GI,{disabled:we,trigger:c.createElement("div",null,c.createElement(m.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,P.YT)().keyIcon,"data-componentid":"".concat(S,"-code-editor-secret-selection")})),content:c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.keyIcon"},"Securely store access keys as secrets. A secret can replace the consumer secret in ",c.createElement(m.EK,null,"callChoreo()")," function in the conditional authentication scripts."),position:"bottom left",pinned:!0})},c.createElement(Wc.Z.Menu,null,Ue.length>0&&c.createElement(X.Z,{"data-componentid":"".concat(S,"-secret-search"),icon:"search",iconPosition:"left",className:"search",placeholder:w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.search"),onChange:function(e){var t;null!==(t=e.currentTarget)&&void 0!==t&&t.value?De(Ue.filter((function(t){return t.secretName.toLowerCase().includes(e.currentTarget.value.toLowerCase())}))):De(Ue)},onClick:function(e){return e.stopPropagation()}}),c.createElement(Wc.Z.Menu,{"data-componentid":"".concat(S,"-secret-list"),scrolling:!0,className:"custom-dropdown"},We.length>0?We.map((function(e){return c.createElement(Wc.Z.Item,{key:e.secretId},c.createElement(ua.Z,{as:"h6",className:"header-with-icon",style:{margin:"0.25rem auto"}},c.createElement(m.dn,{defaultIcon:!0,link:!0,linkType:"primary",transparent:!0,floated:"right",size:"micro",style:{paddingTop:0},icon:c.createElement(m.u,{trigger:c.createElement(H.Z,{name:"trash alternate"}),content:w("common:delete"),size:"mini"}),onClick:function(){!function(e){ze(e),Ve(!0)}(e)},"data-componentid":"".concat(S,"-secret-delete")}),c.createElement(m.dn,{defaultIcon:!0,transparent:!0,link:!0,linkType:"primary",floated:"right",size:"micro",style:{paddingTop:0},icon:c.createElement(m.u,{trigger:c.createElement(H.Z,{name:"plus"}),content:w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.plusIcon"),size:"mini"}),onClick:function(){!function(e){var t=null==ye?void 0:ye.getDoc(),n='"'.concat(e.secretName,'"');if(t.somethingSelected())t.replaceSelection(n);else{var i=t.getCursor();t.replaceRange(n,i)}}(e)},"data-componentid":"".concat(S,"-secret-add")}),c.createElement(ua.Z.Content,null,e.secretName),c.createElement(ua.Z.Subheader,{className:"truncate ellipsis"},e.description)))})):c.createElement(Wc.Z.Item,{"data-componentid":"".concat(S,"-empty-placeholder"),key:"secretEmptyPlaceholder",text:w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.emptyPlaceholder"),disabled:!0})),(null==et||null===(at=et.secretsManagement)||void 0===at?void 0:at.enabled)&&(0,D.Xr)(null==et?void 0:et.secretsManagement,null==et||null===(rt=et.secretsManagement)||void 0===rt||null===(rt=rt.scopes)||void 0===rt?void 0:rt.create,$e)&&(Nc.F.getOrganizationType()===Me.$B.SUPER_ORGANIZATION||Nc.F.getOrganizationType()===Me.$B.FIRST_LEVEL_ORGANIZATION||Nc.F.getOrganizationType()===Me.$B.TENANT)&&c.createElement(Wc.Z.Menu,{className:"create-button-item",scrolling:!0},c.createElement(Wc.Z.Item,{key:"createSecret",text:w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.create"),onClick:function(){be(!0)}})))))),c.createElement(Mc.Z.Item,{className:"action"},c.createElement(m.u,{compact:!0,trigger:c.createElement("div",null,c.createElement(m.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,P.YT)().maximize,onClick:function(){fe(!me)},"data-componentid":"".concat(S,"-code-editor-fullscreen-toggle")})),content:function(){var e=w("common:goFullScreen");return me&&setTimeout((function(){e=w("common:exitFullScreen")}),500),e},size:"mini"})),c.createElement(Mc.Z.Item,{className:"action"},c.createElement(m.u,{compact:!0,trigger:c.createElement("div",null,c.createElement(m.dn,{hoverable:!0,defaultIcon:!0,transparent:!0,size:"micro",hoverType:"rounded",icon:B?(0,P.YT)().lightMode:(0,P.YT)().darkMode,onClick:function(){G(!B)},"data-componentid":"".concat(S,"-code-editor-mode-toggle")})),content:w(B?"common:lightMode":"common:darkMode"),size:"mini"})),!r&&c.createElement(Mc.Z.Item,{onClick:function(){F(!U)},className:"action hamburger","data-componentid":"".concat(S,"-script-template-sidebar-toggle")},c.createElement(H.Z,{name:"bars"})))),c.createElement("div",{className:"code-editor-wrapper"},c.createElement(m.pq,{editorDidMount:function(e){Ee(e)},lint:!0,allowFullScreen:!0,controlledFullScreenMode:!1,triggerFullScreen:me,language:"javascript",sourceCode:M,options:{lineWrapping:!0},onChange:function(e,t,n){Y(n),a(n)},onFullScreenToggle:function(e){fe(e),function(){var e=tr.sourceToString(z);if(e!==tr.sourceToString(M)){var t=null==ye?void 0:ye.doc.getCursor();Q(e.split(le.jo.LINE_BREAK)),null==ye||ye.doc.setCursor(t)}}()},theme:B?"dark":"light",readOnly:r,translations:{copyCode:w("common:copyToClipboard"),exitFullScreen:w("common:exitFullScreen"),goFullScreen:w("common:goFullScreen")},"data-componentid":"".concat(S,"-code-editor")}))))))),ge&&c.createElement(cl.Z,{onClose:it}),Ge&&ht),re&&c.createElement(m.cV,{onClose:function(){return ce(!1)},type:"warning",open:re,primaryAction:w("common:confirm"),secondaryAction:w("common:cancel"),onSecondaryActionClick:function(){return ce(!1)},onPrimaryActionClick:function(){ce(!1),ut()},"data-componentid":"".concat(S,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(m.cV.Header,{"data-componentid":"".concat(S,"-reset-confirmation-modal-header")},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(m.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(S,"-reset-confirmation-modal-message")},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(m.cV.Content,{"data-componentid":"".concat(S,"-reset-confirmation-modal-content")},c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",c.createElement(m.EK,null,"Confirm")," to proceed."))),ue&&c.createElement(m.cV,{onClose:function(){return de(!1)},type:"warning",open:ue,primaryAction:w("common:confirm"),secondaryAction:w("common:cancel"),onSecondaryActionClick:function(){de(!1),x(void 0)},onPrimaryActionClick:function(){var e;de(!1),e=Z,Ke.publish("application-sign-in-method-conditional-authentication-template",{type:(0,_.Z)(e.name)}),oe(!0),o(e),x(void 0)},"data-componentid":"".concat(S,"-adaptive-script-template-change-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(m.cV.Header,{"data-componentid":"".concat(S,"-reset-confirmation-modal-header")},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(m.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(S,"-reset-confirmation-modal-message")},w("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(m.cV.Content,{"data-componentid":"".concat(S,"-reset-confirmation-modal-content")},Z.name===Nn&&c.createElement(c.Fragment,null,c.createElement(m.xv,null,c.createElement(b.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.configure"},"(",c.createElement(m.rU,{onClick:function(){return Ze(!0)},external:!1},"Configure"),"ELK Analytics settings for proper functionality.)")),c.createElement(m.xv,null,c.createElement(b.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.reassure"},"You can update your settings anytime.")," (",c.createElement(m.EK,null,c.createElement(st.UG,{size:14})),")")),c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.changeConfirmation.content"},"The selected template will replace the existing script in the editor and the step configuration. Your current progress will be lost. Click ",c.createElement(m.EK,null,"Confirm")," to proceed."))))};ts.defaultProps={"data-componentid":"script-based-flow"};var ns=n(719),is=n(12595);function os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return as(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var rs=function(e){var t=e.authenticators,n=e.className,i=e.onStepDelete,o=e.onAddAuthenticationClick,a=e.onStepOptionAuthenticatorChange,r=e.onStepOptionDelete,l=e.readOnly,s=e.showStepDeleteAction,u=e.showStepMeta,d=e.step,p=e.stepIndex,f=e.subjectStepId,h=e.attributeStepId,b=e.onSubjectCheckboxChange,v=e.onAttributeCheckboxChange,y=e.updateAuthenticationStep,E=e["data-componentid"],S=(0,g.$)().t,w=(0,K.Z)().UIConfig,C=(0,bn.z)().isSubOrganization,O=null==w?void 0:w.connectionResourcesUrl,I=A()("authentication-step-container timeline-body",n),L=os((0,c.useState)(!1),2),T=L[0],N=L[1],R=os((0,c.useState)(!1),2),Z=R[0],x=R[1],k=os((0,c.useState)(null),2),U=k[0],F=k[1],W=xe().isConditionalAuthenticationEnabled;(0,c.useEffect)((function(){var e=!1;d.options.map((function(t){var n;([ne.b.TOTP_AUTHENTICATOR,ne.b.BACKUP_CODE_AUTHENTICATOR,ne.b.SESSION_EXECUTOR_AUTHENTICATOR].includes(t.authenticator)?N(!1):N(!0),[ne.b.TOTP_AUTHENTICATOR,ne.b.EMAIL_OTP_AUTHENTICATOR,ne.b.SMS_OTP_AUTHENTICATOR,ne.b.BACKUP_CODE_AUTHENTICATOR].includes(t.authenticator))&&((!C()||C()&&null!=w&&null!==(n=w.legacyMode)&&void 0!==n&&n.backupCodesForSubOrganizations)&&(e=!0))})),x(e)}),[JSON.stringify(d.options)]);var M,D=(0,c.useMemo)((function(){return f===p+1}),[f,p]),Q=(0,c.useMemo)((function(){return h===p+1}),[h,p]),_=(0,c.useMemo)((function(){var e=!1;return d.options.map((function(t,n){t.authenticator===ne.b.BACKUP_CODE_AUTHENTICATOR&&(e=!0,F(n))})),e}),[JSON.stringify(d.options)]);return c.createElement("div",{className:"timeline-item"},c.createElement("div",{className:"timeline-badge"},d.id),c.createElement("div",{className:I,"data-componentid":E},u&&c.createElement("div",{className:"authentication-step-actions"},c.createElement(m.X6,{className:"step-header",bold:"500",as:"h6"},S("common:step")," ",d.id),!l&&s&&c.createElement(H.Z,{className:"delete-button",name:"cancel",onClick:function(){return i(p)},"data-componentid":"".concat(E,"-delete-button")})),c.createElement("div",{className:"authentication-step with-extension ".concat(d.options&&d.options instanceof Array&&d.options.length>0?"":"empty-placeholder-container")},d.options&&d.options instanceof Array&&d.options.length>0?c.createElement(c.Fragment,null,d.options.map((function(e,n){return function(e,n,i){if(t&&t instanceof Array&&t.length>0){var o,s,u,d,p=null;return(p=e.idp===ne.b.LOCAL_IDP_IDENTIFIER?t.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):(null==e?void 0:e.authenticator)===ee.fB.ORGANIZATION_SSO_AUTHENTICATOR_NAME?null==t?void 0:t.find((function(e){return(null==e?void 0:e.id)===vn.F.getOrganizationAuthenticator().id})):t.find((function(t){return t.idp===e.idp})))?c.createElement(m.GI,{wide:!0,style:{minWidth:"200px"},key:n,hoverable:!0,disabled:!(null!==(o=p)&&void 0!==o&&o.authenticators&&p.authenticators instanceof Array&&p.authenticators.length>1),trigger:c.createElement("div",{className:"authenticator-item-wrapper","data-componentid":"".concat(E,"-option"),hidden:(null===(s=p)||void 0===s?void 0:s.id)===ne.b.BACKUP_CODE_AUTHENTICATOR_ID},c.createElement(Y.Z,{fluid:!0,className:"basic-card authenticator-card"},c.createElement(Y.Z.Content,null,!l&&c.createElement(z.Z,{basic:!0,floating:!0,circular:!0,className:"close-button",size:"mini",onClick:!l&&function(){return r(n,i)},"data-componentid":"".concat(E,"-close-button")},c.createElement(m.dn,{transparent:!0,size:"nano",icon:(0,P.s_)().crossIcon})),c.createElement(m.dn,{square:!0,inline:!0,className:"card-image",size:"micro",spaced:"right",floated:"left",icon:p.idp===is.Xi.LOCAL||(null===(u=p.defaultAuthenticator)||void 0===u?void 0:u.authenticatorId)===ee.fB.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID?p.image:te.Zs.resolveConnectionResourcePath(O,p.image),"data-componentid":"".concat(E,"-image"),transparent:!0}),c.createElement("span",{"data-componentid":"".concat(E,"-option-name")},p.displayName)))),content:c.createElement("div",null,c.createElement(z.Z,{attached:"top"},S("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.selectAuthenticator")),c.createElement(J.Z,{"data-componentid":"".concat(E,"-authenticator-selection")},null===(d=p)||void 0===d||null===(d=d.authenticators)||void 0===d?void 0:d.map((function(t){return c.createElement(J.Z.Field,{key:t.authenticatorId},c.createElement(ns.Z,{label:t.name,name:t.name,value:t.authenticatorId,checked:t.name===e.authenticator,onChange:function(){return a(n,i,t)}}))}))))}):null}}(e,p,n)})),!l&&c.createElement(m.Qj,{"data-tourid":"add-authentication-options-button",className:"authenticator-item-wrapper",onClick:o},c.createElement(H.Z,{name:"plus"}),S("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication"))):!l&&c.createElement(c.Fragment,null,c.createElement(m.Qj,{fluid:!0,"data-tourid":"add-authentication-options-button",onClick:o},c.createElement(H.Z,{name:"plus"}),S("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication")),c.createElement(m.$J,{subtitle:[S("applications:placeholders.emptyAuthenticatorStep.subtitles.0")],"data-componentid":"".concat(E,"-empty-placeholder")}))),!l&&u&&d.options&&d.options instanceof Array&&d.options.length>0&&c.createElement("div",{className:"checkboxes-extension"},T?c.createElement(c.Fragment,null,(M=!1,d.options.map((function(e){e.authenticator!==ne.b.IDENTIFIER_FIRST_AUTHENTICATOR||W||(M=!0)})),M?c.createElement(m.u,{trigger:c.createElement(Dc.Z,{label:S("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:D,"data-componentid":"".concat(E,"-subject-step-checkbox"),onChange:function(){return b(p+1)},readOnly:!0}),content:S("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.idf.tooltipText"),"data-componentid":"".concat(E,"-subject-step-tooltip"),basic:!0}):c.createElement(Dc.Z,{label:S("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:D,"data-componentid":"".concat(E,"-subject-step-checkbox"),onChange:function(){return b(p+1)},readOnly:D})),d.options.some((function(e){return e.authenticator===ne.b.IDENTIFIER_FIRST_AUTHENTICATOR&&!W}))?c.createElement(m.u,{trigger:c.createElement(Dc.Z,{label:S("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:Q,"data-componentid":"".concat(E,"-attribute-step-checkbox"),onChange:function(){return v(p+1)},readOnly:!0}),content:S("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.idf.tooltipText"),"data-componentid":"".concat(E,"-attribute-step-tooltip"),basic:!0}):c.createElement(Dc.Z,{label:S("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:Q,"data-componentid":"".concat(E,"-attribute-step-checkbox"),onChange:function(){return v(p+1)},readOnly:Q})):null,Z?c.createElement(Dc.Z,{label:S("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.enableBackupCodes.label"),checked:_,onChange:function(){_?r(p,U):y(p,ne.b.BACKUP_CODE_AUTHENTICATOR_ID)}}):null)))};function ls(e){return function(e){if(Array.isArray(e))return us(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ss(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||ss(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ss(e,t){if(e){if("string"==typeof e)return us(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?us(e,t):void 0}}function us(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}rs.defaultProps={"data-componentid":"authentication-step"};var ds=function(e){var t=e.authenticators,n=e.authenticationSequence,i=e.onIDPCreateWizardTrigger,o=e.onUpdate,a=e.readOnly,r=e.triggerUpdate,l=e.updateSteps,p=e.onAuthenticationSequenceChange,f=e.isApplicationShared,b=e["data-componentid"],v=(0,g.$)().t,y=(0,s.I0)(),E=cs((0,c.useState)([]),2),S=E[0],w=E[1],C=cs((0,c.useState)([]),2),O=C[0],I=C[1],A=cs((0,c.useState)([]),2),L=A[0],T=A[1],N=cs((0,c.useState)([]),2),R=N[0],Z=N[1],x=cs((0,c.useState)([]),2),k=x[0],U=x[1],F=cs((0,c.useState)([]),2),W=F[0],M=F[1],Q=cs((0,c.useState)(1),2),_=Q[0],j=Q[1],B=cs((0,c.useState)(1),2),G=B[0],V=B[1],H=cs((0,c.useState)(!1),2),X=H[0],z=H[1],Y=cs((0,c.useState)(!1),2),J=Y[0],q=Y[1],K=cs((0,c.useState)(1),2),ee=K[0],te=K[1],ie=cs((0,c.useState)(!1),2),oe=ie[0],ae=ie[1],re=cs((0,c.useState)(0),2),ce=re[0],se=re[1],ue=cs((0,c.useState)(0),2),de=ue[0],pe=ue[1],me=cs((0,c.useState)(0),2),fe=me[0],he=me[1],ge=(0,c.useRef)(null),ve=P.lD.getInstance(),ye=(0,s.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),Ee=(0,s.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features}));(0,c.useEffect)((function(){if(t&&Array.isArray(t)&&t[0]&&t[1]){var e=t[0],n=t[1],i=[],o=[],a=[],r=[],l=[];e.forEach((function(e){e.id===ne.b.FIDO_AUTHENTICATOR_ID&&(e.displayName=$.identityProviderConfig.getOverriddenAuthenticatorDisplayName(e.id,e.displayName)),e.name===ne.b.BACKUP_CODE_AUTHENTICATOR?l.push(e):le.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push(e):a.push(e)})),n.forEach((function(e){le.jo.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push(e):le.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?r.push(e):o.push(e)})),Z(r),U(l),T(a),w(o),I(i)}}),[t]),(0,c.useEffect)((function(){n&&(M(null==n?void 0:n.steps),j(null==n?void 0:n.subjectStepId),V(null==n?void 0:n.attributeStepId))}),[n]),(0,c.useEffect)((function(){r&&(Re()&&o({attributeStepId:G,requestPathAuthenticators:[],steps:W,subjectStepId:_,type:oi.a1.USER_DEFINED}))}),[r]),(0,c.useEffect)((function(){if(null!=ge&&ge.current)try{ge.current.scrollLeft=ge.current.scrollWidth}catch(e){}}),[W]),(0,c.useEffect)((function(){ls(W).some((function(e){return!(0,h.Z)(e.options)}))?p(!1,W):p(!0,W)}),[W]);var Se,we=function(e,t){var n,i=[].concat(ls(L),ls(S),ls(O),ls(R),ls(k)).find((function(e){return e.id===t}));if(i){var o=ls(W);e===o.length&&(o.push({id:o.length+1,options:[]}),l(!0));var a=function(e,t){var n,i=t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),o=le.jo.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return i&&o&&(i=t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!i||(y((0,d.V_)({description:v("applications:notifications.duplicateAuthenticationStep.genericError.description"),level:u.QU.WARNING,message:v("applications:notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(i,o[e].options),r=le.jo.FIRST_FACTOR_AUTHENTICATORS.includes(t),c=le.jo.SECOND_FACTOR_AUTHENTICATORS.includes(t),s=be.isSecondFactorAdditionValid(null==i||null===(n=i.defaultAuthenticator)||void 0===n?void 0:n.authenticatorId,e,o);if(le.jo.HANDLER_AUTHENTICATORS.includes(t)&&z(!0),!c||(r||0!==e&&s)&&(!r||0===e||s)){if((!$.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation||$.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,y))&&a){var p=i.authenticators.find((function(e){return e.authenticatorId===i.defaultAuthenticator.authenticatorId}));o[e].options.push({authenticator:p.name,idp:i.idp}),Ze(),M(o)}}else y((0,d.V_)({description:v("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:u.QU.WARNING,message:v("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},Ce=function(e,t){var n=ls(W),i=n[e],o=i.options[t].authenticator;if(0===e&&o===hc.f.ORGANIZATION_SSO_AUTHENTICATOR_NAME&&f)y((0,d.V_)({description:v("applications:notifications.authenticationStepDeleteErrorDueToAppShared.genericError.description"),level:u.QU.WARNING,message:v("applications:notifications.authenticationStepDeleteErrorDueToAppShared.genericError.message")}));else{if((o===ne.b.TOTP_AUTHENTICATOR||o===ne.b.EMAIL_OTP_AUTHENTICATOR||o===ne.b.SMS_OTP_AUTHENTICATOR)&&be.hasSpecificAuthenticatorInCurrentStep(ne.b.BACKUP_CODE_AUTHENTICATOR,e,n)&&be.countTwoFactorAuthenticatorsInCurrentStep(e,n)<2)return i.options.map((function(e,t){e.authenticator===ne.b.BACKUP_CODE_AUTHENTICATOR&&pe(t)})),he(t),se(e),void q(!0);var a=cs(be.getLeftAndRightSideSteps(e,n),2),r=a[0],l=a[1];if(be.hasSpecificFactorsInSteps(ls(le.jo.SECOND_FACTOR_AUTHENTICATORS),l)){var c=n[e].options[t],s=be.countSpecificFactorInSteps(ls(le.jo.SECOND_FACTOR_AUTHENTICATORS),l)===be.countSpecificFactorInSteps([ne.b.TOTP_AUTHENTICATOR,ne.b.EMAIL_OTP_AUTHENTICATOR],l),p=[].concat(ls(le.jo.FIRST_FACTOR_AUTHENTICATORS),[ne.b.IDENTIFIER_FIRST_AUTHENTICATOR]).includes(c.authenticator),m=[].concat(ls(le.jo.TOTP_HANDLERS),ls(le.jo.EMAIL_OTP_HANDLERS)).includes(c.authenticator),h=be.getImmediateStepHavingSpecificFactors(le.jo.SECOND_FACTOR_AUTHENTICATORS,n);if(p||m){var g=0,b=0;if(n[e].options.filter((function(e){le.jo.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&g++,[].concat(ls(le.jo.TOTP_HANDLERS),ls(le.jo.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&b++})),s&&b<=1||!s&&g<=1&&p)if(!(s?be.hasSpecificFactorsInSteps([].concat(ls(le.jo.TOTP_HANDLERS),ls(le.jo.EMAIL_OTP_HANDLERS)),r):be.hasSpecificFactorsInSteps(le.jo.FIRST_FACTOR_AUTHENTICATORS,r))){var E=cs(be.getLeftAndRightSideSteps(h,n),1)[0];if((s?be.countSpecificFactorInSteps([].concat(ls(le.jo.TOTP_HANDLERS),ls(le.jo.EMAIL_OTP_HANDLERS)),E):be.countSpecificFactorInSteps(le.jo.FIRST_FACTOR_AUTHENTICATORS,E))<=1)return void Oe()}}}n[e].options.splice(t,1),M(n)}},Oe=function(){y((0,d.V_)({description:v("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:u.QU.WARNING,message:v("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},Ie=function(e,t,n){var i=ls(W);i[e].options[t].authenticator=n.name,M(i)},Ae=function(e){var t=ls(W);if(t.length<=1)y((0,d.V_)({description:v("applications:notifications.authenticationStepMin.genericError.description"),level:u.QU.WARNING,message:v("applications:notifications.authenticationStepMin.genericError.message")}));else{var n=cs(be.getLeftAndRightSideSteps(e,t),3),i=n[0],o=n[1],a=n[2],r=be.hasSpecificFactorsInSteps(le.jo.SECOND_FACTOR_AUTHENTICATORS,o),c=be.countSpecificFactorInSteps([ne.b.TOTP_AUTHENTICATOR],o),s=be.countSpecificFactorInSteps(le.jo.SECOND_FACTOR_AUTHENTICATORS,o)+be.countSpecificFactorInSteps(le.jo.FIRST_FACTOR_AUTHENTICATORS,o);if(r)if(!(s===c?be.hasSpecificFactorsInSteps(le.jo.TOTP_HANDLERS,i):be.hasSpecificFactorsInSteps(le.jo.FIRST_FACTOR_AUTHENTICATORS,i)||be.checkImmediateStepHavingSpecificFactors(le.jo.FIRST_FACTOR_AUTHENTICATORS,a)))return void y((0,d.V_)({description:v("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:u.QU.WARNING,message:v("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),M(t),l(!1)}},Le=function(e){return e.some((function(e){return e.authenticator===ne.b.IDENTIFIER_FIRST_AUTHENTICATOR}))},Te=function(e){j(e)},Ne=function(e){V(e)},Re=function(){var e=ls(W);return e.find((function(e){return(0,h.Z)(e.options)}))?(y((0,d.V_)({description:v("applications:notifications.emptyAuthenticationStep.genericError.description"),level:u.QU.WARNING,message:v("applications:notifications.emptyAuthenticationStep.genericError.message")})),!1):1===e.length&&1===e[0].options.length&&e[0].options[0].authenticator===ne.b.IDENTIFIER_FIRST_AUTHENTICATOR?(y((0,d.V_)({description:v("applications:notifications.updateOnlyIdentifierFirstError.description"),level:u.QU.WARNING,message:v("applications:notifications.updateOnlyIdentifierFirstError.message")})),!1):!(1===e.length&&e[0].options.length>1&&Le(e[0].options))||(y((0,d.V_)({description:v("applications:notifications.updateIdentifierFirstInFirstStepError.description"),level:u.QU.WARNING,message:v("applications:notifications.updateIdentifierFirstInFirstStepError.message")})),!1)},Ze=function(){W.forEach((function(e){Le(e.options)&&(_===e.id&&e.id<W.length&&j(_+1),G===e.id&&e.id<W.length&&V(G+1))}))};return c.createElement("div",{className:"authentication-flow-wrapper","data-componentid":b},c.createElement("div",{className:"authentication-flow-section timeline"},c.createElement("div",{className:"timeline-button start"},c.createElement(m.dn,{size:"x50",transparent:!0,icon:(0,De.m9)().startButton})),c.createElement("div",{className:"authentication-steps-section",ref:ge},W&&W instanceof Array&&W.length>0?W.map((function(e,t){return c.createElement(c.Fragment,{key:t},c.createElement(rs,{authenticators:[].concat(ls(L),ls(S),ls(O),ls(R),ls(k)),onStepDelete:Ae,onStepOptionAuthenticatorChange:Ie,onAddAuthenticationClick:function(){ae(!0),te(t)},onStepOptionDelete:Ce,showStepMeta:W.length>1,showStepDeleteAction:W.length>1,step:e,stepIndex:t,readOnly:a,subjectStepId:_,attributeStepId:G,onAttributeCheckboxChange:Ne,onSubjectCheckboxChange:Te,"data-componentid":"".concat(b,"-authentication-step-").concat(t),updateAuthenticationStep:we}))})):null),!a&&c.createElement("div",{className:"timeline-button add"},c.createElement(m.GI,{trigger:c.createElement("div",null,c.createElement(m.dn,{link:!0,transparent:!0,size:"mini",fill:"primary",icon:(0,De.m9)().addButton,onClick:function(){var e=ls(W);Ze(),e.push({id:e.length+1,options:[]}),ve.publish("application-sign-in-method-click-add-new-step"),M(e),l(!0)},"data-tourid":"add-new-step-button"})),position:"left center",content:"Add a new authentication step"})),c.createElement("div",{className:"timeline-button done"},c.createElement(m.dn,{size:"x50",transparent:!0,icon:(0,De.m9)().doneButton}))),oe&&c.createElement(qe,{authenticationSteps:W,allowSocialLoginAddition:(0,D.Xr)(null==Ee?void 0:Ee.identityProviders,null==Ee||null===(Se=Ee.identityProviders)||void 0===Se||null===(Se=Se.scopes)||void 0===Se?void 0:Se.create,ye),currentStep:ee,open:oe,onModalSubmit:function(e){e.map((function(e){we(ee,e.id)})),ae(!1)},onClose:function(){return ae(!1)},header:v("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:{enterprise:S,local:L,recovery:k,secondFactor:R,social:O},showStepSelector:!1,stepCount:W.length,onIDPCreateWizardTrigger:i}),X&&c.createElement(m.cV,{onClose:function(){return z(!1)},type:"warning",open:X,primaryAction:v("common:confirm"),secondaryAction:v("common:cancel"),onPrimaryActionClick:function(){return z(!1)},"data-componentid":"".concat(b,"-handler-disclaimer-modal"),closeOnDimmerClick:!1},c.createElement(m.cV.Header,{"data-componentid":"".concat(b,"-delete-confirmation-modal-header")},v("applications:confirmations.handlerAuthenticatorAddition.header")),c.createElement(m.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(b,"-delete-confirmation-modal-message")},v("applications:confirmations.handlerAuthenticatorAddition.message")),c.createElement(m.cV.Content,{"data-componentid":"".concat(b,"-delete-confirmation-modal-content")},v("applications:confirmations.handlerAuthenticatorAddition.content"))),J&&c.createElement(m.cV,{onClose:function(){return q(!1)},type:"negative",open:J,primaryAction:v("common:continue"),secondaryAction:v("common:cancel"),onPrimaryActionClick:function(){Ce(ce,de),Ce(ce,fe),q(!1)},onSecondaryActionClick:function(){return q(!1)},"data-componentid":"".concat(b,"-backupcode-delete-confirm-modal"),closeOnDimmerClick:!1},c.createElement(m.cV.Header,{"data-componentid":"".concat(b,"-backupcode-delete-confirmation-modal-header")},v("applications:confirmations.backupCodeAuthenticatorDelete.header")),c.createElement(m.cV.Content,{"data-componentid":"".concat(b,"-backupcode-delete-confirmation-modal-content")},v("applications:confirmations.backupCodeAuthenticatorDelete.content"))))};ds.defaultProps={"data-componentid":"step-based-flow"};const ps=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}');var ms=n(29629),fs=n.n(ms),hs={};hs.styleTagTransform=St(),hs.setAttributes=bt(),hs.insert=ht().bind(null,"head"),hs.domAPI=mt(),hs.insertStyleElement=yt();dt()(fs(),hs);fs()&&fs().locals&&fs().locals;function gs(e){return gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(e)}function bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(n),!0).forEach((function(t){ys(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ys(e,t,n){var i;return i=function(e,t){if("object"!=gs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=gs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==gs(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ss(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ws=function(e){var t,n=e.appId,i=e.applicationName,o=e.authenticators,a=e.authenticationSequence,r=e.clientId,l=e.isLoading,p=e.setIsLoading,f=e.onIDPCreateWizardTrigger,h=e.onReset,y=e.onUpdate,E=e.readOnly,S=e.isApplicationShared,w=e["data-componentid"],C=(0,g.$)().t,O=(0,m.fQ)().getLink,I=(0,s.I0)(),A=xe().isSystemApplication,L=(0,s.v9)((function(e){return e.config})),T=(0,s.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),N=Es((0,c.useState)(void 0),2),R=N[0],Z=N[1],x=Es((0,c.useState)(!1),2),k=x[0],U=x[1],F=Es((0,c.useState)(void 0),2),W=F[0],M=F[1],D=Es((0,c.useState)(void 0),2),Q=D[0],j=D[1],B=Es((0,c.useState)(void 0),2),G=B[0],V=B[1],X=Es((0,c.useState)(1),2),z=X[0],Y=X[1],J=Es((0,c.useState)(!1),2),K=J[0],$=J[1],te=Es((0,c.useState)(!1),2),ie=te[0],oe=te[1],ae=Es((0,c.useState)(),2),re=ae[0],le=ae[1],ce=Es((0,c.useState)(!1),2),se=ce[0],ue=ce[1],de=Es((0,c.useState)(void 0),2),pe=de[0],me=de[1],fe=Es((0,c.useState)(null),2),he=fe[0],ge=fe[1],ve=P.lD.getInstance();(0,c.useEffect)((function(){var e=be.isConnectionsJITUPConflictWithMFA({federatedAuthenticators:o&&o[1],steps:re,subjectStepId:null==a?void 0:a.subjectStepId});me(e);var t=be.isFederatedConflictWithSMSOTP({federatedAuthenticators:o&&o[1],steps:re,subjectStepId:null==a?void 0:a.subjectStepId});ge(t)}),[z,o,re]),(0,c.useEffect)((function(){k&&U(!1)}),[k]),(0,c.useEffect)((function(){E||Se()}),[]),(0,c.useEffect)((function(){E||(0,Ni.Rz)(ee.fB.FIDO_AUTHENTICATOR_ID).then((function(e){var t=null==e?void 0:e.properties,n=null==t?void 0:t.find((function(e){return"FIDO.EnablePasskeyProgressiveEnrollment"===e.name})),i="true"===(null==n?void 0:n.value);ue(i)}))}),[]),(0,c.useEffect)((function(){a&&null!=a&&a.steps&&Array.isArray(a.steps)&&(Z(a),Y(a.steps.length))}),[a]);var ye,Ee=function(e,t){var o;o=t?{authenticationSequence:vs(vs({},ps),{},{requestPathAuthenticators:G,script:""})}:{authenticationSequence:vs(vs({},e),{},{requestPathAuthenticators:G,script:W})},A&&(o.name=i),p(!0),(0,fc.bz)(n,o).then((function(){I((0,d.V_)({description:C("applications:notifications.updateAuthenticationFlow.success.description"),level:u.QU.SUCCESS,message:C("applications:notifications.updateAuthenticationFlow.success.message")})),y(n)})).catch((function(e){var t;e.response&&"APP-60001"===(null===(t=e.response.data)||void 0===t?void 0:t.code)?I((0,d.V_)({description:c.createElement("p",null,c.createElement(b.c,{i18nKey:"applications:notifications.conditionalScriptLoopingError.description"},"Looping constructs such as ",c.createElement(m.EK,null,"for"),", ",c.createElement(m.EK,null,"while")," and,",c.createElement(m.EK,null,"forEach")," are not allowed in the conditional authentication script.")),level:u.QU.ERROR,message:C("applications:notifications.conditionalScriptLoopingError.message")})):e.response&&e.response.data&&e.response.data.description?I((0,d.V_)({description:e.response.data.description,level:u.QU.ERROR,message:C("applications:notifications.updateAuthenticationFlow.error.message")})):I((0,d.V_)({description:C("applications:notifications.updateAuthenticationFlow.genericError.description"),level:u.QU.ERROR,message:C("applications:notifications.updateAuthenticationFlow.genericError.message")}))})).finally((function(){p(!1)}))},Se=function(){(0,fc.fF)().then((function(e){j(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?I((0,d.V_)({description:C("applications:edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.description",{description:e.response.data.description}),level:u.QU.ERROR,message:C("applications:edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.message")})):I((0,d.V_)({description:C("applications:edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.description"),level:u.QU.ERROR,message:C("applications:edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.message")}))}))},we=function(){tr.isEmptyScript(W)&&(isAdaptiveAuthenticationAvailable&&T!==Me.$B.SUBORGANIZATION?(M(tr.generateScript(z+1).join("\n")),$(!0)):M("")),ve.compute((function(){var e={"script-based":!tr.isDefaultScript(W,z),"step-based":[]};re.forEach((function(t){var n={};Array.isArray(null==t?void 0:t.options)&&t.options.length>0&&(t.options.forEach((function(e,t){n[t]=(0,_.Z)(null==e?void 0:e.authenticator)})),e["step-based"].push(n))})),ve.publish("application-sign-in-method-click-update-button",{"client-id":r,type:e})})),U(!0)},Ce=c.createElement(c.Fragment,null,c.createElement(m.X6,{as:"h4"},C("applications:edit.sections.signOnMethod.sections.requestPathAuthenticators.title")),c.createElement(m.kW,null,C("applications:edit.sections.signOnMethod.sections.requestPathAuthenticators.subTitle")),c.createElement(Rc.Es,null,c.createElement(q.Z,null,c.createElement(q.Z.Row,{columns:1},c.createElement(q.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(Rc.gN,{name:"requestPathAuthenticators",label:"",type:"checkbox",required:!1,value:null==a?void 0:a.requestPathAuthenticators,requiredErrorMessage:"",children:null==Q?void 0:Q.map((function(e){return{label:e.displayName,value:e.name}})),listen:function(e){V(e.get("requestPathAuthenticators"))},readOnly:E,"data-componentid":"".concat(w,"-request-path-authenticators")}))))));return c.createElement("div",null,c.createElement("div",null,c.createElement(m.X6,{as:"h4",className:"display-inline-block"},C("applications:edit.sections.signOnMethod.sections.customization.heading")),!E&&c.createElement("div",{className:"display-inline-block floated right"},c.createElement(m.Qj,{className:"pr-0",onClick:function(){ve.publish("application-revert-sign-in-method-default",{"client-id":r}),Ee(null,!0),h()}},c.createElement(H.Z,{name:"refresh"}),C("applications:edit.sections.signOnMethod.sections.customization.revertToDefaultButton.label")),c.createElement(m.kW,{inline:!0,popup:!0},C("applications:edit.sections.signOnMethod.sections.customization.revertToDefaultButton.hint")))),c.createElement(v.Z,{hidden:!0}),function(){var e;if(null==a?void 0:a.steps.some((function(e){return!(null==e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===ne.b.FIDO_AUTHENTICATOR})))})))return se?!(null==a||null===(e=a.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===ne.b.FIDO_AUTHENTICATOR})))?c.createElement(m.v0,{type:"info",content:c.createElement(c.Fragment,null,C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled"),c.createElement("p",null,c.createElement(b.c,{i18nKey:C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyAsFirstStepWhenprogressiveEnrollmentEnabled")},c.createElement("strong",null,"Note : ")," For on-the-fly user enrollment with passkeys, use the ",c.createElement("strong",null,"Passkeys Progressive Enrollment")," template in",c.createElement("strong",null," Conditional Authentication")," section."),c.createElement(m.eb,{link:O("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},C("common:learnMore"))))}):c.createElement(m.v0,{type:"info",content:c.createElement(c.Fragment,null,C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled"),c.createElement("p",null,c.createElement(b.c,{i18nKey:C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyIsNotFirstStepWhenprogressiveEnrollmentEnabled")},"Users can enroll passkeys on-the-fly. If users wish to enroll multiple passkeys they should do so via ",c.createElement("strong",null,"My Account"),"."),c.createElement(m.eb,{link:O("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},C("common:learnMore"))))}):c.createElement(m.v0,{type:"info",content:c.createElement(c.Fragment,null,c.createElement(b.c,{i18nKey:C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentDisabled")},c.createElement(m.rU,{external:!1,onClick:function(){P.m8.push(P.$x.getPaths().get("IDP_EDIT").replace(":id",ee.fB.FIDO_AUTHENTICATOR_ID))}},"Passkey progressive enrollment"),"\xa0 is disabled. Users must enroll their passkeys through ",c.createElement("strong",null,"My Account")," to use passwordless sign-in."),c.createElement(m.eb,{link:O("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},C("common:learnMore")))})}(),null!=pe&&pe.conflicting||null==he||!he.conflicting||null==he||!he.idpList.length?null:(ye=he.idpList,c.createElement(m.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message",type:"info",content:c.createElement(c.Fragment,null,ye.length>1?c.createElement(c.Fragment,null,c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.multipleIdps"},"Asgardeo requires the user's profile containing the",c.createElement("i",null," mobile number")," to configure",c.createElement("strong",null," SMS OTP")," with the following connections."),c.createElement("ul",{className:"mb-3"},null==ye?void 0:ye.map((function(e){var t=e.name;return c.createElement("li",{key:t},c.createElement("strong",null,t))})))):c.createElement(c.Fragment,null,c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.singleIdp",values:{idpName:ye[0].name}},"Asgardeo requires the user's profile containing the",c.createElement("i",null," mobile number")," to configure ",c.createElement("strong",null," SMS OTP "),"with ",c.createElement("strong",null,ye[0].name)," connection.")))})),c.createElement(ds,{isApplicationShared:S,authenticators:o,authenticationSequence:R,isLoading:l,onUpdate:Ee,triggerUpdate:k,readOnly:E,updateSteps:function(e){Y(e?z+1:z-1)},onIDPCreateWizardTrigger:f,onAuthenticationSequenceChange:function(e,t){oe(e),le(t)},"data-componentid":"".concat(w,"-step-based-flow")}),c.createElement(v.Z,{className:"x1",hidden:!0}),null!=pe&&pe.conflicting&&null!=pe&&pe.idpList.length?function(){var e=pe.idpList,t=e.length>1;return c.createElement(m.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message",type:"warning",header:"Warning",content:c.createElement(c.Fragment,null,t?c.createElement(c.Fragment,null,"Currently, Just-in-Time (JIT) user provisioning is ",c.createElement("strong",null,"disabled")," for the following connections:",c.createElement("ul",{className:"mb-3"},null==e?void 0:e.map((function(e,t){var n=e.name;return c.createElement("li",{key:t},c.createElement("strong",null,n))})))):c.createElement(c.Fragment,null,"Currently, Just-in-Time(JIT) user provisioning is disabled for the ",c.createElement("strong",null,e[0].name)," connection."),t?c.createElement(c.Fragment,null,"To use MFA with these connections, ",c.createElement("em",null,"enable JIT provisioning")," or use an ",c.createElement("em",null,"authentication script")," to skip the MFA options for these connections during user login."):c.createElement(c.Fragment,null,"To use MFA with this connection, ",c.createElement("em",null,"enable JIT provisioning")," or use an ",c.createElement("em",null,"authentication script")," to skip the MFA options for this connection during user login."),c.createElement(m.eb,{link:O("develop.connections.edit.advancedSettings.jit")},"Learn More"))})}():null,c.createElement(v.Z,{className:"x2"}),isAdaptiveAuthenticationAvailable&&T!==Me.$B.SUBORGANIZATION&&c.createElement(ts,{authenticationSequence:R,isLoading:l,onTemplateSelect:function(e){if(e){$(!1);var t=vs({},R);if(e.code&&(t=vs(vs({},t),{},{requestPathAuthenticators:G,script:JSON.stringify(e.code)})),e.defaultAuthenticators){for(var n=[],i=0,o=Object.entries(e.defaultAuthenticators);i<o.length;i++){var a=Es(o[i],2),r=a[0],l=a[1];n.push({id:parseInt(r,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=vs(vs({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}Z(t)}},onScriptChange:function(e){M(e)},readOnly:E,authenticationSteps:z,isDefaultScript:K,onAdaptiveScriptReset:function(){return $(!0)},"data-componentid":"".concat(w,"-script-based-flow")}),null!=L&&null!==(t=L.ui)&&void 0!==t&&null!==(t=t.legacyMode)&&void 0!==t&&t.applicationRequestPathAuthentication&&Q?Ce:null,E?null:c.createElement(c.Fragment,null,c.createElement(v.Z,{hidden:!0}),c.createElement(m.KM,{onClick:we,"data-componentid":"".concat(w,"-update-button"),disabled:ie||l,loading:l},C("common:update"))))};ws.defaultProps={"data-componentid":"sign-in-method-customization"};var Cs=function(e){var t,n=e.isLoading,i=e.onLoginFlowSelect,o=e.hiddenOptions,a=e.clientId,r=e["data-componentid"],l=(0,g.$)().t,s=(0,m.kH)().isMobileViewport,u=xe().hiddenAuthenticators,d=(0,Q.Z)().deploymentConfig,p=(0,bn.z)().organizationType,f=P.lD.getInstance();return c.createElement(Gc.Z,{"data-componentid":r,loading:n,className:"sign-in-method-landing",basic:!0},c.createElement(q.Z,null,c.createElement(q.Z.Row,null,c.createElement(q.Z.Column,{width:16},c.createElement(m.X6,{as:"h2",textAlign:s?"center":"left"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.heading")))),c.createElement(q.Z.Row,{className:"pt-5"},c.createElement(q.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},c.createElement("div",{className:"pr-3"},!o.includes(oi.Tb.DEFAULT)&&c.createElement(c.Fragment,null,c.createElement(m.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.default")),c.createElement(m.rJ,{fluid:!0,"data-componentid":"basic-configuration-flow-card",image:(0,De.C4)().basic,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.description"),onClick:function(){f.publish("application-begin-sign-in-default-configuration",{"client-id":a}),i(oi.Tb.DEFAULT)},showSetupGuideButton:!1,showCardAction:!1})),c.createElement(m.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.multiFactorLogin")),!o.includes(oi.Tb.SECOND_FACTOR_TOTP)&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"totp-mfa-flow-card",image:(0,De.C4)().totp,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.description"),onClick:function(){f.publish("application-begin-sign-in-totp-mfa",{"client-id":a}),i(oi.Tb.SECOND_FACTOR_TOTP)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(oi.Tb.SECOND_FACTOR_EMAIL_OTP)&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"email-otp-mfa-flow-card",image:(0,De.C4)().emailOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.description"),onClick:function(){f.publish("application-begin-sign-in-email-otp-mfa",{"client-id":a}),i(oi.Tb.SECOND_FACTOR_EMAIL_OTP)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(oi.Tb.SECOND_FACTOR_SMS_OTP)&&!(p===Me.$B.SUBORGANIZATION&&null!==Oe.identityProviderConfig&&void 0!==Oe.identityProviderConfig&&Oe.identityProviderConfig.disableSMSOTPInSubOrgs)&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"sms-otp-mfa-flow-card",image:(0,De.C4)().smsOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.description"),onClick:function(){f.publish("application-begin-sign-in-sms-otp-mfa",{"client-id":a}),i(oi.Tb.SECOND_FACTOR_SMS_OTP)},showSetupGuideButton:!1,showCardAction:!1}))),c.createElement(q.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},c.createElement("div",{className:"pl-3"},c.createElement(m.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.passwordlessLogin")),!(null!=o&&o.includes(oi.Tb.FIDO_LOGIN))&&!(null!=u&&u.includes(ne.b.FIDO_AUTHENTICATOR))&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"usernameless-flow-card",image:(0,De.C4)().fido,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.description"),onClick:function(){f.publish("application-begin-sign-in-biometrics-password-less",{"client-id":a}),i(oi.Tb.FIDO_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(oi.Tb.MAGIC_LINK))&&!(null!=u&&u.includes(ne.b.MAGIC_LINK_AUTHENTICATOR))&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"magic-link-flow-card",image:(0,De.C4)().magicLink,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.description"),onClick:function(){f.publish("application-begin-sign-in-magiclink-password-less",{"client-id":a}),i(oi.Tb.MAGIC_LINK)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(oi.Tb.EMAIL_OTP))&&!(null!=u&&u.includes(ne.b.EMAIL_OTP_AUTHENTICATOR_ID))&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"email-otp-flow-card",image:(0,De.C4)().emailOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTPFirstFactor.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTPFirstFactor.description"),onClick:function(){f.publish("application-begin-sign-in-email-otp-password-less",{"client-id":a}),i(oi.Tb.EMAIL_OTP)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(oi.Tb.SMS_OTP))&&!(null!=u&&u.includes(ne.b.SMS_OTP_AUTHENTICATOR_ID))&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"sms-otp-flow-card",image:(0,De.C4)().smsOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTPFirstFactor.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTPFirstFactor.description"),onClick:function(){f.publish("application-begin-sign-in-sms-otp-password-less",{"client-id":a}),i(oi.Tb.SMS_OTP)},showSetupGuideButton:!1,showCardAction:!1}),(!o.includes(oi.Tb.GOOGLE_LOGIN)||!o.includes(oi.Tb.FACEBOOK_LOGIN)||!o.includes(oi.Tb.GITHUB_LOGIN)||!o.includes(oi.Tb.MICROSOFT_LOGIN)||!o.includes(oi.Tb.APPLE_LOGIN))&&c.createElement(c.Fragment,null,c.createElement(m.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.socialLogin")),!o.includes(oi.Tb.GOOGLE_LOGIN)&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"google-login-flow-card",imageSize:"mini",image:(0,De.C4)().google,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.description"),onClick:function(){f.publish("application-begin-sign-in-google-social-login",{type:a}),i(oi.Tb.GOOGLE_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(oi.Tb.GITHUB_LOGIN)&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"github-login-flow-card",imageSize:"mini",image:(0,De.C4)().github,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.description"),onClick:function(){return i(oi.Tb.GITHUB_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(oi.Tb.FACEBOOK_LOGIN)&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"facebook-login-flow-card",imageSize:"mini",image:(0,De.C4)().facebook,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.description"),onClick:function(){return i(oi.Tb.FACEBOOK_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(oi.Tb.MICROSOFT_LOGIN)&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"microsoft-login-flow-card",imageSize:"mini",image:(0,De.C4)().microsoft,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.description"),onClick:function(){f.publish("application-begin-sign-in-microsoft-social-login",{type:a}),i(oi.Tb.MICROSOFT_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(oi.Tb.APPLE_LOGIN)&&c.createElement(m.rJ,{fluid:!0,"data-componentid":"apple-login-flow-card",imageSize:"mini",image:(0,De.C4)().apple,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.description"),onClick:function(){return i(oi.Tb.APPLE_LOGIN)},showSetupGuideButton:!1,showCardAction:!1,disabledHint:l("console:develop.pages.authenticationProviderTemplate.disabledHint.apple"),disabled:(null===(t=new URL(null==d?void 0:d.serverOrigin))||void 0===t?void 0:t.hostname)===nr.v.LOCAL_SERVER_URL})))))))};Cs.defaultProps={"data-componentid":"sign-in-method-landing",hiddenOptions:[oi.Tb.FACEBOOK_LOGIN,oi.Tb.GITHUB_LOGIN]};const Os=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),Is=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),As=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),Ls=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),Ts=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}'),Ns=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),Rs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"OpenIDConnectAuthenticator","idp":"Microsoft"}]}]}'),Zs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}'),xs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),ks=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),Us=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),Fs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}');function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Ws(e){return function(e){if(Array.isArray(e))return Bs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||js(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){Qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qs(e,t,n){var i;return i=function(e,t){if("object"!=Ps(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ps(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ps(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||js(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function js(e,t){if(e){if("string"==typeof e)return Bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bs(e,t):void 0}}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Gs=null,Vs=function(e){var t,n=e.application,i=e.appId,o=e.authenticationSequence,a=e.clientId,r=e.isLoading,l=e.onUpdate,y=e.readOnly,E=e.isSystemApplication,S=e.hiddenAuthenticators,w=e["data-componentid"],C=(0,g.$)().t,O=(0,K.Z)().UIConfig,I=(0,s.I0)(),A=null==O?void 0:O.connectionResourcesUrl,L="true"===(null==n||null===(t=n.advancedConfigurations)||void 0===t||null===(t=t.additionalSpProperties)||void 0===t||null===(t=t.find((function(e){return"isAppShared"===(null==e?void 0:e.name)})))||void 0===t?void 0:t.value),T=_s((0,c.useState)(void 0),2),N=T[0],R=T[1],Z=_s((0,c.useState)(void 0),2),x=Z[0],k=Z[1],U=_s((0,c.useState)(void 0),2),F=U[0],W=U[1],M=_s((0,c.useState)(void 0),2),D=M[0],Q=M[1],_=_s((0,c.useState)(void 0),2),j=_[0],B=_[1],G=_s((0,c.useState)(void 0),2),V=G[0],H=G[1],X=_s((0,c.useState)(void 0),2),z=X[0],Y=X[1],J=_s((0,c.useState)(void 0),2),q=J[0],$=J[1],ee=_s((0,c.useState)(!1),2),ie=ee[0],oe=ee[1],ae=_s((0,c.useState)(!0),2),re=ae[0],ce=ae[1],se=_s((0,c.useState)(!1),2),ue=se[0],de=se[1],pe=_s((0,c.useState)(void 0),2),me=pe[0],fe=pe[1],he=_s((0,c.useState)(o),2),ge=he[0],be=he[1],ve=_s((0,c.useState)(void 0),2),ye=ve[0],Ee=ve[1],Se=_s((0,c.useState)(void 0),2),we=Se[0],Ce=Se[1],Oe=_s((0,c.useState)(!1),2),Ie=Oe[0],Ae=Oe[1],Le=_s((0,c.useState)(void 0),2),Te=Le[0],Ne=Le[1],Re=P.lD.getInstance();(0,c.useEffect)((function(){Ze().finally(),p.LocalStorageUtils.setValueInLocalStorage(le.jo.AUTHENTICATORS_LOCAL_STORAGE_KEY,JSON.stringify([]))}),[]),(0,c.useEffect)((function(){o&&be(o)}),[o]);var Ze=function(e){return ce(!0),Pe.z.getAllAuthenticators().then((function(t){var n=[],i=[],o=[],a=[],r=[];t[1].filter((function(e){e.defaultAuthenticator.authenticatorId===ne.b.GOOGLE_OIDC_AUTHENTICATOR_ID?n.push(e):e.defaultAuthenticator.authenticatorId===ne.b.GITHUB_AUTHENTICATOR_ID?i.push(e):e.defaultAuthenticator.authenticatorId===ne.b.FACEBOOK_AUTHENTICATOR_ID?o.push(e):e.defaultAuthenticator.authenticatorId===ne.b.MICROSOFT_AUTHENTICATOR_ID&&e.description===Tc.description?a.push(e):e.defaultAuthenticator.authenticatorId===ne.b.APPLE_AUTHENTICATOR_ID&&r.push(e)})),Q(n),B(i),H(o),Y(a),$(r),t[1].push(Nc.F.getOrganizationAuthenticator()),W(t),e&&e(t,n,i,o,a,r)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?I((0,d.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:u.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):I((0,d.V_)({description:C("secrets:errors.generic.description"),level:u.QU.ERROR,message:C("secrets:errors.generic.message")}))})).finally((function(){ce(!1)}))},xe=function(e,t,n,i,a,r){if(e)if(e===oi.Tb.DEFAULT)Re.publish("application-sign-in-method-click-add",{type:"default"}),be(Ds(Ds({},o),(0,f.Z)(ps)));else if(e===oi.Tb.SECOND_FACTOR_TOTP)Re.publish("application-sign-in-method-click-add",{type:"second-factor-totp"}),be(Ds(Ds({},o),(0,f.Z)(Us)));else if(e===oi.Tb.SECOND_FACTOR_EMAIL_OTP)Re.publish("application-sign-in-method-click-add",{type:"second-factor-email-otp"}),be(Ds(Ds({},o),(0,f.Z)(xs)));else if(e===oi.Tb.SECOND_FACTOR_SMS_OTP)Re.publish("application-sign-in-method-click-add",{type:"second-factor-sms-otp"}),be(Ds(Ds({},o),(0,f.Z)(ks)));else if(e===oi.Tb.FIDO_LOGIN)Re.publish("application-sign-in-method-click-add",{type:"first-factor-fido"}),be(Ds(Ds({},o),(0,f.Z)(Zs)));else if(e===oi.Tb.GOOGLE_LOGIN){if(Re.publish("application-sign-in-method-click-add",{type:"google-login"}),k(oi.Tb.GOOGLE_LOGIN),(0,h.Z)(t))return void oe(!0);if(t.length>1)return fe(t[0]),void de(!0);1===t.length&&be(Ds(Ds({},o),ke(t[0].idp,oi.Tb.GOOGLE_LOGIN)))}else if(e===oi.Tb.GITHUB_LOGIN){if(Re.publish("application-sign-in-method-click-add",{type:"github-login"}),k(oi.Tb.GITHUB_LOGIN),(0,h.Z)(n))return void oe(!0);if(n.length>1)return fe(n[0]),void de(!0);1===n.length&&be(Ds(Ds({},o),ke(n[0].idp,oi.Tb.GITHUB_LOGIN)))}else if(e===oi.Tb.FACEBOOK_LOGIN){if(Re.publish("application-sign-in-method-click-add",{type:"facebook-login"}),k(oi.Tb.FACEBOOK_LOGIN),(0,h.Z)(i))return void oe(!0);if(i.length>1)return fe(i[0]),void de(!0);1===i.length&&be(Ds(Ds({},o),ke(i[0].idp,oi.Tb.FACEBOOK_LOGIN)))}else if(e===oi.Tb.MICROSOFT_LOGIN){if(Re.publish("application-sign-in-method-click-add",{type:"microsoft-login"}),k(oi.Tb.MICROSOFT_LOGIN),(0,h.Z)(a))return void oe(!0);if(a.length>1)return fe(a[0]),void de(!0);1===a.length&&be(Ds(Ds({},o),ke(a[0].idp,oi.Tb.MICROSOFT_LOGIN)))}else if(e===oi.Tb.APPLE_LOGIN){if(Re.publish("application-sign-in-method-click-add",{type:"apple-login"}),k(oi.Tb.APPLE_LOGIN),(0,h.Z)(r))return void oe(!0);if(r.length>1)return fe(r[0]),void de(!0);1===r.length&&be(Ds(Ds({},o),ke(r[0].idp,oi.Tb.APPLE_LOGIN)))}else e===oi.Tb.MAGIC_LINK?(Re.publish("application-sign-in-method-click-add",{type:"magic-link-login"}),be(Ds(Ds({},o),(0,f.Z)(Ns)))):e===oi.Tb.EMAIL_OTP?(Re.publish("application-sign-in-method-click-add",{type:"email-otp-login"}),be(Ds(Ds({},o),(0,f.Z)(Is)))):e===oi.Tb.SMS_OTP&&(Re.publish("application-sign-in-method-click-add",{type:"sms-otp-login"}),be(Ds(Ds({},o),(0,f.Z)(Fs))));else be(o);R(e)},ke=function(e,t){var n={},i=null;return t===oi.Tb.GOOGLE_LOGIN?(n=(0,f.Z)(Ts),i=ne.b.GOOGLE_OIDC_AUTHENTICATOR_NAME):t===oi.Tb.GITHUB_LOGIN?(n=(0,f.Z)(Ls),i=ne.b.GITHUB_AUTHENTICATOR_NAME):t===oi.Tb.FACEBOOK_LOGIN?(n=(0,f.Z)(As),i=ne.b.FACEBOOK_AUTHENTICATOR_NAME):t===oi.Tb.MICROSOFT_LOGIN?(n=(0,f.Z)(Rs),i=ne.b.MICROSOFT_AUTHENTICATOR_NAME):t===oi.Tb.APPLE_LOGIN&&(n=(0,f.Z)(Os),i=ne.b.APPLE_AUTHENTICATOR_NAME),n.steps[0].options.forEach((function(t){t.authenticator===i&&(t.idp=e)})),n};return c.createElement(Lc,{application:(0,f.Z)(n),isSystemApplication:E,authenticators:F,hiddenAuthenticators:S,onAuthenticatorsRefetch:function(){return Ze()},onUpdate:l,isLoading:re,readOnly:y,authenticationSequence:ge},c.createElement(pc,{legacyBuilder:c.createElement(c.Fragment,null,r||re?c.createElement(m.pO,{inline:"centered",active:!0}):y||N||!function(){var e,t,n;if(1!==(null==o||null===(e=o.steps)||void 0===e?void 0:e.length)||1!==(null===(t=o.steps[0].options)||void 0===t?void 0:t.length))return!1;var i=o.steps[0].options[0].authenticator===ne.b.BASIC_AUTHENTICATOR,a=!o.script||tr.isDefaultScript(o.script,null===(n=o.steps)||void 0===n?void 0:n.length);return i&&a&&o.type===oi.a1.DEFAULT}()?c.createElement(ws,{appId:i,applicationName:null==n?void 0:n.name,isApplicationShared:L,authenticators:F,clientId:a,authenticationSequence:ge,onIDPCreateWizardTrigger:function(e,t,n){Ee(n),Ne("EXTERNAL"),Ce(e),oe(!1),Ae(!0),Gs=t},onUpdate:l,onReset:function(){R(void 0),k(void 0),oe(!1),de(!1),fe(void 0),be(o),Ce(void 0),Ne(void 0),Ae(!1)},"data-componentid":w,isLoading:re,setIsLoading:ce,readOnly:y}):c.createElement(Cs,{readOnly:y,clientId:a,onLoginFlowSelect:function(e){xe(e,D,j,V,z,q)},"data-componentid":"".concat(w,"-landing")})),onIDPCreateWizardTrigger:function(e,t,n){Ee(n),Ne("EXTERNAL"),Ce(e),oe(!1),Ae(!0),Gs=t},readOnly:y}),Ie&&function(){if(we)return c.createElement(Wa,{open:Ie,type:we,selectedTemplate:ye,onIDPCreate:function(){Ze((function(e,t,n,i,o,a){Ce(void 0),Ae(!1),Gs&&Gs(),"INTERNAL"===Te&&xe(x,t,n,i,o,a)})).finally()},onWizardClose:function(){Ce(void 0),Ne(void 0),Ae(!1)}})}(),ie&&function(){var e=null,t=null;if(x===oi.Tb.GOOGLE_LOGIN)e=ne.b.IDP_TEMPLATE_IDS.GOOGLE,t=ne.b.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(x===oi.Tb.GITHUB_LOGIN)e=ne.b.IDP_TEMPLATE_IDS.GITHUB,t=ne.b.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(x===oi.Tb.FACEBOOK_LOGIN)e=ne.b.IDP_TEMPLATE_IDS.FACEBOOK,t=ne.b.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(x===oi.Tb.MICROSOFT_LOGIN)e=ne.b.IDP_TEMPLATE_IDS.MICROSOFT,t=ne.b.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(x!==oi.Tb.APPLE_LOGIN)return null;e=ne.b.IDP_TEMPLATE_IDS.APPLE,t=ne.b.APPLE_AUTHENTICATOR_DISPLAY_NAME}return c.createElement(m.cV,{type:"info",onClose:function(){return oe(!1)},open:ie,primaryAction:C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(){return oe(!1)},onPrimaryActionClick:function(){Ce(e),oe(!1),Ae(!0),Ne("INTERNAL")},"data-componentid":"".concat(w,"-add-missing-authenticator-modal"),closeOnDimmerClick:!1},c.createElement(m.cV.Header,null,C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:t})),c.createElement(m.cV.Message,{attached:!0,info:!0},C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:t})),c.createElement(m.cV.Content,null,c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:t}},"You do not have an active Social Connection configured with ",c.createElement(m.EK,null," ",t,"Authenticator"),". Click on the ",c.createElement("strong",null,"Configure")," button to register a new",c.createElement(m.EK,null,t," Social Connection")," or navigate to the ",c.createElement("a",{onClick:function(){P.m8.push(P.$x.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually.")))}(),ue&&function(){var e=null,t=[];if(x===oi.Tb.GOOGLE_LOGIN)t=Ws(D),e=ne.b.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(x===oi.Tb.GITHUB_LOGIN)t=Ws(j),e=ne.b.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(x===oi.Tb.FACEBOOK_LOGIN)t=Ws(V),e=ne.b.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(x===oi.Tb.MICROSOFT_LOGIN)t=Ws(z),e=ne.b.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(x!==oi.Tb.APPLE_LOGIN)return null;t=Ws(q),e=ne.b.APPLE_AUTHENTICATOR_DISPLAY_NAME}return c.createElement(m.cV,{type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:function(){return de(!1)},open:ue,primaryAction:C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(){return de(!1)},onPrimaryActionClick:function(){be(Ds(Ds({},o),ke(me.idp,x))),R(x),de(!1)},"data-componentid":"".concat(w,"-duplicate-authenticator-selection-modal"),closeOnDimmerClick:!1},c.createElement(m.cV.Header,null,C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:e})),c.createElement(m.cV.Message,{attached:!0,warning:!0},C("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:e})),c.createElement(m.cV.Content,{scrolling:!0},c.createElement(m.xv,null,c.createElement(b.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:e}},"You have multiple Social Connections configured with ",c.createElement(m.EK,null,e,"Authenticator"),". Select the desired one from the selection below to proceed.")),c.createElement(v.Z,{hidden:!0}),c.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==ne.b.BACKUP_CODE_AUTHENTICATOR})).map((function(e,t){return c.createElement(m.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:(null==me?void 0:me.id)===e.id,image:te.Zs.resolveConnectionResourcePath(A,e.image),label:e.displayName,labelEllipsis:!0,"data-componentid":"".concat(w,"-authenticator-").concat(e.name),onClick:function(){return fe(e)}})})))))}())};Vs.defaultProps={"data-componentid":"sign-on-methods"};var Hs=function(e){var t=e.application,n=e.appId,i=e.authenticationSequence,o=e.clientId,a=e.isLoading,r=e.onUpdate,l=e.readOnly,u=e.isSystemApplication,d=e.hiddenAuthenticators,p=e["data-componentid"],m=(0,xl.Z)().aiGeneratedLoginFlow,f=(0,bn.z)().isSubOrganization,h=(0,s.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),g=i;return null!=h&&h.includes(Zl.X7)||f()||(g=null!=m?m:i),c.createElement(Vs,{application:t,appId:n,authenticationSequence:g,clientId:o,isLoading:a,onUpdate:r,readOnly:l,isSystemApplication:u,hiddenAuthenticators:d,"data-componentid":p})};Hs.defaultProps={"data-componentid":"sign-on-methods-wrapper"};var Xs=function(e){var t=e.application,n=e.appId,i=e.authenticationSequence,o=e.clientId,a=e.isLoading,r=e.onUpdate,l=e.readOnly,s=e.isSystemApplication,u=e.hiddenAuthenticators,d=e["data-componentid"];return c.createElement(Hs,{application:t,appId:n,authenticationSequence:i,clientId:o,isLoading:a,onUpdate:r,readOnly:l,isSystemApplication:s,hiddenAuthenticators:u,"data-componentid":d})};Xs.defaultProps={"data-componentid":"sign-on-methods"}},45330:(e,t,n)=>{"use strict";n.d(t,{e8:()=>me,g3:()=>Se,GH:()=>ve});var i=n(86727),o=n(44194),a=n(62508),r=n(6776),l=n(9261),c=n(93129),s=n(3356),u=n(66112),d=n(46440),p=n(17),m=n(67876),f=n(67127),h=n(23587),g=n(62170),b=n(24730),v=n(10479),y=n(47245),E=n(47018),S=n(89141),w=n(26154);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t,n){var i;return i=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=C(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==C(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var T=function(e){var t=e.metadata,n=e.initialValues,a=e.onSubmit,r=e.protocolName,c=e.triggerSubmit,s=e["data-testid"],d=(0,v.$)().t,p=function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},o.createElement(u.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:f(null==e?void 0:e.availableValues),"data-testid":"".concat(s,"-").concat(null==e?void 0:e.name,"-select")}))):null!=e&&e.isConfidential?o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},o.createElement(u.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:d("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:d("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:d("applications:forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(s,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===l.og.BOOLEAN?o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},o.createElement(u.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(s,"-").concat(null==e?void 0:e.name,"-checkbox")}))):o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},o.createElement(u.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:d("applications:forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:d("applications:forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===l.og.INTEGER?"number":"text","data-testid":"".concat(s,"-").concat(null==e?void 0:e.name,"-input")})))},m=function(){if(t){var e=null==t?void 0:t.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=null==n?void 0:n.properties.find((function(t){return t.key===e.name}));return t?p(e,t):p(e)}))}},f=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},h=function(e){var t,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(i.s();!(t=i.n()).done;){var o=O(t.value,2),a=o[0],l=o[1],c=void 0;c=l instanceof Array?{key:a,value:l.length>0}:{key:a,value:l},n.push(c)}}catch(s){i.e(s)}finally{i.f()}return{inboundProtocolConfiguration:I({},r,{configName:r,name:r,properties:[].concat(n)})}};return(0,o.useEffect)((function(){t&&m()}),[t]),t?o.createElement(u.Es,{onSubmit:function(e){a(h(e))},submitState:c},o.createElement(S.Z,null,m())):o.createElement(i.pO,null)};T.defaultProps={"data-testid":"custom-protocol-settings-wizard-form"};var N=n(21036),R=n(59673),Z=n(74343);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var U=function(e){var t,n,r=e.initialValues,l=e.templateValues,c=e.triggerSubmit,s=e.onSubmit,d=e["data-testid"],p=(0,v.$)().t,m=x((0,o.useState)(!1),2),f=m[0],h=m[1];return o.createElement(u.Es,{onSubmit:function(e){return s(function(e){return{accessUrl:e.get("accessUrl").toString(),advancedConfigurations:{discoverableByEndUsers:!!e.get("discoverableByEndUsers").includes("discoverableByEndUsers")},description:e.get("description").toString(),imageUrl:e.get("imageUrl").toString(),name:e.get("name").toString()}}(e))},submitState:c},o.createElement(S.Z,null,o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(u.gN,{name:"name",label:p("applications:forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:p("applications:forms.generalDetails.fields.name.validations.empty"),placeholder:p("applications:forms.generalDetails.fields.name.placeholder"),value:null==r?void 0:r.name,type:"text","data-testid":"".concat(d,"-application-name-input")}))),o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(u.gN,{name:"description",label:p("applications:forms.generalDetails.fields.description.label"),required:!1,requiredErrorMessage:"",placeholder:p("applications:forms.generalDetails.fields.description.placeholder"),type:"textarea",value:r?null==r?void 0:r.description:null==l?void 0:l.description,"data-testid":"".concat(d,"-application-description-textarea")}))),o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(u.gN,{name:"imageUrl",label:p("applications:forms.generalDetails.fields.imageUrl.label"),required:!1,requiredErrorMessage:"",placeholder:p("applications:forms.generalDetails.fields.imageUrl.placeholder"),validation:function(e,t){N.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("applications:forms.generalDetails.fields.imageUrl.validations.invalid")))},value:r?null==r?void 0:r.imageUrl:null==l?void 0:l.imageUrl,type:"text","data-testid":"".concat(d,"-application-image-url-input")}))),o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},o.createElement(u.gN,{name:"discoverableByEndUsers",required:!1,requiredErrorMessage:"",type:"checkbox",listen:function(e){h(e.get("discoverableByEndUsers").includes("discoverableByEndUsers"))},children:[{label:p("applications:forms.generalDetails.fields.discoverable.label"),value:"discoverableByEndUsers"}],value:r?null!=r&&null!==(t=r.advancedConfigurations)&&void 0!==t&&t.discoverableByEndUsers?["discoverableByEndUsers"]:[]:null!=l&&null!==(n=l.advancedConfigurations)&&void 0!==n&&n.discoverableByEndUsers?["discoverableByEndUsers"]:[],"data-testid":"".concat(d,"-application-discoverable-checkbox")}),o.createElement(i.kW,{compact:!0},o.createElement(R.c,{i18nKey:"applications:forms.generalDetails.fields.discoverable.hint"},"If an application is flagged as discoverable, it will be visible to end users in",o.createElement("a",{href:Z.$x.getMyAccountPath(),target:"_blank",rel:"noopener noreferrer",className:"link external"},"My Account"),o.createElement(w.Z,{className:"ml-1 link primary",name:"external"}))),o.createElement(a.Z,{hidden:!0}),o.createElement(u.gN,{name:"accessUrl",label:p("applications:forms.generalDetails.fields.accessUrl.label"),required:f,requiredErrorMessage:p("applications:forms.generalDetails.fields.accessUrl.validations.empty"),placeholder:p("applications:forms.generalDetails.fields.accessUrl.placeholder"),validation:function(e,t){N.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("applications:forms.generalDetails.fields.accessUrl.validations.invalid")))},type:"text",value:r?null==r?void 0:r.accessUrl:null==l?void 0:l.accessUrl,"data-testid":"".concat(d,"-application-access-url-input")}),o.createElement(i.kW,{compact:!0},p("applications:forms.generalDetails.fields.accessUrl.hint")))))))};U.defaultProps={"data-testid":"application-general-settings-wizard-form"};var F=n(39640),P=n(45246),W=n(95165),M=n(24393),D=n(65735),Q=n(39521),_=n(6814);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var G=function(e){var t=e.initialSelectedTemplate,n=e.selectedProtocols,a=e.onSubmit,r=e.setSelectedCustomInboundProtocol,l=e.triggerSubmit,c=e["data-componentid"],s=(0,v.$)().t,u=(0,y.v9)((function(e){return e.application.meta.customInboundProtocols})),d=j((0,o.useState)(void 0),2),p=d[0],m=d[1],f=j((0,o.useState)(void 0),2),h=f[0],g=f[1],b=j((0,o.useState)(!1),2),E=b[0],S=b[1],w=(0,o.useRef)(!0);(0,o.useEffect)((function(){S(!0),Q.y.getCustomInboundProtocols(_.oK,!0).finally((function(){S(!1)}))}),[]),(0,o.useEffect)((function(){C()}),[u]),(0,o.useEffect)((function(){w.current?w.current=!1:a(p)}),[l]),(0,o.useEffect)((function(){t&&m(t)}),[t]);var C=function(){var e=[];if(E)return null;(null==u?void 0:u.length)>0&&(u.map((function(t){var n={authenticationProtocol:t.name,id:t.name,image:t.name,name:t.displayName};e.push(n)})),g(e.filter((function(e){return!n.includes(e.authenticationProtocol)}))))};return o.createElement(o.Fragment,null,(null==h?void 0:h.length)>0?o.createElement(W.Z.Group,{className:"authenticators-grid"},h&&h.map((function(e,t){return o.createElement(W.Z,{key:t,onClick:function(){r(!0),m(e)},"data-testid":"".concat(c,"-").concat(e.name),selected:(null==p?void 0:p.id)===e.id,className:(null==p?void 0:p.id)===e.id?"selection-info-card selected":"selection-info-card",size:"small"},o.createElement(W.Z.Content,{className:"p-4"},o.createElement(W.Z.Header,{textAlign:"left",className:"card-header ellipsis pt-1 inline",inline:!0},(0,D.B0)()[e.id]?o.createElement(i.dn,{icon:(0,D.B0)()[e.id],size:"x22",floated:"left",shape:"square",className:"theme-icon hover-rounded card-image p-1",inline:!0}):o.createElement(i.JT,{image:o.createElement(i.Xo,{name:e.id,size:"mini","data-componentid":"".concat(c,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(c,"-item-image"),inline:!0}),e.name),o.createElement(W.Z.Description,{className:"card-description"},e.description)))}))):o.createElement(i.$J,{image:(0,M.jF)().newList,imageSize:"tiny",title:s("applications:edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:s("applications:edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}))};G.defaultProps={"data-componentid":"application-protocol-selection-wizard-form"};var V=n(14045),H=n(37077);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Y=function(e){var t,n,a,r,c,s=e.summary,u=e.triggerSubmit,d=e.onSubmit,p=e.image,m=e.customProtocol,f=e.samlMetaFileSelected,h=e["data-testid"],g=(0,v.$)().t,b=X((0,o.useState)(""),2),y=b[0],E=b[1];return(0,o.useEffect)((function(){if(u)if(f){var e={metadataFile:null==s?void 0:s.metadataFile};d(e)}else d(s)}),[u]),(0,o.useEffect)((function(){p===l.AI.WS_FEDERATION?E("wsFed"):p===l.AI.WS_TRUST?E("wsTrust"):E(p)}),[p]),o.createElement(S.Z,{className:"wizard-summary","data-testid":h},o.createElement(S.Z.Row,null,o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},o.createElement("div",{className:"general-details"},m?o.createElement(i.Yt,{name:null==s?void 0:s.name,size:"tiny"}):o.createElement(i.JT,{image:Q.y.findIcon(y,(0,D.B0)()),size:"tiny"})))),(null==s||null===(t=s.manualConfiguration)||void 0===t?void 0:t.issuer)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.issuer.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value"},null===(n=s.manualConfiguration)||void 0===n?void 0:n.issuer))),(null==s||null===(a=s.manualConfiguration)||void 0===a?void 0:a.serviceProviderQualifier)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.applicationQualifier.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value"},s.manualConfiguration.serviceProviderQualifier))),null!=s&&s.grantTypes&&s.grantTypes instanceof Array&&s.grantTypes.length>0?o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.grantType.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement(H.Z.Group,null,s.grantTypes.map((function(e,t){return o.createElement(H.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==s||null===(r=s.manualConfiguration)||void 0===r?void 0:r.assertionConsumerUrls)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.assertionURLs.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},null===(c=s.manualConfiguration)||void 0===c?void 0:c.assertionConsumerUrls.map((function(e,t){return o.createElement("div",{className:"value url",key:t},e)})))),(null==s?void 0:s.metadataURL)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.metadataURL.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value url"},null==s?void 0:s.metadataURL))),(null==s?void 0:s.metadataFile)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.metaFile.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value constrain"},null==s?void 0:s.metadataFile))),(null==s?void 0:s.callbackURLs)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.callbackURLs.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},V.EncodeDecodeUtils.decodeURLRegex(s.callbackURLs[0]).map((function(e,t){return o.createElement("div",{className:"value url",key:t},e)})))),(null==s?void 0:s.audience)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.audience.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value url"},null==s?void 0:s.audience))),(null==s?void 0:s.certificateAlias)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.certificateAlias.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value"},null==s?void 0:s.certificateAlias))),(null==s?void 0:s.realm)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.realm.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value"},null==s?void 0:s.realm))),(null==s?void 0:s.replyTo)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},g("applications:addWizard.steps.summary.sections.audience.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value url"},null==s?void 0:s.replyTo))),m&&(null==s?void 0:s.properties.map((function(e){return o.createElement(S.Z.Row,{className:"summary-field",columns:2,key:e.key},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},e.key)),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value url"},e.value)))}))))};Y.defaultProps={"data-testid":"protocol-wizard-summary",samlMetaFileSelected:!1};var J=n(89583);function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var $=function(e){var t,n=e.fields,a=e.hideFieldHints,r=e.initialValues,l=e.templateValues,c=e.triggerSubmit,s=e.onSubmit,d=e["data-testid"],p=(0,v.$)().t,m=q((0,o.useState)(""),2),h=m[0],g=m[1],b=q((0,o.useState)(""),2),E=b[0],w=b[1],C=q((0,o.useState)(""),2),O=C[0],I=C[1],A=q((0,o.useState)(""),2),L=A[0],T=A[1],N=q((0,o.useState)(!1),2),Z=N[0],x=N[1],k=q((0,o.useState)(null),2),U=k[0],F=k[1],P=(0,y.v9)((function(e){return e.config}));(0,o.useEffect)((function(){var e;if((0,f.Z)(null==r||null===(e=r.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,i=null==l||null===(t=l.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.manualConfiguration.assertionConsumerUrls,o=null==l||null===(n=l.inboundProtocolConfiguration)||void 0===n||null===(n=n.saml)||void 0===n?void 0:n.manualConfiguration.issuer;(0,f.Z)(i)?g(""):g(i.toString()),(0,f.Z)(o)?w(""):w(o.toString())}else{var a,c;g(null==r||null===(a=r.inboundProtocolConfiguration)||void 0===a||null===(a=a.saml)||void 0===a||null===(a=a.manualConfiguration.assertionConsumerUrls)||void 0===a?void 0:a.toString()),w(null==r||null===(c=r.inboundProtocolConfiguration)||void 0===c||null===(c=c.saml)||void 0===c||null===(c=c.manualConfiguration.issuer)||void 0===c?void 0:c.toString())}}),[r]),(0,o.useEffect)((function(){var e,t;if(l){var n=null==l||null===(e=l.inboundProtocolConfiguration)||void 0===e||null===(e=e.saml)||void 0===e||null===(e=e.templateConfiguration)||void 0===e?void 0:e.assertionConsumerUrls,i=null==l||null===(t=l.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t||null===(t=t.templateConfiguration)||void 0===t?void 0:t.issuer;n&&Array.isArray(n)&&n.length>0&&I(n[0]),i&&T(i)}}),[l]);var W;return l?o.createElement(u.Es,{onSubmit:function(e){W((function(t){(0,f.Z)(h)&&(0,f.Z)(t)?x(!0):s(function(e,t){var i={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}};return n&&!n.includes("assertionConsumerURLs")||(i.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=t?t.split(","):h.split(",")),n&&!n.includes("issuer")||(i.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),n&&!n.includes("applicationQualifier")||(i.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier")),i}(e,t))}))},submitState:c},o.createElement(S.Z,null,(!n||n.includes("issuer"))&&o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16},o.createElement(u.gN,{name:"issuer",label:p("applications:forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:p("applications:forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:p("applications:forms.inboundSAML.fields.issuer.placeholder"),value:E,"data-testid":"".concat(d,"-issuer-input")}),!a&&o.createElement(i.kW,null,p("applications:forms.inboundSAML.fields.issuer.hint")))),(!n||n.includes("applicationQualifier"))&&o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16},o.createElement(u.gN,{name:"applicationQualifier",label:p("applications:forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:p("applications:forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:p("applications:forms.inboundSAML.fields.qualifier.placeholder"),value:null==r||null===(t=r.inboundProtocolConfiguration.saml)||void 0===t||null===(t=t.manualConfiguration)||void 0===t?void 0:t.serviceProviderQualifier,"data-testid":"".concat(d,"-application-qualifier-input")}),!a&&o.createElement(i.kW,null,p("applications:forms.inboundSAML.fields.qualifier.hint")))),(!n||n.includes("assertionConsumerURLs"))&&o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},o.createElement(i.wE,{urlState:h,setURLState:g,labelName:p("applications:forms.inboundSAML.fields.assertionURLs.label"),placeholder:p("applications:forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:p("applications:forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:p("applications:forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!V.URLUtils.isURLValid(e,!0)||!V.URLUtils.isHttpUrl(e)&&!V.URLUtils.isHttpsUrl(e))&&(!!V.URLUtils.isMobileDeepLink(e)&&(F(null),!0))},computerWidth:10,required:!0,showError:Z,setShowError:x,hint:!a&&p("applications:forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:p("common:addURL"),duplicateURLErrorMessage:p("common:duplicateURLError"),"data-testid":"".concat(d,"-assertion-consumer-url-input"),getSubmit:function(e){W=e},showPredictions:!1,customLabel:U,popupHeaderPositive:p("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:p("applications:URLInput.withLabel.negative.header"),popupContentPositive:p("applications:URLInput.withLabel.positive.content",{productName:P.ui.productName}),popupContentNegative:p("applications:URLInput.withLabel.negative.content",{productName:P.ui.productName}),popupDetailedContentPositive:p("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:p("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:p("console:common.validations.inSecureURL.description"),showLessContent:p("common:showLess"),showMoreContent:p("common:showMore")}),O&&o.createElement(i.v0,{type:"info",content:o.createElement(o.Fragment,null,o.createElement(R.c,{i18nKey:"applications:forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:O}},"Don\u2019t have an app? Try out a sample app using",o.createElement("strong",null,O),"as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===h||""===h)&&o.createElement(i.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),g(O),w(L)},"data-testid":"".concat(d,"-add-now-button")},o.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))))):o.createElement(i.pO,null)};$.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var ee=function(e){var t,n,a,r,l,c,s,u,d,p,m,f,h,g,b,y,E=e.summary,w=e.triggerSubmit,C=e.onSubmit,O=e["data-testid"],I=(0,v.$)().t;return(0,o.useEffect)((function(){w&&C(E)}),[w]),o.createElement(S.Z,{className:"wizard-summary","data-testid":O},o.createElement(S.Z.Row,null,o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},o.createElement("div",{className:"general-details"},o.createElement(i.JT,{name:null==E?void 0:E.name,image:null==E?void 0:E.imageUrl,size:"tiny"}),(null==E?void 0:E.name)&&o.createElement(i.X6,{size:"small",className:"name"},E.name),(null==E||null===(t=E.advancedConfigurations)||void 0===t?void 0:t.discoverableByEndUsers)&&o.createElement(H.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.discoverable.heading")),(null==E||null===(n=E.inboundProtocolConfiguration)||void 0===n||null===(n=n.oidc)||void 0===n?void 0:n.publicClient)&&o.createElement(H.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.public.heading")),(null==E||null===(a=E.inboundProtocolConfiguration)||void 0===a||null===(a=a.oidc)||void 0===a||null===(a=a.refreshToken)||void 0===a?void 0:a.renewRefreshToken)&&o.createElement(H.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.renewRefreshToken.heading")),(null==E?void 0:E.description)&&o.createElement("div",{className:"description"},E.description)))),(null==E?void 0:E.accessUrl)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.accessURL.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value url"},E.accessUrl))),(null==E||null===(r=E.inboundProtocolConfiguration)||void 0===r||null===(r=r.saml)||void 0===r||null===(r=r.manualConfiguration)||void 0===r?void 0:r.issuer)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.issuer.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value"},E.inboundProtocolConfiguration.saml.manualConfiguration.issuer))),(null==E||null===(l=E.inboundProtocolConfiguration)||void 0===l||null===(l=l.saml)||void 0===l||null===(l=l.manualConfiguration)||void 0===l?void 0:l.serviceProviderQualifier)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.applicationQualifier.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value"},E.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier))),null!=E&&null!==(c=E.inboundProtocolConfiguration)&&void 0!==c&&null!==(c=c.oidc)&&void 0!==c&&c.grantTypes&&E.inboundProtocolConfiguration.oidc.grantTypes instanceof Array&&E.inboundProtocolConfiguration.oidc.grantTypes.length>0?o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.grantType.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement(H.Z.Group,null,E.inboundProtocolConfiguration.oidc.grantTypes.map((function(e,t){return o.createElement(H.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==E||null===(s=E.inboundProtocolConfiguration)||void 0===s||null===(s=s.saml)||void 0===s||null===(s=s.manualConfiguration)||void 0===s?void 0:s.assertionConsumerUrls)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.assertionURLs.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},E.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls.map((function(e,t){return o.createElement("div",{className:"value url",key:t},e)})))),(null==E||null===(u=E.inboundProtocolConfiguration)||void 0===u||null===(u=u.oidc)||void 0===u?void 0:u.callbackURLs)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.callbackURLs.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},V.EncodeDecodeUtils.decodeURLRegex(E.inboundProtocolConfiguration.oidc.callbackURLs[0]).map((function(e,t){return o.createElement("div",{className:"value url",key:t},e)})))),(null==E||null===(d=E.inboundProtocolConfiguration)||void 0===d||null===(d=d.wsTrust)||void 0===d?void 0:d.audience)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.audience.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value url"},null==E||null===(p=E.inboundProtocolConfiguration)||void 0===p||null===(p=p.wsTrust)||void 0===p?void 0:p.audience))),(null==E||null===(m=E.inboundProtocolConfiguration)||void 0===m||null===(m=m.wsTrust)||void 0===m?void 0:m.certificateAlias)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.certificateAlias.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value"},null==E||null===(f=E.inboundProtocolConfiguration)||void 0===f?void 0:f.wsTrust.certificateAlias))),(null==E||null===(h=E.inboundProtocolConfiguration)||void 0===h||null===(h=h.passiveSts)||void 0===h?void 0:h.realm)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.realm.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value"},null==E||null===(g=E.inboundProtocolConfiguration)||void 0===g?void 0:g.passiveSts.realm))),(null==E||null===(b=E.inboundProtocolConfiguration)||void 0===b||null===(b=b.passiveSts)||void 0===b?void 0:b.replyTo)&&o.createElement(S.Z.Row,{className:"summary-field",columns:2},o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},o.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.audience.heading"))),o.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},o.createElement("div",{className:"value url"},null==E||null===(y=E.inboundProtocolConfiguration)||void 0===y?void 0:y.passiveSts.replyTo))))};ee.defaultProps={"data-testid":"application-wizard-summary"};var te=n(78537);function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var oe=function(e){var t,n,a=e.initialValues,r=e.templateValues,d=e.triggerSubmit,p=e.onSubmit,m=e["data-testid"],f=(0,v.$)().t,h=(0,y.I0)(),g=ne((0,o.useState)(void 0),2),b=g[0],E=g[1];return(0,o.useEffect)((function(){(0,te.WL)(l.Ii.WS_TRUST).then((function(e){E(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:"Retrieval error"})):h((0,s.V_)({description:"An error occurred retrieving the protocol metadata.",level:c.QU.ERROR,message:"Retrieval error"}))}))}),[]),r&&b?o.createElement(u.Es,{onSubmit:function(e){p(function(e){return{inboundProtocolConfiguration:{wsTrust:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}}(e))},submitState:d},o.createElement(S.Z,null,o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},o.createElement(u.gN,{name:"audience",label:f("applications:forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:f("applications:forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:f("applications:forms.inboundWSTrust.fields.audience.placeholder"),type:"text",validation:function(e,t){N.I.url(e)||(t.isValid=!1,t.errorMessages.push(f("applications:forms.inboundWSTrust.fields.audience.validations.invalid")))},value:a?null==a?void 0:a.audience:null==r?void 0:r.audience,"data-testid":"".concat(m,"-audience-input")}),o.createElement(i.kW,null,f("applications:forms.inboundWSTrust.fields.audience.hint")))),o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},o.createElement(u.gN,{label:f("applications:forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:f("applications:forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:b.certificateAlias.defaultValue,value:a?null==a?void 0:a.certificateAlias:null==r?void 0:r.certificateAlias,children:(t=null==b?void 0:b.certificateAlias,n=[],t&&t.options.map((function(e){n.push({key:t.options.indexOf(e),text:e,value:e})})),n),"data-testid":"".concat(m,"-certificate-alias-dropdown")}),o.createElement(i.kW,null,f("applications:forms.inboundWSTrust.fields.certificateAlias.hint")))))):o.createElement(i.pO,null)};oe.defaultProps={"data-testid":"ws-trust-protocol-settings-wizard-form"};var ae=n(89608);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){var i;return i=function(e,t){if("object"!=re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=re(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==re(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pe=function(e){return e.PROTOCOL_SELECTION="protocolSelection",e.GENERAL_SETTINGS="generalSettings",e.PROTOCOL_SETTINGS="protocolSettings",e.SUMMARY="summary",e}(pe||{}),me=function(e){var t=e.closeWizard,n=e.currentStep,a=e.title,C=e.subTitle,O=e.template,I=e.addProtocol,A=e.selectedProtocols,L=e.appId,N=e.onUpdate,R=e["data-testid"],Z=(0,v.$)().t,x=(0,y.I0)(),k=ue((0,i.IK)(),3),W=k[0],Q=k[1],j=k[2],B=ue((0,o.useState)(void 0),2),V=B[0],H=B[1],X=ue((0,o.useState)(n),2),z=X[0],q=X[1],K=ue((0,o.useState)(!1),2),ne=K[0],ie=K[1],re=ue((0,o.useState)(!1),2),le=re[0],de=re[1],me=ue((0,o.useState)(!1),1)[0],fe=ue((0,o.useState)(void 0),2),he=fe[0],ge=fe[1],be=ue((0,o.useState)(void 0),2),ve=be[0],ye=be[1],Ee=ue((0,o.useState)(void 0),2),Se=Ee[0],we=Ee[1],Ce=ue((0,o.useState)(void 0),2),Oe=Ce[0],Ie=Ce[1],Ae=ue((0,o.useState)(O),2),Le=Ae[0],Te=Ae[1],Ne=ue((0,u.cC)(),2),Re=Ne[0],Ze=Ne[1],xe=ue((0,u.cC)(),2),ke=xe[0],Ue=xe[1],Fe=ue((0,u.cC)(),2),Pe=Fe[0],We=Fe[1],Me=ue((0,u.cC)(),2),De=Me[0],Qe=Me[1];(0,o.useEffect)((function(){if(Le)if(Le.id===ae.id){var e=[].concat(Ye);ye(e.splice(1,1))}else we((0,g.Z)(Se,se({},pe.PROTOCOL_SELECTION,Le.authenticationProtocol))),ne||_e(Le.id),I?q(z+1):ye(Ye.slice(1))}),[Le,ne]),(0,o.useEffect)((function(){Le&&(0,te.WL)(Le.authenticationProtocol).then((function(e){ge(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Q({description:e.response.data.description,level:c.QU.ERROR,message:Z("applications:notifications.fetchProtocolMeta.error.message")}):Q({description:Z("applications:notifications.fetchProtocolMeta.genericError.description"),level:c.QU.ERROR,message:Z("applications:notifications.fetchProtocolMeta.genericError.message")})}))}),[ne,Le]),(0,o.useEffect)((function(){if(I){var e=[].concat(Ye);e.splice(1,1),ye(e)}}),[I]),(0,o.useEffect)((function(){void 0!==V&&(q(z-1),H(void 0))}),[V]);var _e=function(e){e===l.EL.OIDC?Ie(_.P5.application):e===l.EL.SAML?Ie(_.qF.application):e===l.EL.WS_FEDERATION?Ie(_.qo.application):(0,te.FG)(e).then((function(e){Ie(e.application)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Q({description:e.response.data.description,level:c.QU.ERROR,message:Z("applications:notifications.fetchTemplate.error.message")}):Q({description:Z("applications:notifications.fetchTemplate.genericError.description"),level:c.QU.ERROR,message:Z("applications:notifications.fetchTemplate.genericError.message")})}))},je=function(e){var t=e;t=ce(ce({},t),{},{templateId:Le.id}),de(!0),(0,te.W3)(t).then((function(e){if(x((0,s.V_)({description:Z("applications:notifications.addApplication.success.description"),level:c.QU.SUCCESS,message:Z("applications:notifications.addApplication.success.message")})),!(0,f.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),i=0;return Le.id===ae.id&&(i=1),void M.m8.push({hash:"#".concat(l.El.TAB_INDEX).concat(i),pathname:M.$x.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:"?".concat(r.jo.APP_STATE_URL_SEARCH_PARAM_KEY,"=").concat(r.jo.APP_STATE_URL_SEARCH_PARAM_VALUE)})}M.m8.push(M.$x.getPaths().get("APPLICATIONS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Q({description:e.response.data.description,level:c.QU.ERROR,message:Z("applications:notifications.addApplication.error.message")}):Q({description:Z("applications:notifications.addApplication.genericError.description"),level:c.QU.ERROR,message:Z("applications:notifications.addApplication.genericError.message")})})).finally((function(){de(!1)}))},Be=function(e){de(!0),(0,te.lp)(L,e,Le.authenticationProtocol).then((function(){x((0,s.V_)({description:Z("applications:notifications.updateProtocol.success.description"),level:c.QU.SUCCESS,message:Z("applications:notifications.updateProtocol.success.message")})),N(L),ze()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Q({description:e.response.data.description,level:c.QU.ERROR,message:Z("applications:notifications.updateProtocol.error.message")}):Q({description:Z("applications:notifications.updateProtocol.genericError.description"),level:c.QU.ERROR,message:Z("applications:notifications.updateProtocol.error.message")})})).finally((function(){de(!1)}))},Ge=function(){var e;switch(null===(e=ve[z])||void 0===e?void 0:e.name){case pe.PROTOCOL_SELECTION:Qe();break;case pe.GENERAL_SETTINGS:Ze();break;case pe.PROTOCOL_SETTINGS:Ue();break;case pe.SUMMARY:We()}},Ve=function(e,t){t===pe.PROTOCOL_SELECTION?e?(0,h.Z)(e,Le)?q(z+1):Te(e):Qe():(q(z+1),(0,m.Z)(Se,t)?we((0,b.Z)(Se,t,e)):we((0,g.Z)(Se,se({},t,e))))},He=function(){if(Se){var e={};if(I){var t=Le.authenticationProtocol;return t===l.AI.WS_FEDERATION?t="passiveSts":t===l.AI.WS_TRUST&&(t="wsTrust"),e=(0,p.Z)(Se[pe.PROTOCOL_SETTINGS],"inboundProtocolConfiguration."+t),Le.id===l.EL.SAML||ne||(e=(0,g.Z)((0,d.Z)(Oe.inboundProtocolConfiguration[t]),e)),e}for(var n=0,i=Object.entries(Se);n<i.length;n++){var o=ue(i[n],2),a=o[0],r=o[1];a!==pe.PROTOCOL_SELECTION&&(e=ce(ce({},e),r))}return(0,g.Z)((0,d.Z)(Oe),e)}},Xe=function(e){Se[pe.PROTOCOL_SELECTION]===l.AI.OIDC?delete e.inboundProtocolConfiguration.saml:Se[pe.PROTOCOL_SELECTION]===l.AI.SAML&&delete e.inboundProtocolConfiguration.oidc,je(e)},ze=function(){t()},Ye=[{icon:(0,D.jK)().protocolSelection,name:pe.PROTOCOL_SELECTION,title:Z("applications:addWizard.steps.protocolSelection.heading")},{icon:(0,D.jK)().general,name:pe.GENERAL_SETTINGS,title:Z("applications:addWizard.steps.generalSettings.heading")},{icon:(0,D.jK)().protocolConfig,name:pe.PROTOCOL_SETTINGS,title:Z("applications:addWizard.steps.protocolConfig.heading")},{icon:(0,D.jK)().summary,name:pe.SUMMARY,title:Z("applications:addWizard.steps.summary.heading")}];return ve?o.createElement(E.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:ze,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(R,"-modal")},o.createElement(E.Z.Header,{className:"wizard-header"},a,C&&o.createElement(i.X6,{as:"h6"},C)),o.createElement(E.Z.Content,{className:"steps-container","data-testid":"".concat(R,"-steps")},o.createElement(i.Rg.Group,{current:z},ve.map((function(e,t){return o.createElement(i.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(R,"-step-").concat(t)})})))),o.createElement(E.Z.Content,{className:"content-container",scrolling:!0},W&&j,function(){var e;switch(null===(e=ve[z])||void 0===e?void 0:e.name){case pe.PROTOCOL_SELECTION:return o.createElement(G,{initialSelectedTemplate:Le,onSubmit:function(e){return Ve(e,pe.PROTOCOL_SELECTION)},defaultTemplates:[],triggerSubmit:De,selectedProtocols:A,setSelectedCustomInboundProtocol:ie,"data-testid":"".concat(R,"-protocol-selection-form")});case pe.GENERAL_SETTINGS:return Le.id===ae.id?o.createElement(U,{triggerSubmit:Re,initialValues:Se&&Se[pe.GENERAL_SETTINGS],onSubmit:function(e){!function(e){for(var t=(0,l.M7)(),n=0,i=Object.entries(e);n<i.length;n++){var o=ue(i[n],2),a=o[0],r=o[1];t=ce(ce({},t),{},se({},a,r))}je(t)}(e)},templateValues:Oe,"data-testid":"".concat(R,"-general-settings-form")}):o.createElement(U,{triggerSubmit:Re,initialValues:Se&&Se[pe.GENERAL_SETTINGS],onSubmit:function(e){return Ve(e,pe.GENERAL_SETTINGS)},templateValues:Oe,"data-testid":"".concat(R,"-general-settings-form")});case pe.PROTOCOL_SETTINGS:if(Se&&Se[pe.PROTOCOL_SELECTION]){if(ne)return o.createElement(T,{triggerSubmit:ke,protocolName:Le.id,initialValues:Se&&Se[pe.PROTOCOL_SETTINGS],metadata:he,onSubmit:function(e){return Ve(e,pe.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-custom-protocol-settings-form")});if(Se[pe.PROTOCOL_SELECTION]===l.AI.OIDC)return o.createElement(F.A,{isProtocolConfig:!0,selectedTemplate:Le,triggerSubmit:ke,fields:["callbackURLs"],initialValues:Se&&Se[pe.PROTOCOL_SETTINGS],templateValues:Oe,onSubmit:function(e){return Ve(e,pe.PROTOCOL_SETTINGS)},showCallbackURL:!0,"data-testid":"".concat(R,"-oauth-protocol-settings-form")});if(Se[pe.PROTOCOL_SELECTION]===l.AI.SAML)return Le.id===l.EL.SAML?o.createElement(J._,{triggerSubmit:ke,initialValues:Se&&Se[pe.PROTOCOL_SETTINGS],templateValues:Oe,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,onSubmit:function(e){return Ve(e,pe.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-saml-protocol-all-settings-form")}):o.createElement($,{triggerSubmit:ke,initialValues:Se&&Se[pe.PROTOCOL_SETTINGS],templateValues:Oe,onSubmit:function(e){return Ve(e,pe.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-saml-protocol-settings-form")});if(Se[pe.PROTOCOL_SELECTION]===l.AI.WS_TRUST)return o.createElement(oe,{triggerSubmit:ke,initialValues:Se&&Se[pe.PROTOCOL_SETTINGS],templateValues:Oe,onSubmit:function(e){return Ve(e,pe.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-ws-trust-protocol-settings-form")});if(Se[pe.PROTOCOL_SELECTION]===l.AI.WS_FEDERATION)return o.createElement(P.u,{triggerSubmit:ke,initialValues:Se&&Se[pe.PROTOCOL_SETTINGS],templateValues:Oe,onSubmit:function(e){return Ve(e,pe.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-passive-sts-protocol-settings-form")})}return null;case pe.SUMMARY:return I?o.createElement(Y,{triggerSubmit:Pe,summary:He(),onSubmit:Be,image:Le.authenticationProtocol,customProtocol:ne,samlMetaFileSelected:me,"data-testid":"".concat(R,"-protocol-summary")}):o.createElement(ee,{triggerSubmit:Pe,summary:He(),onSubmit:Xe,"data-testid":"".concat(R,"-summary")})}}()),o.createElement(E.Z.Actions,null,o.createElement(S.Z,null,o.createElement(S.Z.Row,{column:1},o.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},o.createElement(i.Qj,{"data-testid":"".concat(R,"-cancel-button"),floated:"left",onClick:ze},Z("common:cancel"))),o.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},z<ve.length-1&&o.createElement(i.KM,{floated:"right",onClick:Ge,"data-testid":"".concat(R,"-next-button")},Z("common:next"),o.createElement(w.Z,{name:"arrow right"})),z===ve.length-1&&o.createElement(i.KM,{floated:"right",onClick:Ge,"data-testid":"".concat(R,"-finish-button"),loading:le,disabled:le},Z("common:finish")),z>0&&o.createElement(i.Qj,{floated:"right",onClick:function(){H(z)},"data-testid":"".concat(R,"-previous-button")},o.createElement(w.Z,{name:"arrow left"}),Z("common:previous"))))))):null};me.defaultProps={currentStep:0,"data-testid":"application-create-wizard"};var fe=n(61763),he=n(71759);function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ve=function(e){var t=e.initialValues,n=e.idpList,a=e.triggerSubmit,r=e.onSubmit,l=e.isEdit,c=e.readOnly,s=e.isSubmitting,d=e["data-testid"],p=(0,v.$)().t,m=ge((0,o.useState)([]),2),f=m[0],h=m[1],g=ge((0,o.useState)(void 0),2),b=g[0],y=g[1],E=ge((0,o.useState)(),2),w=E[0],C=E[1],O=ge((0,o.useState)(null==t?void 0:t.blocking),2),I=O[0],A=O[1],L=ge((0,o.useState)(null==t?void 0:t.jit),2),T=L[0],N=L[1],R=ge((0,o.useState)(null==t?void 0:t.rules),2),Z=R[0],x=R[1],k=ge((0,o.useState)(null==t?void 0:t.connector),2),U=k[0],F=k[1],P=(0,fe.Z)().UIConfig;(0,o.useEffect)((function(){if(n&&null!=t&&t.idp){var e=null==n?void 0:n.find((function(e){return e.name===(null==t?void 0:t.idp)}));C(null==e?void 0:e.id)}}),[n]),(0,o.useEffect)((function(){if(n){var e=[],t={key:-1,text:"",value:""};n.map((function(n,i){t={key:i,text:n.name,value:n.id},e.push(t)})),h(e)}}),[n]),(0,o.useEffect)((function(){if(w){var e=[],t={key:-1,text:"",value:""};(0,he.OL)(w).then((function(n){n.provisioning.outboundConnectors.connectors.map((function(n,i){n.isEnabled&&(t={key:i,text:n.name,value:n.name},e.push(t))})),y(e)}))}}),[w]);return o.createElement(u.Es,{onSubmit:function(e){return r(function(e){var t=f.find((function(e){return e.value===w})).text;return{blocking:I||!!e.get("blocking").includes("blocking"),connector:U,idp:t,jit:T||!!e.get("jit").includes("jit"),rules:Z||!!e.get("blocking").includes("blocking")}}(e))},submitState:a&&a},o.createElement(S.Z,null,!l&&o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(u.gN,{type:"dropdown",label:p("applications:forms.outboundProvisioning.fields.idp.label"),placeholder:p("applications:forms.outboundProvisioning.fields.idp.placeholder"),name:"idp",children:f,requiredErrorMessage:p("applications:forms.outboundProvisioning.fields.idp.validations.empty"),readOnly:c,required:!1,value:null==t?void 0:t.idp,listen:function(e){C(e.get("idp").toString())},"data-testid":"".concat(d,"-idp-dropdown")}))),o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(u.gN,{type:"dropdown",label:p("applications:forms.outboundProvisioning.fields.connector.label"),placeholder:p("applications:forms.outboundProvisioning.fields.connector.placeholder"),name:"connector",children:b,requiredErrorMessage:p("applications:forms.outboundProvisioning.fields.connector.validations.empty"),readOnly:c,required:!0,value:null==t?void 0:t.connector,listen:function(e){F(e.get("connector").toString())},"data-testid":"".concat(d,"-provisioning-connector-dropdown")}),(null==b?void 0:b.length)<=0&&o.createElement(i.kW,{icon:"warning sign"},p("applications:edit.sections.provisioning.outbound.addIdpWizard.errors.noProvisioningConnector")))),(null==P?void 0:P.isXacmlConnectorEnabled)&&o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(u.gN,{name:"rules",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("applications:forms.outboundProvisioning.fields.rules.label"),value:"rules"}],value:null!=t&&t.rules?["rules"]:[],listen:function(e){x(e.get("rules").includes("rules"))},readOnly:c,"data-testid":"".concat(d,"-rules-checkbox")}),o.createElement(i.kW,null,p("applications:forms.outboundProvisioning.fields.rules.hint")))),o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(u.gN,{name:"blocking",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("applications:forms.outboundProvisioning.fields.blocking.label"),value:"blocking"}],readOnly:c,value:null!=t&&t.blocking?["blocking"]:[],listen:function(e){A(e.get("blocking").includes("blocking"))},"data-testid":"".concat(d,"-blocking-checkbox")}),o.createElement(i.kW,null,p("applications:forms.outboundProvisioning.fields.blocking.hint")))),o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(u.gN,{name:"jit",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("applications:forms.outboundProvisioning.fields.jit.label"),value:"jit"}],value:null!=t&&t.jit?["jit"]:[],listen:function(e){N(e.get("jit").includes("jit"))},readOnly:c,"data-testid":"".concat(d,"-jit-checkbox")}),o.createElement(i.kW,null,p("applications:forms.outboundProvisioning.fields.jit.hint")))),l&&!c&&o.createElement(S.Z.Row,{columns:1},o.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},o.createElement(i.KM,{type:"submit",size:"small",className:"form-button","data-testid":"".concat(d,"-submit-button"),loading:s,disabled:s},p("common:update"))))))};function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ve.defaultProps={"data-testid":"application-outbound-provisioning-wizard-idp-form"};var Se=function(e){var t=e.application,n=e.closeWizard,a=e.currentStep,r=e.onUpdate,l=e["data-testid"],d=(0,v.$)().t,p=(0,y.I0)(),m=ye((0,u.cC)(),2),f=m[0],h=m[1],g=ye((0,o.useState)(void 0),2),b=g[0],C=g[1],O=ye((0,o.useState)(a),2),I=O[0],A=O[1],L=ye((0,o.useState)(void 0),2),T=L[0],N=L[1],R=ye((0,o.useState)(!1),2),Z=R[0],x=R[1];(0,o.useEffect)((function(){void 0!==b&&(A(I-1),C(void 0))}),[b]),(0,o.useEffect)((function(){T||(0,he.SN)().then((function(e){N(e.identityProviders)}))}),[]);var k=function(){if(0===I)h()},U=function(e){var i;if(null!=t&&null!==(i=t.provisioningConfigurations)&&void 0!==i&&i.outboundProvisioningIdps.find((function(t){return t.connector===e.connector&&t.idp===e.idp})))return p((0,s.V_)({description:d("applications:notifications.updateOutboundProvisioning.genericError.description"),level:c.QU.ERROR,message:d("applications:notifications.updateOutboundProvisioning.genericError.message")})),void n();!function(e,i){x(!0),(0,te.TH)(e,i).then((function(){p((0,s.V_)({description:d("applications:notifications.updateApplication.success.description"),level:c.QU.SUCCESS,message:d("applications:notifications.updateApplication.success.message")})),r(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?p((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:d("applications:notifications.updateApplication.error.message")})):p((0,s.V_)({description:d("applications:notifications.updateApplication.genericError.description"),level:c.QU.ERROR,message:d("applications:notifications.updateApplication.genericError.message")}))})).finally((function(){x(!1),n()}))}(t.id,function(e){var n,i=null==t||null===(n=t.provisioningConfigurations)||void 0===n?void 0:n.outboundProvisioningIdps;return i.push(e),{provisioningConfigurations:{outboundProvisioningIdps:i}}}(e))},F=[{content:o.createElement(ve,{initialValues:null,triggerSubmit:f,onSubmit:function(e){U(e)},idpList:T,"data-testid":"".concat(l,"-form"),isSubmitting:Z}),icon:(0,D.jK)().general,title:d("applications:edit.sections.provisioning.outbound.addIdpWizard.steps.details")}];return o.createElement(E.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:n,"data-testid":l,closeOnDimmerClick:!1,closeOnEscape:!0},o.createElement(E.Z.Header,{className:"wizard-header"},d("applications:edit.sections.provisioning.outbound.addIdpWizard.heading"),o.createElement(i.X6,{as:"h6"},d("applications:edit.sections.provisioning.outbound.addIdpWizard.subHeading"))),o.createElement(E.Z.Content,{className:"steps-container"},o.createElement(i.Rg.Group,{current:I,"data-testid":"".concat(l,"-steps")},F.map((function(e,t){return o.createElement(i.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(l,"-step-").concat(t)})})))),o.createElement(E.Z.Content,{className:"content-container",scrolling:!0},F[I].content),o.createElement(E.Z.Actions,null,o.createElement(S.Z,null,o.createElement(S.Z.Row,{column:1},o.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},o.createElement(i.Qj,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(l,"-cancel-button")},d("common:cancel"))),o.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},I<F.length-1&&o.createElement(i.KM,{floated:"right",onClick:k,"data-testid":"".concat(l,"-next-button")},d("common:next"),o.createElement(w.Z,{name:"arrow right"})),I===F.length-1&&o.createElement(i.KM,{floated:"right",onClick:k,"data-testid":"".concat(l,"-finish-button"),loading:Z,disabled:Z},d("common:finish")),I>0&&o.createElement(i.Qj,{floated:"right",onClick:function(){C(I)},"data-testid":"".concat(l,"-previous-button")},o.createElement(w.Z,{name:"arrow left"}),d("common:previous")))))))};Se.defaultProps={currentStep:0,"data-testid":"outbound-provisioning-idp-create-wizard"};n(85889)},2641:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>r,VR:()=>s,X7:()=>u,bV:()=>l,q$:()=>a,r:()=>c});var i=n(10479),o=n(47245),a=function(){var e=(0,i.$)().t,t=(0,o.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName}));return[e("ai:aiLoginFlow.screens.loading.facts.0",{productName:t}),e("ai:aiLoginFlow.screens.loading.facts.1",{productName:t}),e("ai:aiLoginFlow.screens.loading.facts.2",{productName:t})]},r=function(){var e=(0,i.$)().t;return{generating_login_flow_authenticators:e("ai:aiLoginFlow.screens.loading.states.7"),generating_login_flow_script:e("ai:aiLoginFlow.screens.loading.states.5"),generation_of_login_flow_authenticators_complete:e("ai:aiLoginFlow.screens.loading.states.8"),generation_of_login_flow_script_complete:e("ai:aiLoginFlow.screens.loading.states.6"),login_flow_generation_complete:e("ai:aiLoginFlow.screens.loading.states.10"),optimization_and_validation_complete:e("ai:aiLoginFlow.screens.loading.states.2"),optimizing_and_validating_final_login_flow:e("ai:aiLoginFlow.screens.loading.states.9"),optimizing_and_validating_user_query:e("ai:aiLoginFlow.screens.loading.states.1"),retrieval_of_examples_complete:e("ai:aiLoginFlow.screens.loading.states.4"),retrieving_examples:e("ai:aiLoginFlow.screens.loading.states.3")}},l={generating_login_flow_authenticators:97,generating_login_flow_script:95,generation_of_login_flow_authenticators_complete:98,generation_of_login_flow_script_complete:96,login_flow_generation_complete:100,optimization_and_validation_complete:40,optimizing_and_validating_final_login_flow:99,optimizing_and_validating_user_query:20,retrieval_of_examples_complete:90,retrieving_examples:70},c=8e3,s=100,u="applications.loginFlow.ai"},8883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=(0,n(44194).createContext)(null);i.displayName="AILoginFlowContext";const o=i},83482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(44194),o=n(8883);const a=function(){var e=(0,i.useContext)(o.Z);if(void 0===e)throw new Error("useAILoginFlow must be used within a AILoginFlowProvider");return e}},9958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>He});var i=n(93129),o=n(3356),a=n(44194),r=n(10479),l=n(47245),c=n(84902),s=n(73508),u=n(61263),d=n(5206),p=n(57751),m=n(77945),f=n(33473),h=n(10657),g=n(15118),b=n(99774),v=n(90988),y=n(95817),E=n(97574),S=n(5738),w=n(59149),C=n(20849),O=n(99472),I=n(8534),A=n(2659),L=n(86727),T=n(59673),N=n(78768),R=n(88024),Z=n(776);const x=n.p+"static/media/cfda1d1de38f5f32d6316b7e7c604bca.svg";var k=n(6776),U=n(61763),F=n(73019),P=n(104);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function M(){M=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(i||[]);return o(r,"_invoke",{value:A(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function b(){}function v(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(Z([])));w&&w!==n&&i.call(w,r)&&(E=w);var C=y.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,r,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==W(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,i){var o=p;return function(a,r){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw r;return{value:e,done:!0}}for(i.method=a,i.arg=r;;){var l=i.delegate;if(l){var c=L(l,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?h:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=h,i.method="throw",i.arg=s.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(W(t)+" is not iterable")}return v.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new I(u(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(C),s(C,c,"Generator"),s(C,r,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function D(e,t,n,i,o,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(i,o)}function Q(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const G=function(){var e,t=(0,U.Z)().UIConfig,n=_((0,a.useState)(!0),2),i=n[0],o=n[1],r=_((0,a.useState)({enterprise:[],local:[],recovery:[],secondFactor:[],social:[]}),2),l=r[0],c=r[1],s=Q(null!==(e=null==t?void 0:t.hiddenAuthenticators)&&void 0!==e?e:[]);(0,a.useEffect)((function(){u()}),[]);var u=function(){var e,t=(e=M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),P.z.getAllAuthenticators().then((function(e){var t=e[0],n=e[1],i=[],o=[],a=[],r=[],l=[];t.forEach((function(e){s.includes(e.name)||(e.name===F.bQ.BACKUP_CODE_AUTHENTICATOR?r.push({description:e.description,idp:e.idp,name:e.name}):k.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?a.push({description:e.description,idp:e.idp,name:e.name}):l.push({description:e.description,idp:e.idp,name:e.name}))})),n.forEach((function(e){var t,n;s.includes(e.name)||(k.jo.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push({description:e.description,idp:e.idp,name:null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.name}):o.push({description:e.description,idp:e.idp,name:null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name}))})),c({enterprise:o,local:l,recovery:r,secondFactor:a,social:i})})).finally((function(){o(!1)}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){D(a,i,o,r,l,"next",e)}function l(e){D(a,i,o,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}();return{filteredAuthenticators:l,loading:i}};var V=n(35542);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const z=function(){var e=H((0,a.useState)({claimURI:null,error:null}),2),t=e[0],n=e[1];return(0,a.useEffect)((function(){(0,V.WN)({"exclude-identity-claims":!1,filter:null,limit:null,offset:null,sort:null}).then((function(e){var t=e.map((function(e){return{claimURI:e.claimURI,description:e.description}}));n({claimURI:t,error:null})})).catch((function(e){n({claimURI:null,error:e})}))}),[]),t};var Y=n(83482),J=n(34148),q=n(67442),K=J.AsgardeoSPAClient.getInstance().httpRequest.bind(J.AsgardeoSPAClient.getInstance());const $=function(e,t,n,o){var a={data:{available_authenticators:n,user_claims:t,user_query:e},headers:{Accept:"application/json","Content-Type":"application/json","Trace-Id":o},method:i.f2.POST,url:"".concat(u.h.getState().config.endpoints.applications,"/loginflow/generate")};return K(a).then((function(e){if(200!==e.status)throw new Error("Failed to generate login flow: ".concat(e.statusText));return e.data})).catch((function(e){var t,n,i=(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Unknown error occurred";throw new q.u(i,e.stack,null===(n=e.response)||void 0===n?void 0:n.status,e.request,e.response,e.config)}))};function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){te=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(i||[]);return o(r,"_invoke",{value:A(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function b(){}function v(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(Z([])));w&&w!==n&&i.call(w,r)&&(E=w);var C=y.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,r,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==ee(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,i){var o=p;return function(a,r){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw r;return{value:e,done:!0}}for(i.method=a,i.arg=r;;){var l=i.delegate;if(l){var c=L(l,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?h:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=h,i.method="throw",i.arg=s.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ee(t)+" is not iterable")}return v.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new I(u(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(C),s(C,c,"Generator"),s(C,r,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function ne(e,t,n,i,o,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(i,o)}const ie=function(){var e=(0,l.I0)(),t=(0,r.$)().t,n=(0,Y.Z)(),a=n.setGeneratingLoginFlow,c=n.setOperationId,s=function(){var n,r=(n=te().mark((function n(r,l,s,u){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",$(r,l,s,u).then((function(e){c(e.operation_id),a(!0)})).catch((function(n){422!==(null==n?void 0:n.code)?429!==(null==n?void 0:n.code)?e((0,o.V_)({description:t("ai:aiLoginFlow.notifications.generateError.description"),level:i.QU.ERROR,message:n.message||t("ai:aiLoginFlow.notifications.generateError.message")})):e((0,o.V_)({description:t("ai:aiLoginFlow.notifications.generateLimitError.description"),level:i.QU.ERROR,message:t("ai:aiLoginFlow.notifications.generateLimitError.message")})):e((0,o.V_)({description:t("ai:aiLoginFlow.notifications.generateInputError.description"),level:i.QU.ERROR,message:t("ai:aiLoginFlow.notifications.generateInputError.message")}))})));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(i,o){var a=n.apply(e,t);function r(e){ne(a,i,o,r,l,"next",e)}function l(e){ne(a,i,o,r,l,"throw",e)}r(void 0)}))});return function(e,t,n,i){return r.apply(this,arguments)}}();return s};var oe=function(e){return e.FULL="banner-full",e.INPUT="banner-input",e.COLLAPSED="banner-collapsed",e.NULL="null",e}({}),ae=n(51835),re=n.n(ae),le=n(27975),ce=n.n(le),se=n(55900),ue=n.n(se),de=n(21555),pe=n.n(de),me=n(3621),fe=n.n(me),he=n(5062),ge=n.n(he),be=n(60075),ve=n.n(be),ye={};ye.styleTagTransform=ge(),ye.setAttributes=pe(),ye.insert=ue().bind(null,"head"),ye.domAPI=ce(),ye.insertStyleElement=fe();re()(ve(),ye);ve()&&ve().locals&&ve().locals;function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Se(){Se=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(i||[]);return o(r,"_invoke",{value:A(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function b(){}function v(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(Z([])));w&&w!==n&&i.call(w,r)&&(E=w);var C=y.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,r,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ee(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,i){var o=p;return function(a,r){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw r;return{value:e,done:!0}}for(i.method=a,i.arg=r;;){var l=i.delegate;if(l){var c=L(l,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?h:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=h,i.method="throw",i.arg=s.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ee(t)+" is not iterable")}return v.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new I(u(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(C),s(C,c,"Generator"),s(C,r,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function we(e,t,n,i,o,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(i,o)}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ie=function(e){var t=e["data-componentid"],n=(0,r.$)().t,c=(0,l.I0)(),s=(0,Y.Z)(),u=s.bannerState,k=s.isGeneratingLoginFlow,U=s.promptHistory,F=s.updatePromptHistory,P=s.userPrompt,W=s.setBannerState,M=s.setUserPrompt,D=(0,L.fQ)().getLink,Q=G(),_=Q.filteredAuthenticators,j=Q.loading,B=z(),V=B.claimURI,H=B.error,X=ie(),J=Ce((0,a.useState)(!1),2),q=J[0],K=J[1],$=Ce((0,a.useState)(!1),2),ee=$[0],te=$[1],ne=Ce((0,a.useState)(!1),2),ae=ne[0],re=ne[1],le=Ce((0,a.useState)(""),2),ce=le[0],se=le[1],ue=function(){W(oe.INPUT)},de=function(){var e,t=(e=Se().mark((function e(){var t,a,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:if(!H){e.next=5;break}return c((0,o.V_)({description:(null==H||null===(t=H.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||n("console:manage.features.claims.local.notifications.getClaims.genericError.description"),level:i.QU.ERROR,message:(null==H||null===(a=H.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||n("console:manage.features.claims.local.notifications.getClaims.genericError.message")})),e.abrupt("return");case 5:if(0!==_.local.length||0!==_.enterprise.length||0!==_.recovery.length||0!==_.secondFactor.length||0!==_.social.length){e.next=8;break}return c((0,o.V_)({description:n("ai:aiLoginFlow.notifications.noAuthenticators.description"),level:i.QU.WARNING,message:n("ai:aiLoginFlow.notifications.noAuthenticators.message")})),e.abrupt("return");case 8:return K(!0),F(P),r=(0,N.Z)(),e.next=13,X(P,V,_,r);case 13:W(oe.INPUT),K(!1);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){we(a,i,o,r,l,"next",e)}function l(e){we(a,i,o,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}();return k?null:u===oe.FULL?a.createElement(v.Z,{className:"login-flow-ai-banner full",style:{backgroundImage:"url(".concat(Z.Z,")")}},a.createElement("div",{className:"login-flow-ai-banner-text-container"},a.createElement(I.Z,{as:"h3",className:"login-flow-ai-banner-heading"},n("ai:aiLoginFlow.banner.full.heading"),a.createElement("span",{className:"login-flow-ai-text"},n("ai:aiLoginFlow.title")),a.createElement(R.r,{className:"ai-icon"}),a.createElement(w.Z,{size:"small",label:n("common:beta").toUpperCase(),className:"oxygen-chip-beta mb-1 ml-2"})),a.createElement(I.Z,{className:"login-flow-ai-banner-sub-heading"},n("ai:aiLoginFlow.banner.full.subheading"))),a.createElement(y.Z,{onClick:ue,color:"primary",variant:"contained"},n("ai:aiLoginFlow.banner.full.button"))):u===oe.INPUT?a.createElement(v.Z,{className:"login-flow-ai-banner-container",style:{backgroundImage:"url(".concat(x,")")}},a.createElement(v.Z,{className:"login-flow-ai-banner-input"},a.createElement(v.Z,{className:"login-flow-ai-banner-input-heading-container"},a.createElement(I.Z,{as:"h3",className:"login-flow-ai-banner-heading"},n("ai:aiLoginFlow.banner.input.heading"),a.createElement("span",{className:"login-flow-ai-text"},n("ai:aiLoginFlow.title")),a.createElement(R.r,{className:"ai-icon"}),a.createElement(w.Z,{size:"small",label:n("common:beta").toUpperCase(),className:"oxygen-chip-beta mb-1 ml-2"})),a.createElement(f.Z,{onClick:function(){W(oe.COLLAPSED)}},a.createElement(A.g8,null))),a.createElement("div",{className:"login-flow-ai-banner-text-container mb-5"},a.createElement(I.Z,{className:"login-flow-ai-banner-sub-heading"},n("ai:aiLoginFlow.banner.input.subheading"),a.createElement(L.eb,{link:D("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.ai.learnMore")},a.createElement(T.c,{i18nKey:"extensions:common.learnMore"},"Learn more")))),a.createElement(O.Z,{name:"loginFlowInput",className:"login-flow-ai-input-field",placeholder:n("ai:aiLoginFlow.banner.input.placeholder"),fullWidth:!0,multiline:!0,maxRows:4,value:P,onChange:function(e){var t;return M(null==e||null===(t=e.target)||void 0===t?void 0:t.value)},onKeyDown:function(e){"Enter"===(null==e?void 0:e.key)&&null!=e&&e.shiftKey||"Enter"===(null==e?void 0:e.key)&&(null==e||e.preventDefault(),de())},inputProps:{maxlength:1e3},InputProps:{className:"login-flow-ai-input-field-inner",endAdornment:q||j?a.createElement(v.Z,null,a.createElement(m.Z,{color:"primary",size:25,className:"mr-2 mt-1"})):a.createElement(f.Z,{className:"login-flow-ai-input-button",onClick:function(){return de()},disabled:!P},a.createElement(p.Z,{className:"login-flow-ai-input-button-icon ".concat(P?"":"disabled")}))}}),a.createElement(v.Z,{className:"login-flow-ai-disclaimer ".concat(U.length>0?"":"mb-6")},a.createElement(I.Z,{variant:"caption"},n("ai:aiLoginFlow.disclaimer"),a.createElement(L.eb,{link:D("common.termsOfService")},n("ai:aiLoginFlow.termsAndConditions"))))),U.length>0&&a.createElement(h.Z,{className:"login-flow-ai-banner-history",disableGutters:!0,elevation:0,sx:{"&:before":{display:"none"}},onChange:function(){return te(!ee)}},a.createElement(b.Z,null,a.createElement(I.Z,{variant:"subtitle2"},n("ai:aiLoginFlow.promptsHistory")),a.createElement(d.Z,{className:ee?"login-flow-ai-banner-caret-icon close-icon":"login-flow-ai-banner-caret-icon open-icon"})),a.createElement(g.Z,null,a.createElement(v.Z,null,a.createElement(C.Z,{container:!0,spacing:2},U.map((function(e,t){return a.createElement(C.Z,{xs:4,key:t},a.createElement(E.Z,{className:"login-flow-ai-banner-history-card",onClick:function(){return function(e){if(P&&P!==e)return se(e),void re(!0);M(e)}(e)}},a.createElement(S.Z,null,a.createElement(I.Z,{color:"text.secondary",variant:"body2",className:"login-flow-ai-banner-history-card-text"},e.length>200?"".concat(e.substring(0,200),"..."):e))))})))))),a.createElement(L.cV,{onClose:function(){return re(!1)},type:"negative",open:ae,assertionHint:n("extensions:develop.branding.confirmations.revertBranding.assertionHint"),assertionType:"checkbox",primaryAction:n("common:confirm"),secondaryAction:n("common:cancel"),onSecondaryActionClick:function(){return re(!1)},onPrimaryActionClick:function(){M(ce),re(!1)},"data-componentid":"".concat(t,"-propmt-replace-confirmation-modal"),closeOnDimmerClick:!1},a.createElement(L.cV.Header,{"data-componentid":"".concat(t,"-propmt-replace-confirmation-modal-header")},n("ai:aiLoginFlow.confirmations.replacePrompt.header")),a.createElement(L.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(t,"-propmt-replace-confirmation-modal-message")},n("ai:aiLoginFlow.confirmations.replacePrompt.message")),a.createElement(L.cV.Content,{"data-componentid":"".concat(t,"-propmt-replace-confirmation-modal-content")},n("ai:aiLoginFlow.confirmations.replacePrompt.content")))):u===oe.COLLAPSED?a.createElement(v.Z,{className:"login-flow-ai-banner collapsed",style:{backgroundImage:"url(".concat(Z.Z,")")}},a.createElement(v.Z,{className:"login-flow-ai-banner-button-container"},a.createElement("div",{className:"login-flow-ai-banner-text-container"},a.createElement(I.Z,{as:"h3",className:"login-flow-ai-banner-heading"},n("ai:aiLoginFlow.banner.collapsed.heading"),a.createElement("span",{className:"login-flow-ai-text"},n("ai:aiLoginFlow.title")),a.createElement(R.r,{className:"ai-icon"}),a.createElement(w.Z,{size:"small",label:n("common:beta").toUpperCase(),className:"oxygen-chip-beta mb-1 ml-2"})),a.createElement(I.Z,{className:"login-flow-ai-banner-sub-heading"},n("ai:aiLoginFlow.banner.input.subheading"),a.createElement(L.eb,{link:D("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.ai.learnMore")},a.createElement(T.c,{i18nKey:"extensions:common.learnMore"},"Learn more")))),a.createElement(y.Z,{onClick:ue,color:"primary",variant:"contained"},n("ai:aiLoginFlow.banner.collapsed.button")))):null};Ie.defaultProps={"data-componentid":"login-flow-ai-banner"};const Ae=Ie;var Le=n(20997),Te=n(98988),Ne=n(32665),Re=n(4867);function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ke=n(2641),Ue=n(43003),Fe=n.n(Ue),Pe={};Pe.styleTagTransform=ge(),Pe.setAttributes=pe(),Pe.insert=ue().bind(null,"head"),Pe.domAPI=ce(),Pe.insertStyleElement=fe();re()(Fe(),Pe);Fe()&&Fe().locals&&Fe().locals;function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const De=function(e){var t=e.traceId,n=(0,r.$)().t,c=(0,l.I0)(),d=(0,ke.Uf)(),p=(0,Y.Z)(),m=p.setGeneratingLoginFlow,f=p.setLoginFlowGenerationCompleted,h=(0,ke.q$)(),g=function(e){var t=Ze((0,a.useState)(!0),2),n=t[0],o=t[1],r=(0,Y.Z)().setLoginFlowGenerationCompleted,l={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,url:"".concat(u.h.getState().config.endpoints.applications,"/loginflow/status/").concat(e)},c=(0,s.Z)(l,{shouldRetryOnError:!1}),d=c.data,p=c.error,m=c.isValidating,f=c.mutate;return(0,a.useEffect)((function(){var e,t=setInterval((function(){var e;m||null!=d&&null!==(e=d.status)&&void 0!==e&&e.login_flow_generation_complete||f()}),1e3);return null!=d&&null!==(e=d.status)&&void 0!==e&&e.login_flow_generation_complete?(o(!1),clearInterval(t),r(!0)):o(!0),function(){return clearInterval(t)}}),[d,m]),{data:d,error:p,isLoading:n,isValidating:m,mutate:f}}(t),b=g.data,y=g.error,E=We((0,a.useState)(0),2),S=E[0],w=E[1],C=We((0,a.useState)(0),2),O=C[0],L=C[1],T=ke.bV;(0,a.useEffect)((function(){var e=N(),t=setInterval((function(){w((function(n){return n>=e?(clearInterval(t),e):n+1}))}),ke.VR);return function(){return clearInterval(t)}}),[b]),(0,a.useEffect)((function(){var e=setInterval((function(){L((O+1)%h.length)}),ke.r);return function(){return clearInterval(e)}}),[O]),(0,a.useEffect)((function(){y&&c((0,o.V_)({description:n("ai:aiLoginFlow.notifications.generateStatusError.description"),level:i.QU.ERROR,message:n("ai:aiLoginFlow.notifications.generateStatusError.message")}))}),[y]);var N=function(){if(!b)return 0;var e=0;return Object.entries(b.status).forEach((function(t){var n=We(t,2),i=n[0];n[1]&&T[i]>e&&(e=T[i])})),e};return a.createElement(v.Z,{className:"login-flow-ai-loading-screen-container"},a.createElement(v.Z,{className:"login-flow-ai-loading-screen-illustration-container"},a.createElement(Re.r,null)),a.createElement(v.Z,{className:"login-flow-ai-loading-screen-text-container"},a.createElement(v.Z,{className:"mb-5"},a.createElement(I.Z,{variant:"h5",className:"login-flow-ai-loading-screen-heading"},n("ai:aiLoginFlow.didYouKnow")),a.createElement(I.Z,{className:"login-flow-ai-loading-screen-sub-heading"},h[O])),a.createElement(v.Z,{sx:{width:1}},a.createElement(v.Z,{className:"login-flow-ai-loading-screen-loading-container"},a.createElement(I.Z,{className:"login-flow-ai-loading-screen-loading-state"},function(){if(!b)return n("ai:aiLoginFlow.screens.loading.states.0");var e="ai:aiLoginFlow.screens.loading.states.0";return Object.entries(b.status).forEach((function(t){var n=We(t,2),i=n[0];n[1]&&d[i]&&(e=d[i])})),n(e)}()),a.createElement(Ne.Z,{title:"Cancel",placement:"top"},a.createElement(Le.Z,{onClick:function(){m(!1),f(!1)}},a.createElement(A.DX,null)))),a.createElement(Te.Z,{variant:"buffer",value:S,valueBuffer:S+1}))))};var Qe=n(8883),_e=function(e){return e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.IN_PROGRESS="IN_PROGRESS",e}({});function je(e){return function(e){if(Array.isArray(e))return Ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||Ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const He=function(e){var t=e.children,n=(0,r.$)().t,d=(0,l.I0)(),p=(0,c.z)().isSubOrganization,m=(0,l.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),f=Be((0,a.useState)(void 0),2),h=f[0],g=f[1],b=Be((0,a.useState)(),2),v=b[0],y=b[1],E=Be((0,a.useState)(!1),2),S=E[0],w=E[1],C=Be((0,a.useState)(!1),2),O=C[0],I=C[1],A=Be((0,a.useState)([]),2),L=A[0],T=A[1],N=Be((0,a.useState)(""),2),R=N[0],Z=N[1],x=Be((0,a.useState)(oe.FULL),2),k=x[0],U=x[1],F=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,url:"".concat(u.h.getState().config.endpoints.applications,"/loginflow/result/").concat(e)},o=(0,s.Z)(t?n:null,{shouldRetryOnError:!1}),r=o.data,l=o.error,c=o.isLoading,d=o.isValidating,p=o.mutate;return(0,a.useEffect)((function(){t&&p()}),[t]),{data:r,error:l,isLoading:c,isValidating:d,mutate:p}}(v,O),P=F.data,W=F.error;(0,a.useEffect)((function(){if(W)return w(!1),I(!1),void d((0,o.V_)({description:n("ai:aiLoginFlow.notifications.generateResultError.description"),level:i.QU.ERROR,message:n("ai:aiLoginFlow.notifications.generateResultError.message")}));if((null==P?void 0:P.status)!==_e.FAILED)(null==P?void 0:P.status)===_e.COMPLETED&&"type"in P.data&&M(P.data);else{w(!1),I(!1);var e="error"in P.data?P.data.error:n("ai:aiLoginFlow.notifications.generateResultFailed.message");d((0,o.V_)({description:e,level:i.QU.ERROR,message:n("ai:aiLoginFlow.notifications.generateResultFailed.message")}))}}),[P,O]);var M=function(e){g(e),w(!1),I(!1)};return a.createElement(Qe.Z.Provider,{value:{aiGeneratedLoginFlow:h,bannerState:k,handleGenerate:M,isGeneratingLoginFlow:S,loginFlowGenerationCompleted:O,operationId:v,promptHistory:L,setBannerState:U,setGeneratingLoginFlow:w,setLoginFlowGenerationCompleted:I,setOperationId:y,setUserPrompt:Z,updatePromptHistory:function(e){L.includes(e)?T([e].concat(je(L.filter((function(t){return t!==e}))))):T([e].concat(je(L.slice(0,2))))},userPrompt:R}},S?a.createElement(De,{traceId:v}):a.createElement(a.Fragment,null,!(null!=m&&m.includes(ke.X7))&&!p()&&a.createElement("div",{className:"mb-2"},a.createElement(Ae,null)),t))}},31593:e=>{e.exports=[[e.id,".client-attestation-info-alert{margin-bottom:1rem}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkdmFuY2VkLWNvbmZpZ3VyYXRpb25zLWZvcm0uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQkFBK0Isa0JBQWtCIiwiZmlsZSI6ImFkdmFuY2VkLWNvbmZpZ3VyYXRpb25zLWZvcm0uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jbGllbnQtYXR0ZXN0YXRpb24taW5mby1hbGVydHttYXJnaW4tYm90dG9tOjFyZW19Il19 */","",""]]},29629:e=>{e.exports=[[e.id,".passkey-adaptive-script-accordion-content{padding-left:calc(1.25em + .25rem) !important}.passkey-adaptive-script-accordion-content .code-segment{margin-top:10px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ24taW4tbWV0aG9kLWN1c3RvbWl6YXRpb24uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwyQ0FBMkMsNkNBQTZDLENBQUMseURBQXlELGVBQWUiLCJmaWxlIjoic2lnbi1pbi1tZXRob2QtY3VzdG9taXphdGlvbi5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBhc3NrZXktYWRhcHRpdmUtc2NyaXB0LWFjY29yZGlvbi1jb250ZW50e3BhZGRpbmctbGVmdDpjYWxjKDEuMjVlbSArIC4yNXJlbSkgIWltcG9ydGFudH0ucGFzc2tleS1hZGFwdGl2ZS1zY3JpcHQtYWNjb3JkaW9uLWNvbnRlbnQgLmNvZGUtc2VnbWVudHttYXJnaW4tdG9wOjEwcHh9Il19 */","",""]]},17687:e=>{e.exports=[[e.id,":root{--asg-auth-flow-builder-react-flow-canvas-background: #f8f7f5;--asg-auth-flow-builder-react-flow-handle-color: #696969}.visual-editor{height:63vh}.visual-editor.with-panel{width:calc(100% - var(--asg-auth-flow-builder-side-panel-drawer-mini-width))}.visual-editor .react-flow{background-color:var(--asg-auth-flow-builder-react-flow-canvas-background)}.visual-editor .react-flow .react-flow__handle{opacity:0}.visual-editor .update-button{position:absolute;right:0;bottom:0;margin:15px;z-index:9;box-shadow:#fff 0px 0px 12px 20px}.visual-editor .sign-in-box-node .oxygen-sign-in .oxygen-sign-in-logo{max-height:32px}.visual-editor .visual-editor-info-message{position:absolute;z-index:9;width:100%;border-radius:0}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0aW9uLWZsb3ctdmlzdWFsLWVkaXRvci5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sNkRBQTZELENBQUMsd0RBQXdELENBQUMsZUFBZSxXQUFXLENBQUMsMEJBQTBCLDRFQUE0RSxDQUFDLDJCQUEyQiwwRUFBMEUsQ0FBQywrQ0FBK0MsU0FBUyxDQUFDLDhCQUE4QixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsaUNBQWlDLENBQUMsc0VBQXNFLGVBQWUsQ0FBQywyQ0FBMkMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxlQUFlIiwiZmlsZSI6ImF1dGhlbnRpY2F0aW9uLWZsb3ctdmlzdWFsLWVkaXRvci5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3R7LS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItcmVhY3QtZmxvdy1jYW52YXMtYmFja2dyb3VuZDogI2Y4ZjdmNTstLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1yZWFjdC1mbG93LWhhbmRsZS1jb2xvcjogIzY5Njk2OX0udmlzdWFsLWVkaXRvcntoZWlnaHQ6NjN2aH0udmlzdWFsLWVkaXRvci53aXRoLXBhbmVse3dpZHRoOmNhbGMoMTAwJSAtIHZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLWRyYXdlci1taW5pLXdpZHRoKSl9LnZpc3VhbC1lZGl0b3IgLnJlYWN0LWZsb3d7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItcmVhY3QtZmxvdy1jYW52YXMtYmFja2dyb3VuZCl9LnZpc3VhbC1lZGl0b3IgLnJlYWN0LWZsb3cgLnJlYWN0LWZsb3dfX2hhbmRsZXtvcGFjaXR5OjB9LnZpc3VhbC1lZGl0b3IgLnVwZGF0ZS1idXR0b257cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtib3R0b206MDttYXJnaW46MTVweDt6LWluZGV4Ojk7Ym94LXNoYWRvdzojZmZmIDBweCAwcHggMTJweCAyMHB4fS52aXN1YWwtZWRpdG9yIC5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tbG9nb3ttYXgtaGVpZ2h0OjMycHh9LnZpc3VhbC1lZGl0b3IgLnZpc3VhbC1lZGl0b3ItaW5mby1tZXNzYWdle3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTt3aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6MH0iXX0= */","",""]]},35313:e=>{e.exports=[[e.id,".add-step-button-wrapper{position:absolute;font-size:12px;pointer-events:all}.add-step-button.MuiButtonBase-root{height:36px;width:36px;color:var(--oxygen-palette-common-white);background-color:var(--asg-auth-flow-builder-react-flow-handle-color);box-shadow:none}.add-step-button.MuiButtonBase-root:hover,.add-step-button.MuiButtonBase-root:active{background-color:var(--asg-auth-flow-builder-react-flow-handle-color);box-shadow:0px 3px 5px -1px rgba(0,0,0,.2),0px 6px 10px 0px rgba(0,0,0,.14),0px 1px 18px 0px rgba(0,0,0,.12)}.add-step-button.MuiButtonBase-root .oxygen-icon{width:20px;height:20px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtYWRkaXRpb24tZWRnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHlCQUF5QixpQkFBaUIsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsb0NBQW9DLFdBQVcsQ0FBQyxVQUFVLENBQUMsd0NBQXdDLENBQUMscUVBQXFFLENBQUMsZUFBZSxDQUFDLHFGQUFxRixxRUFBcUUsQ0FBQyw0R0FBNEcsQ0FBQyxpREFBaUQsVUFBVSxDQUFDLFdBQVciLCJmaWxlIjoic3RlcC1hZGRpdGlvbi1lZGdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWRkLXN0ZXAtYnV0dG9uLXdyYXBwZXJ7cG9zaXRpb246YWJzb2x1dGU7Zm9udC1zaXplOjEycHg7cG9pbnRlci1ldmVudHM6YWxsfS5hZGQtc3RlcC1idXR0b24uTXVpQnV0dG9uQmFzZS1yb290e2hlaWdodDozNnB4O3dpZHRoOjM2cHg7Y29sb3I6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtY29tbW9uLXdoaXRlKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1yZWFjdC1mbG93LWhhbmRsZS1jb2xvcik7Ym94LXNoYWRvdzpub25lfS5hZGQtc3RlcC1idXR0b24uTXVpQnV0dG9uQmFzZS1yb290OmhvdmVyLC5hZGQtc3RlcC1idXR0b24uTXVpQnV0dG9uQmFzZS1yb290OmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1yZWFjdC1mbG93LWhhbmRsZS1jb2xvcik7Ym94LXNoYWRvdzowcHggM3B4IDVweCAtMXB4IHJnYmEoMCwwLDAsLjIpLDBweCA2cHggMTBweCAwcHggcmdiYSgwLDAsMCwuMTQpLDBweCAxcHggMThweCAwcHggcmdiYSgwLDAsMCwuMTIpfS5hZGQtc3RlcC1idXR0b24uTXVpQnV0dG9uQmFzZS1yb290IC5veHlnZW4taWNvbnt3aWR0aDoyMHB4O2hlaWdodDoyMHB4fSJdfQ== */","",""]]},54664:e=>{e.exports=[[e.id,".done-node.MuiFab-root{pointer-events:none;box-shadow:none;color:var(--oxygen-palette-common-white);background-color:rgba(0,0,0,0);display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;border:3px solid var(--oxygen-customComponents-Chip-properties-new-background)}.done-node.MuiFab-root .oxygen-typography{margin-left:5px;color:var(--oxygen-palette-common-white)}.done-node.MuiFab-root svg{height:30px;width:30px;stroke:var(--oxygen-customComponents-Chip-properties-new-background)}.done-node.MuiFab-root svg path{fill:var(--oxygen-customComponents-Chip-properties-new-background)}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbmUtbm9kZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVCQUF1QixtQkFBbUIsQ0FBQyxlQUFlLENBQUMsd0NBQXdDLENBQUMsOEJBQThCLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLHNCQUFzQixDQUFDLGtCQUFrQixDQUFDLDhFQUE4RSxDQUFDLDBDQUEwQyxlQUFlLENBQUMsd0NBQXdDLENBQUMsMkJBQTJCLFdBQVcsQ0FBQyxVQUFVLENBQUMsb0VBQW9FLENBQUMsZ0NBQWdDLGtFQUFrRSIsImZpbGUiOiJkb25lLW5vZGUuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kb25lLW5vZGUuTXVpRmFiLXJvb3R7cG9pbnRlci1ldmVudHM6bm9uZTtib3gtc2hhZG93Om5vbmU7Y29sb3I6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtY29tbW9uLXdoaXRlKTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMCk7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlcjozcHggc29saWQgdmFyKC0tb3h5Z2VuLWN1c3RvbUNvbXBvbmVudHMtQ2hpcC1wcm9wZXJ0aWVzLW5ldy1iYWNrZ3JvdW5kKX0uZG9uZS1ub2RlLk11aUZhYi1yb290IC5veHlnZW4tdHlwb2dyYXBoeXttYXJnaW4tbGVmdDo1cHg7Y29sb3I6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtY29tbW9uLXdoaXRlKX0uZG9uZS1ub2RlLk11aUZhYi1yb290IHN2Z3toZWlnaHQ6MzBweDt3aWR0aDozMHB4O3N0cm9rZTp2YXIoLS1veHlnZW4tY3VzdG9tQ29tcG9uZW50cy1DaGlwLXByb3BlcnRpZXMtbmV3LWJhY2tncm91bmQpfS5kb25lLW5vZGUuTXVpRmFiLXJvb3Qgc3ZnIHBhdGh7ZmlsbDp2YXIoLS1veHlnZW4tY3VzdG9tQ29tcG9uZW50cy1DaGlwLXByb3BlcnRpZXMtbmV3LWJhY2tncm91bmQpfSJdfQ== */","",""]]},85754:e=>{e.exports=[[e.id,":root{--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border: 2px dashed var(--oxygen-palette-divider)}.sign-in-box-node .oxygen-sign-in{display:flex;flex-flow:column nowrap;align-content:center;justify-content:center;align-items:center;text-align:left}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-box{padding:32px;width:350px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-logo{max-height:50px;margin-bottom:30px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-header{margin-bottom:32px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-sub-header{margin-bottom:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-text-field{margin-bottom:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-cta{margin:16px 0}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-sign-up-link{font-size:14px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-sign-up-link-action{margin-left:5px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options{margin-top:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button{position:absolute;z-index:999;right:29px;margin-top:-8px;background:#fff;width:20px;border:1px solid var(--oxygen-palette-divider);height:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button svg{fill:var(--oxygen-palette-text-secondary)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button:hover{box-shadow:var(--oxygen-shadows-0)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option:not(:last-child){margin-bottom:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button{background:var(--oxygen-palette-common-white);color:var(--oxygen-palette-common-black);width:100%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 1px 0 rgba(0,0,0,.12),0 1px 1px 0 rgba(0,0,0,.24)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button:hover{color:rgba(0,0,0,.8)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button .oxygen-sign-in-option-image{height:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button.oxygen-sign-in-option-add{background:rgba(0,0,0,0);box-shadow:none;border:var(--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border);animation:pulsing-success 1500ms cubic-bezier(0, 0, 0.2, 1) infinite}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button.oxygen-sign-in-option-add .pulsating-badge{margin-left:14px}.sign-in-box-node .remove-button{position:absolute;z-index:999;right:-12px;margin-top:-10px;background:#fff;border:1px solid var(--oxygen-palette-divider);width:25px;height:25px}.sign-in-box-node .remove-button svg{fill:var(--oxygen-palette-text-secondary)}.sign-in-box-node .remove-button:hover{box-shadow:var(--oxygen-shadows-0)}.sign-in-box-node .additional-behaviors{margin-top:15px}.sign-in-box-node .step-id{margin-bottom:10px}@keyframes pulsing-success{0%{box-shadow:0 0 0 0 rgba(76,175,80,.5)}70%{box-shadow:0 0 0 8px rgba(76,175,80,0)}100%{box-shadow:0 0 0 0 rgba(76,175,80,0)}}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls{display:flex;flex-direction:row;justify-content:flex-end;gap:10px;margin-right:-10px;margin-left:-10px;margin-bottom:10px}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls .action-button{width:20px;height:20px}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls .action-button svg{fill:var(--oxygen-palette-text-secondary)}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-control-fields{border:var(--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border);padding:10px 10px 0 10px;margin-right:-10px;margin-left:-10px}.totp-fragment .pin-code-input-fields,.sms-otp-fragment .pin-code-input-fields{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;gap:12px;text-align:center}.totp-fragment .pin-code-input-fields .MuiInputBase-input,.sms-otp-fragment .pin-code-input-fields .MuiInputBase-input{text-align:center}.email-otp-fragment .otp-input .MuiFormLabel-root{text-wrap:wrap}.sms-otp-fragment .oxygen-sign-in-action-group .oxygen-sign-in-cta:first-child,.email-otp-fragment .oxygen-sign-in-action-group .oxygen-sign-in-cta:first-child{margin-bottom:0px}.active-sessions-limit-fragment table,.active-sessions-limit-fragment th,.active-sessions-limit-fragment td{border:1px solid var(--oxygen-palette-divider);border-collapse:collapse;border-style:inset;text-align:center;font-size:1rem}.active-sessions-limit-fragment table{width:100%;margin-bottom:10px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ24taW4tYm94LW5vZGUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLDRHQUE0RyxDQUFDLGtDQUFrQyxZQUFZLENBQUMsdUJBQXVCLENBQUMsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLHNEQUFzRCxZQUFZLENBQUMsV0FBVyxDQUFDLHVEQUF1RCxlQUFlLENBQUMsa0JBQWtCLENBQUMseURBQXlELGtCQUFrQixDQUFDLDZEQUE2RCxrQkFBa0IsQ0FBQywwRUFBMEUsa0JBQWtCLENBQUMsMkVBQTJFLGFBQWEsQ0FBQyxvRkFBb0YsY0FBYyxDQUFDLDJGQUEyRixlQUFlLENBQUMsMERBQTBELGVBQWUsQ0FBQyxnR0FBZ0csaUJBQWlCLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyw4Q0FBOEMsQ0FBQyxXQUFXLENBQUMsb0dBQW9HLHlDQUF5QyxDQUFDLHNHQUFzRyxrQ0FBa0MsQ0FBQyxrR0FBa0csa0JBQWtCLENBQUMseUVBQXlFLDZDQUE2QyxDQUFDLHdDQUF3QyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsa0JBQWtCLENBQUMsc0JBQXNCLENBQUMsZ0VBQWdFLENBQUMsK0VBQStFLG9CQUFvQixDQUFDLHNHQUFzRyxXQUFXLENBQUMsbUdBQW1HLHdCQUF3QixDQUFDLGVBQWUsQ0FBQyw4RUFBOEUsQ0FBQyxvRUFBb0UsQ0FBQyxvSEFBb0gsZ0JBQWdCLENBQUMsaUNBQWlDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLDhDQUE4QyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMscUNBQXFDLHlDQUF5QyxDQUFDLHVDQUF1QyxrQ0FBa0MsQ0FBQyx3Q0FBd0MsZUFBZSxDQUFDLDJCQUEyQixrQkFBa0IsQ0FBQywyQkFBMkIsR0FBRyxxQ0FBcUMsQ0FBQyxJQUFJLHNDQUFzQyxDQUFDLEtBQUssb0NBQW9DLENBQUMsQ0FBQyxzRUFBc0UsWUFBWSxDQUFDLGtCQUFrQixDQUFDLHdCQUF3QixDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxxRkFBcUYsVUFBVSxDQUFDLFdBQVcsQ0FBQyx5RkFBeUYseUNBQXlDLENBQUMsNEVBQTRFLDhFQUE4RSxDQUFDLHdCQUF3QixDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLCtFQUErRSxZQUFZLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLHVIQUF1SCxpQkFBaUIsQ0FBQyxrREFBa0QsY0FBYyxDQUFDLGdLQUFnSyxpQkFBaUIsQ0FBQyw0R0FBNEcsOENBQThDLENBQUMsd0JBQXdCLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsY0FBYyxDQUFDLHNDQUFzQyxVQUFVLENBQUMsa0JBQWtCIiwiZmlsZSI6InNpZ24taW4tYm94LW5vZGUuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpyb290ey0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLWZsb3dzLWJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xzLWJvcmRlcjogMnB4IGRhc2hlZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKX0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW57ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW4gbm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3RleHQtYWxpZ246bGVmdH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLWJveHtwYWRkaW5nOjMycHg7d2lkdGg6MzUwcHh9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1sb2dve21heC1oZWlnaHQ6NTBweDttYXJnaW4tYm90dG9tOjMwcHh9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1oZWFkZXJ7bWFyZ2luLWJvdHRvbTozMnB4fS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tc3ViLWhlYWRlcnttYXJnaW4tYm90dG9tOjE2cHh9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1mb3JtIC5veHlnZW4tdGV4dC1maWVsZHttYXJnaW4tYm90dG9tOjIwcHh9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1mb3JtIC5veHlnZW4tc2lnbi1pbi1jdGF7bWFyZ2luOjE2cHggMH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLWZvcm0gLm94eWdlbi1zaWduLWluLXNpZ24tdXAtbGlua3tmb250LXNpemU6MTRweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLWZvcm0gLm94eWdlbi1zaWduLWluLXNpZ24tdXAtbGluay1hY3Rpb257bWFyZ2luLWxlZnQ6NXB4fS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tb3B0aW9uc3ttYXJnaW4tdG9wOjE2cHh9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1vcHRpb25zIC5veHlnZW4tc2lnbi1pbi1vcHRpb24gLnJlbW92ZS1idXR0b257cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDo5OTk7cmlnaHQ6MjlweDttYXJnaW4tdG9wOi04cHg7YmFja2dyb3VuZDojZmZmO3dpZHRoOjIwcHg7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKTtoZWlnaHQ6MjBweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1zaWduLWluLW9wdGlvbiAucmVtb3ZlLWJ1dHRvbiBzdmd7ZmlsbDp2YXIoLS1veHlnZW4tcGFsZXR0ZS10ZXh0LXNlY29uZGFyeSl9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1vcHRpb25zIC5veHlnZW4tc2lnbi1pbi1vcHRpb24gLnJlbW92ZS1idXR0b246aG92ZXJ7Ym94LXNoYWRvdzp2YXIoLS1veHlnZW4tc2hhZG93cy0wKX0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1zaWduLWluLW9wdGlvbjpub3QoOmxhc3QtY2hpbGQpe21hcmdpbi1ib3R0b206MTZweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1idXR0b257YmFja2dyb3VuZDp2YXIoLS1veHlnZW4tcGFsZXR0ZS1jb21tb24td2hpdGUpO2NvbG9yOnZhcigtLW94eWdlbi1wYWxldHRlLWNvbW1vbi1ibGFjayk7d2lkdGg6MTAwJTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7Ym94LXNoYWRvdzowIDAgMXB4IDAgcmdiYSgwLDAsMCwuMTIpLDAgMXB4IDFweCAwIHJnYmEoMCwwLDAsLjI0KX0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1idXR0b246aG92ZXJ7Y29sb3I6cmdiYSgwLDAsMCwuOCl9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1vcHRpb25zIC5veHlnZW4tYnV0dG9uIC5veHlnZW4tc2lnbi1pbi1vcHRpb24taW1hZ2V7aGVpZ2h0OjIwcHh9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1vcHRpb25zIC5veHlnZW4tYnV0dG9uLm94eWdlbi1zaWduLWluLW9wdGlvbi1hZGR7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApO2JveC1zaGFkb3c6bm9uZTtib3JkZXI6dmFyKC0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLWZsb3dzLWJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xzLWJvcmRlcik7YW5pbWF0aW9uOnB1bHNpbmctc3VjY2VzcyAxNTAwbXMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSkgaW5maW5pdGV9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1vcHRpb25zIC5veHlnZW4tYnV0dG9uLm94eWdlbi1zaWduLWluLW9wdGlvbi1hZGQgLnB1bHNhdGluZy1iYWRnZXttYXJnaW4tbGVmdDoxNHB4fS5zaWduLWluLWJveC1ub2RlIC5yZW1vdmUtYnV0dG9ue3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTk5O3JpZ2h0Oi0xMnB4O21hcmdpbi10b3A6LTEwcHg7YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7d2lkdGg6MjVweDtoZWlnaHQ6MjVweH0uc2lnbi1pbi1ib3gtbm9kZSAucmVtb3ZlLWJ1dHRvbiBzdmd7ZmlsbDp2YXIoLS1veHlnZW4tcGFsZXR0ZS10ZXh0LXNlY29uZGFyeSl9LnNpZ24taW4tYm94LW5vZGUgLnJlbW92ZS1idXR0b246aG92ZXJ7Ym94LXNoYWRvdzp2YXIoLS1veHlnZW4tc2hhZG93cy0wKX0uc2lnbi1pbi1ib3gtbm9kZSAuYWRkaXRpb25hbC1iZWhhdmlvcnN7bWFyZ2luLXRvcDoxNXB4fS5zaWduLWluLWJveC1ub2RlIC5zdGVwLWlke21hcmdpbi1ib3R0b206MTBweH1Aa2V5ZnJhbWVzIHB1bHNpbmctc3VjY2Vzc3swJXtib3gtc2hhZG93OjAgMCAwIDAgcmdiYSg3NiwxNzUsODAsLjUpfTcwJXtib3gtc2hhZG93OjAgMCAwIDhweCByZ2JhKDc2LDE3NSw4MCwwKX0xMDAle2JveC1zaGFkb3c6MCAwIDAgMCByZ2JhKDc2LDE3NSw4MCwwKX19LmJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xzLXdyYXBwZXIgLmJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kO2dhcDoxMHB4O21hcmdpbi1yaWdodDotMTBweDttYXJnaW4tbGVmdDotMTBweDttYXJnaW4tYm90dG9tOjEwcHh9LmJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xzLXdyYXBwZXIgLmJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xzIC5hY3Rpb24tYnV0dG9ue3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9LmJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xzLXdyYXBwZXIgLmJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xzIC5hY3Rpb24tYnV0dG9uIHN2Z3tmaWxsOnZhcigtLW94eWdlbi1wYWxldHRlLXRleHQtc2Vjb25kYXJ5KX0uYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHMtd3JhcHBlciAuYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbC1maWVsZHN7Ym9yZGVyOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1mbG93cy1iYXNpYy1zaWduLWluLW9wdGlvbi1jb250cm9scy1ib3JkZXIpO3BhZGRpbmc6MTBweCAxMHB4IDAgMTBweDttYXJnaW4tcmlnaHQ6LTEwcHg7bWFyZ2luLWxlZnQ6LTEwcHh9LnRvdHAtZnJhZ21lbnQgLnBpbi1jb2RlLWlucHV0LWZpZWxkcywuc21zLW90cC1mcmFnbWVudCAucGluLWNvZGUtaW5wdXQtZmllbGRze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC13cmFwOm5vd3JhcDthbGlnbi1jb250ZW50OmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MTJweDt0ZXh0LWFsaWduOmNlbnRlcn0udG90cC1mcmFnbWVudCAucGluLWNvZGUtaW5wdXQtZmllbGRzIC5NdWlJbnB1dEJhc2UtaW5wdXQsLnNtcy1vdHAtZnJhZ21lbnQgLnBpbi1jb2RlLWlucHV0LWZpZWxkcyAuTXVpSW5wdXRCYXNlLWlucHV0e3RleHQtYWxpZ246Y2VudGVyfS5lbWFpbC1vdHAtZnJhZ21lbnQgLm90cC1pbnB1dCAuTXVpRm9ybUxhYmVsLXJvb3R7dGV4dC13cmFwOndyYXB9LnNtcy1vdHAtZnJhZ21lbnQgLm94eWdlbi1zaWduLWluLWFjdGlvbi1ncm91cCAub3h5Z2VuLXNpZ24taW4tY3RhOmZpcnN0LWNoaWxkLC5lbWFpbC1vdHAtZnJhZ21lbnQgLm94eWdlbi1zaWduLWluLWFjdGlvbi1ncm91cCAub3h5Z2VuLXNpZ24taW4tY3RhOmZpcnN0LWNoaWxke21hcmdpbi1ib3R0b206MHB4fS5hY3RpdmUtc2Vzc2lvbnMtbGltaXQtZnJhZ21lbnQgdGFibGUsLmFjdGl2ZS1zZXNzaW9ucy1saW1pdC1mcmFnbWVudCB0aCwuYWN0aXZlLXNlc3Npb25zLWxpbWl0LWZyYWdtZW50IHRke2JvcmRlcjoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zdHlsZTppbnNldDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MXJlbX0uYWN0aXZlLXNlc3Npb25zLWxpbWl0LWZyYWdtZW50IHRhYmxle3dpZHRoOjEwMCU7bWFyZ2luLWJvdHRvbToxMHB4fSJdfQ== */","",""]]},70858:e=>{e.exports=[[e.id,":root{--asg-auth-flow-builder-flows-side-panel-toolbar-height: var(--asg-auth-flow-builder-side-panel-toolbar-height);--asg-auth-flow-builder-flows-side-panel-category-heading-height: 48px}.predefined-flows-side-panel{height:inherit}.predefined-flows-side-panel .predefined-flows-side-panel-content{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-toolbar-height));border-left:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .predefined-flows-side-panel-content.full-height{height:100%}.predefined-flows-side-panel .toolbar-container{border-bottom:1px solid var(--oxygen-palette-divider);border-left:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .toolbar-container .oxygen-typography{font-weight:500}.predefined-flows-side-panel .toolbar-container .oxygen-toolbar{background-color:var(--oxygen-palette-common-white)}.predefined-flows-side-panel .predefined-flow-categories{box-shadow:none;background-color:var(--asg-auth-flow-builder-flows-side-panel-drawer-content-background);overflow:hidden;transition:height .3s ease-in-out}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category-heading{background:linear-gradient(180deg, #ffffff 0%, #f7f7f9 100%);box-shadow:inset 0px -1px 0px 0px #dee0e7,0 1px 1px 0 rgba(0,0,0,.06)}.predefined-flows-side-panel .predefined-flow-categories:not(:first-child) .predefined-flow-category-heading{border-top:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .predefined-flow-categories.expanded{height:50%}.predefined-flows-side-panel .predefined-flow-categories.expanded .MuiCollapse-root{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-category-heading-height)) !important;overflow:auto}.predefined-flows-side-panel .predefined-flow-categories.full-height{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-category-heading-height))}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category{margin-top:20px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items{display:flex;flex-wrap:wrap;margin-top:15px;flex-direction:row;gap:10px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:center;border:1px solid var(--oxygen-palette-divider);border-radius:var(--oxygen-shape-borderRadius);background-color:var(--oxygen-palette-common-white)}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence.full-width{width:100%}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence:not(.no-hover):hover{cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.09) !important}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;gap:8px;padding:10px 15px;justify-content:flex-start;align-content:center;width:100%}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template{display:flex;justify-content:space-between}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .label{display:flex;flex-direction:row;align-content:center;align-items:center;gap:5px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .actions{display:flex;gap:5px;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;justify-content:center}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .actions .add-button{padding:5px;min-width:40px;border-radius:var(--oxygen-shape-borderRadius);font-size:12px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step .predefined-flow-sequence-step-option{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;gap:5px;padding:2px 8px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sK0dBQStHLENBQUMsc0VBQXNFLENBQUMsNkJBQTZCLGNBQWMsQ0FBQyxrRUFBa0UsZ0ZBQWdGLENBQUMsbURBQW1ELENBQUMsOEVBQThFLFdBQVcsQ0FBQyxnREFBZ0QscURBQXFELENBQUMsbURBQW1ELENBQUMsbUVBQW1FLGVBQWUsQ0FBQyxnRUFBZ0UsbURBQW1ELENBQUMseURBQXlELGVBQWUsQ0FBQyx3RkFBd0YsQ0FBQyxlQUFlLENBQUMsaUNBQWlDLENBQUMsMkZBQTJGLDREQUE0RCxDQUFDLHFFQUFxRSxDQUFDLDZHQUE2RyxrREFBa0QsQ0FBQyxrRUFBa0UsVUFBVSxDQUFDLG9GQUFvRixvR0FBb0csQ0FBQyxhQUFhLENBQUMscUVBQXFFLHlGQUF5RixDQUFDLG1GQUFtRixlQUFlLENBQUMsbUhBQW1ILFlBQVksQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyw2SUFBNkksWUFBWSxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLDBCQUEwQixDQUFDLGtCQUFrQixDQUFDLDhDQUE4QyxDQUFDLDhDQUE4QyxDQUFDLG1EQUFtRCxDQUFDLHdKQUF3SixVQUFVLENBQUMsa0tBQWtLLGNBQWMsQ0FBQywrQ0FBK0MsQ0FBQyw0S0FBNEssa0JBQWtCLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsMEJBQTBCLENBQUMsb0JBQW9CLENBQUMsVUFBVSxDQUFDLG1NQUFtTSxZQUFZLENBQUMsNkJBQTZCLENBQUMsME1BQTBNLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsNE1BQTRNLFlBQVksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsa0JBQWtCLENBQUMsc0JBQXNCLENBQUMsd05BQXdOLFdBQVcsQ0FBQyxjQUFjLENBQUMsOENBQThDLENBQUMsY0FBYyxDQUFDLGtOQUFrTixZQUFZLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLGVBQWUiLCJmaWxlIjoicHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6cm9vdHstLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1mbG93cy1zaWRlLXBhbmVsLXRvb2xiYXItaGVpZ2h0OiB2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC10b29sYmFyLWhlaWdodCk7LS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItZmxvd3Mtc2lkZS1wYW5lbC1jYXRlZ29yeS1oZWFkaW5nLWhlaWdodDogNDhweH0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVse2hlaWdodDppbmhlcml0fS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbC1jb250ZW50e2hlaWdodDpjYWxjKDEwMCUgLSB2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItZmxvd3Mtc2lkZS1wYW5lbC10b29sYmFyLWhlaWdodCkpO2JvcmRlci1sZWZ0OjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKX0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsIC5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwtY29udGVudC5mdWxsLWhlaWdodHtoZWlnaHQ6MTAwJX0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsIC50b29sYmFyLWNvbnRhaW5lcntib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKTtib3JkZXItbGVmdDoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcil9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAudG9vbGJhci1jb250YWluZXIgLm94eWdlbi10eXBvZ3JhcGh5e2ZvbnQtd2VpZ2h0OjUwMH0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsIC50b29sYmFyLWNvbnRhaW5lciAub3h5Z2VuLXRvb2xiYXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1veHlnZW4tcGFsZXR0ZS1jb21tb24td2hpdGUpfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVze2JveC1zaGFkb3c6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1mbG93cy1zaWRlLXBhbmVsLWRyYXdlci1jb250ZW50LWJhY2tncm91bmQpO292ZXJmbG93OmhpZGRlbjt0cmFuc2l0aW9uOmhlaWdodCAuM3MgZWFzZS1pbi1vdXR9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1oZWFkaW5ne2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDE4MGRlZywgI2ZmZmZmZiAwJSwgI2Y3ZjdmOSAxMDAlKTtib3gtc2hhZG93Omluc2V0IDBweCAtMXB4IDBweCAwcHggI2RlZTBlNywwIDFweCAxcHggMCByZ2JhKDAsMCwwLC4wNil9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXM6bm90KDpmaXJzdC1jaGlsZCkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1oZWFkaW5ne2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLW94eWdlbi1wYWxldHRlLWRpdmlkZXIpfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzLmV4cGFuZGVke2hlaWdodDo1MCV9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMuZXhwYW5kZWQgLk11aUNvbGxhcHNlLXJvb3R7aGVpZ2h0OmNhbGMoMTAwJSAtIHZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1mbG93cy1zaWRlLXBhbmVsLWNhdGVnb3J5LWhlYWRpbmctaGVpZ2h0KSkgIWltcG9ydGFudDtvdmVyZmxvdzphdXRvfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzLmZ1bGwtaGVpZ2h0e2hlaWdodDpjYWxjKDEwMCUgLSB2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItZmxvd3Mtc2lkZS1wYW5lbC1jYXRlZ29yeS1oZWFkaW5nLWhlaWdodCkpfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnl7bWFyZ2luLXRvcDoyMHB4fS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtc3tkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7bWFyZ2luLXRvcDoxNXB4O2ZsZXgtZGlyZWN0aW9uOnJvdztnYXA6MTBweH0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcmllcyAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3J5IC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnktaXRlbXMgLnByZWRlZmluZWQtZmxvdy1zZXF1ZW5jZXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDpub3dyYXA7YWxpZ24tY29udGVudDpjZW50ZXI7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlcjoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7Ym9yZGVyLXJhZGl1czp2YXIoLS1veHlnZW4tc2hhcGUtYm9yZGVyUmFkaXVzKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW94eWdlbi1wYWxldHRlLWNvbW1vbi13aGl0ZSl9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeSAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3J5LWl0ZW1zIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2UuZnVsbC13aWR0aHt3aWR0aDoxMDAlfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlOm5vdCgubm8taG92ZXIpOmhvdmVye2N1cnNvcjpwb2ludGVyO2JveC1zaGFkb3c6MCAycHggOHB4IHJnYmEoMCwwLDAsLjA5KSAhaW1wb3J0YW50fS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcHthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6d3JhcDtnYXA6OHB4O3BhZGRpbmc6MTBweCAxNXB4O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O2FsaWduLWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCV9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeSAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3J5LWl0ZW1zIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2UgLnByZWRlZmluZWQtZmxvdy1zZXF1ZW5jZS1zdGVwLmFkYXB0aXZlLWF1dGgtdGVtcGxhdGV7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcC5hZGFwdGl2ZS1hdXRoLXRlbXBsYXRlIC5sYWJlbHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6NXB4fS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcC5hZGFwdGl2ZS1hdXRoLXRlbXBsYXRlIC5hY3Rpb25ze2Rpc3BsYXk6ZmxleDtnYXA6NXB4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcC5hZGFwdGl2ZS1hdXRoLXRlbXBsYXRlIC5hY3Rpb25zIC5hZGQtYnV0dG9ue3BhZGRpbmc6NXB4O21pbi13aWR0aDo0MHB4O2JvcmRlci1yYWRpdXM6dmFyKC0tb3h5Z2VuLXNoYXBlLWJvcmRlclJhZGl1cyk7Zm9udC1zaXplOjEycHh9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeSAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3J5LWl0ZW1zIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2UgLnByZWRlZmluZWQtZmxvdy1zZXF1ZW5jZS1zdGVwIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcC1vcHRpb257ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo1cHg7cGFkZGluZzoycHggOHB4fSJdfQ== */","",""]]},21356:e=>{e.exports=[[e.id,".script-based-flow-switch .oxygen-accordion{border-bottom-right-radius:0;border-top-right-radius:0;border-top-left-radius:0;border-top:1px solid var(--oxygen-palette-divider)}.script-based-flow-switch .script-based-flow-switch-accordion-summary{display:flex;align-items:center}.script-based-flow-switch .script-based-flow-switch-accordion-summary .script-based-flow-switch-text{margin-left:10px}.script-based-flow-switch .script-based-flow-switch-accordion-details{border:1px solid var(--oxygen-palette-divider);padding-right:0;background:#f7f7f7;border-radius:8px;margin-right:10px;margin-left:10px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC1iYXNlZC1mbG93LXN3aXRjaC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDRDQUE0Qyw0QkFBNEIsQ0FBQyx5QkFBeUIsQ0FBQyx3QkFBd0IsQ0FBQyxrREFBa0QsQ0FBQyxzRUFBc0UsWUFBWSxDQUFDLGtCQUFrQixDQUFDLHFHQUFxRyxnQkFBZ0IsQ0FBQyxzRUFBc0UsOENBQThDLENBQUMsZUFBZSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLGdCQUFnQiIsImZpbGUiOiJzY3JpcHQtYmFzZWQtZmxvdy1zd2l0Y2guc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zY3JpcHQtYmFzZWQtZmxvdy1zd2l0Y2ggLm94eWdlbi1hY2NvcmRpb257Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKX0uc2NyaXB0LWJhc2VkLWZsb3ctc3dpdGNoIC5zY3JpcHQtYmFzZWQtZmxvdy1zd2l0Y2gtYWNjb3JkaW9uLXN1bW1hcnl7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2NyaXB0LWJhc2VkLWZsb3ctc3dpdGNoIC5zY3JpcHQtYmFzZWQtZmxvdy1zd2l0Y2gtYWNjb3JkaW9uLXN1bW1hcnkgLnNjcmlwdC1iYXNlZC1mbG93LXN3aXRjaC10ZXh0e21hcmdpbi1sZWZ0OjEwcHh9LnNjcmlwdC1iYXNlZC1mbG93LXN3aXRjaCAuc2NyaXB0LWJhc2VkLWZsb3ctc3dpdGNoLWFjY29yZGlvbi1kZXRhaWxze2JvcmRlcjoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7cGFkZGluZy1yaWdodDowO2JhY2tncm91bmQ6I2Y3ZjdmNztib3JkZXItcmFkaXVzOjhweDttYXJnaW4tcmlnaHQ6MTBweDttYXJnaW4tbGVmdDoxMHB4fSJdfQ== */","",""]]},16274:e=>{e.exports=[[e.id,".script-editor-panel{height:100%;width:calc(100% - 16px)}.script-editor-panel .script-editor{border:1px solid var(--oxygen-palette-divider);height:500px}.script-editor-toolbar-container .oxygen-toolbar{display:flex;justify-content:space-between;align-items:center;align-content:center;flex-wrap:nowrap;flex-direction:row;padding-left:0;padding-right:0}.script-editor-toolbar-container .oxygen-toolbar .actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;gap:10px}.script-editor-toolbar-container .oxygen-toolbar .actions .editor-theme-select .MuiSelect-select{padding:6px 15px;min-width:150px}.full-screen-script-editor-container{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:95%;height:90%;padding:32px}.full-screen-script-editor-container .script-editor-toolbar-container{background-color:var(--oxygen-palette-common-white);padding-left:15px;padding-right:15px;border-top-right-radius:var(--oxygen-shape-borderRadius);border-top-left-radius:var(--oxygen-shape-borderRadius)}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC1lZGl0b3ItcGFuZWwuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxQkFBcUIsV0FBVyxDQUFDLHVCQUF1QixDQUFDLG9DQUFvQyw4Q0FBOEMsQ0FBQyxZQUFZLENBQUMsaURBQWlELFlBQVksQ0FBQyw2QkFBNkIsQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLDBEQUEwRCxZQUFZLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLGlHQUFpRyxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMscUNBQXFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsK0JBQStCLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsc0VBQXNFLG1EQUFtRCxDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLHdEQUF3RCxDQUFDLHVEQUF1RCIsImZpbGUiOiJzY3JpcHQtZWRpdG9yLXBhbmVsLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2NyaXB0LWVkaXRvci1wYW5lbHtoZWlnaHQ6MTAwJTt3aWR0aDpjYWxjKDEwMCUgLSAxNnB4KX0uc2NyaXB0LWVkaXRvci1wYW5lbCAuc2NyaXB0LWVkaXRvcntib3JkZXI6MXB4IHNvbGlkIHZhcigtLW94eWdlbi1wYWxldHRlLWRpdmlkZXIpO2hlaWdodDo1MDBweH0uc2NyaXB0LWVkaXRvci10b29sYmFyLWNvbnRhaW5lciAub3h5Z2VuLXRvb2xiYXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjthbGlnbi1jb250ZW50OmNlbnRlcjtmbGV4LXdyYXA6bm93cmFwO2ZsZXgtZGlyZWN0aW9uOnJvdztwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjB9LnNjcmlwdC1lZGl0b3ItdG9vbGJhci1jb250YWluZXIgLm94eWdlbi10b29sYmFyIC5hY3Rpb25ze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC13cmFwOm5vd3JhcDthbGlnbi1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEwcHh9LnNjcmlwdC1lZGl0b3ItdG9vbGJhci1jb250YWluZXIgLm94eWdlbi10b29sYmFyIC5hY3Rpb25zIC5lZGl0b3ItdGhlbWUtc2VsZWN0IC5NdWlTZWxlY3Qtc2VsZWN0e3BhZGRpbmc6NnB4IDE1cHg7bWluLXdpZHRoOjE1MHB4fS5mdWxsLXNjcmVlbi1zY3JpcHQtZWRpdG9yLWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwgLTUwJSk7d2lkdGg6OTUlO2hlaWdodDo5MCU7cGFkZGluZzozMnB4fS5mdWxsLXNjcmVlbi1zY3JpcHQtZWRpdG9yLWNvbnRhaW5lciAuc2NyaXB0LWVkaXRvci10b29sYmFyLWNvbnRhaW5lcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW94eWdlbi1wYWxldHRlLWNvbW1vbi13aGl0ZSk7cGFkZGluZy1sZWZ0OjE1cHg7cGFkZGluZy1yaWdodDoxNXB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOnZhcigtLW94eWdlbi1zaGFwZS1ib3JkZXJSYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6dmFyKC0tb3h5Z2VuLXNoYXBlLWJvcmRlclJhZGl1cyl9Il19 */","",""]]},54709:e=>{e.exports=[[e.id,".secret-selection-menu-trigger{border-radius:var(--oxygen-shape-borderRadius);padding:3px 15px}.create-new-secret-dropdown{box-shadow:#cbcedb 0px 8px 24px;margin-top:8px}.create-new-secret-dropdown .oxygen-list{padding:0}.create-new-secret-dropdown .oxygen-list .oxygen-list-item{max-width:300px;gap:10px}.create-new-secret-dropdown .oxygen-list .oxygen-list-item .MuiListItemText-root{margin-right:20px}.create-new-secret-dropdown .oxygen-list .create-new-secret-button{border-radius:0;min-height:50px}.create-new-secret-dropdown .create-new-secret-dropdown-empty-placeholder .oxygen-divider{margin:10px 0}.create-new-secret-dropdown .create-new-secret-dropdown-item-loading{min-height:50px;justify-content:center}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlY3JldC1zZWxlY3Rpb24tZHJvcGRvd24uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQkFBK0IsOENBQThDLENBQUMsZ0JBQWdCLENBQUMsNEJBQTRCLCtCQUErQixDQUFDLGNBQWMsQ0FBQyx5Q0FBeUMsU0FBUyxDQUFDLDJEQUEyRCxlQUFlLENBQUMsUUFBUSxDQUFDLGlGQUFpRixpQkFBaUIsQ0FBQyxtRUFBbUUsZUFBZSxDQUFDLGVBQWUsQ0FBQywwRkFBMEYsYUFBYSxDQUFDLHFFQUFxRSxlQUFlLENBQUMsc0JBQXNCIiwiZmlsZSI6InNlY3JldC1zZWxlY3Rpb24tZHJvcGRvd24uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zZWNyZXQtc2VsZWN0aW9uLW1lbnUtdHJpZ2dlcntib3JkZXItcmFkaXVzOnZhcigtLW94eWdlbi1zaGFwZS1ib3JkZXJSYWRpdXMpO3BhZGRpbmc6M3B4IDE1cHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3due2JveC1zaGFkb3c6I2NiY2VkYiAwcHggOHB4IDI0cHg7bWFyZ2luLXRvcDo4cHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5veHlnZW4tbGlzdHtwYWRkaW5nOjB9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5veHlnZW4tbGlzdCAub3h5Z2VuLWxpc3QtaXRlbXttYXgtd2lkdGg6MzAwcHg7Z2FwOjEwcHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5veHlnZW4tbGlzdCAub3h5Z2VuLWxpc3QtaXRlbSAuTXVpTGlzdEl0ZW1UZXh0LXJvb3R7bWFyZ2luLXJpZ2h0OjIwcHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5veHlnZW4tbGlzdCAuY3JlYXRlLW5ldy1zZWNyZXQtYnV0dG9ue2JvcmRlci1yYWRpdXM6MDttaW4taGVpZ2h0OjUwcHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5jcmVhdGUtbmV3LXNlY3JldC1kcm9wZG93bi1lbXB0eS1wbGFjZWhvbGRlciAub3h5Z2VuLWRpdmlkZXJ7bWFyZ2luOjEwcHggMH0uY3JlYXRlLW5ldy1zZWNyZXQtZHJvcGRvd24gLmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duLWl0ZW0tbG9hZGluZ3ttaW4taGVpZ2h0OjUwcHg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0iXX0= */","",""]]},22393:e=>{e.exports=[[e.id,":root{--asg-auth-flow-builder-side-panel-drawer-width: 450px;--asg-auth-flow-builder-side-panel-drawer-mini-width: 32px;--asg-auth-flow-builder-side-panel-drawer-content-background: #fcfcfc;--asg-auth-flow-builder-side-panel-toolbar-height: 48px}.side-panel-drawer{width:var(--asg-auth-flow-builder-side-panel-drawer-width);flex-shrink:0;white-space:nowrap;box-sizing:border-box;border-top:1px solid var(--oxygen-palette-divider);border-right:1px solid var(--oxygen-palette-divider);border-bottom:1px solid var(--oxygen-palette-divider)}.side-panel-drawer .MuiDrawer-paper{background:var(--oxygen-palette-customComponents-Navbar-background)}.side-panel-drawer:not(.open){width:calc(var(--asg-auth-flow-builder-side-panel-drawer-mini-width) + 2px);transition:width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer:not(.open) .MuiDrawer-paper{width:calc(var(--asg-auth-flow-builder-side-panel-drawer-mini-width) + 2px);transition:width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer:not(.open) .side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron .MuiButtonBase-root svg{transform:rotate(0deg)}.side-panel-drawer-collapsible-hamburger{display:flex;align-items:center;justify-content:flex-start;padding:0 8px;min-height:var(--oxygen-customComponents-Header-properties-min-height)}.side-panel-drawer-collapsible-hamburger .oxygen-icon-button{height:48px;width:48px}.side-panel-drawer.open{width:var(--asg-auth-flow-builder-side-panel-drawer-width);transition:width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer.open .MuiDrawer-paper{width:var(--asg-auth-flow-builder-side-panel-drawer-width);transition:width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer.open .side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron svg{transform:rotate(180deg)}.side-panel-drawer-panel{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;height:100%}.side-panel-drawer-panel .side-panel-drawer-panel-controls{display:flex;background-color:var(--asg-auth-flow-builder-side-panel-drawer-content-background);flex-direction:column}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron{height:calc(var(--asg-auth-flow-builder-side-panel-toolbar-height) + 4px);display:flex;padding:8px;align-items:center}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron svg{transition:transform .3s ease}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-label{height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-label .oxygen-typography{position:absolute;transform:rotate(270deg)}.side-panel-drawer-panel .side-panel-drawer-panel-controls:hover{cursor:pointer;background-color:rgba(var(--oxygen-palette-action-activeChannel)/var(--oxygen-palette-action-hoverOpacity))}.side-panel-drawer-panel .side-panel-drawer-panel-content{background-color:var(--asg-auth-flow-builder-side-panel-drawer-content-background);height:100%}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZGUtcGFuZWwtZHJhd2VyLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxzREFBc0QsQ0FBQywwREFBMEQsQ0FBQyxxRUFBcUUsQ0FBQyx1REFBdUQsQ0FBQyxtQkFBbUIsMERBQTBELENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLHFCQUFxQixDQUFDLGtEQUFrRCxDQUFDLG9EQUFvRCxDQUFDLHFEQUFxRCxDQUFDLG9DQUFvQyxtRUFBbUUsQ0FBQyw4QkFBOEIsMkVBQTJFLENBQUMsdURBQXVELENBQUMsZUFBZSxDQUFDLCtDQUErQywyRUFBMkUsQ0FBQyx1REFBdUQsQ0FBQyxlQUFlLENBQUMsMkpBQTJKLHNCQUFzQixDQUFDLHlDQUF5QyxZQUFZLENBQUMsa0JBQWtCLENBQUMsMEJBQTBCLENBQUMsYUFBYSxDQUFDLHNFQUFzRSxDQUFDLDZEQUE2RCxXQUFXLENBQUMsVUFBVSxDQUFDLHdCQUF3QiwwREFBMEQsQ0FBQyx1REFBdUQsQ0FBQyxlQUFlLENBQUMseUNBQXlDLDBEQUEwRCxDQUFDLHVEQUF1RCxDQUFDLGVBQWUsQ0FBQyxpSUFBaUksd0JBQXdCLENBQUMseUJBQXlCLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQywwQkFBMEIsQ0FBQyxXQUFXLENBQUMsMkRBQTJELFlBQVksQ0FBQyxrRkFBa0YsQ0FBQyxxQkFBcUIsQ0FBQyxxR0FBcUcseUVBQXlFLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyx5R0FBeUcsNkJBQTZCLENBQUMsbUdBQW1HLFdBQVcsQ0FBQyxZQUFZLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsc0hBQXNILGlCQUFpQixDQUFDLHdCQUF3QixDQUFDLGlFQUFpRSxjQUFjLENBQUMsMkdBQTJHLENBQUMsMERBQTBELGtGQUFrRixDQUFDLFdBQVciLCJmaWxlIjoic2lkZS1wYW5lbC1kcmF3ZXIuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpyb290ey0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLXNpZGUtcGFuZWwtZHJhd2VyLXdpZHRoOiA0NTBweDstLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLWRyYXdlci1taW5pLXdpZHRoOiAzMnB4Oy0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLXNpZGUtcGFuZWwtZHJhd2VyLWNvbnRlbnQtYmFja2dyb3VuZDogI2ZjZmNmYzstLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLXRvb2xiYXItaGVpZ2h0OiA0OHB4fS5zaWRlLXBhbmVsLWRyYXdlcnt3aWR0aDp2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC1kcmF3ZXItd2lkdGgpO2ZsZXgtc2hyaW5rOjA7d2hpdGUtc3BhY2U6bm93cmFwO2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKTtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHZhcigtLW94eWdlbi1wYWxldHRlLWRpdmlkZXIpO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLW94eWdlbi1wYWxldHRlLWRpdmlkZXIpfS5zaWRlLXBhbmVsLWRyYXdlciAuTXVpRHJhd2VyLXBhcGVye2JhY2tncm91bmQ6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtY3VzdG9tQ29tcG9uZW50cy1OYXZiYXItYmFja2dyb3VuZCl9LnNpZGUtcGFuZWwtZHJhd2VyOm5vdCgub3Blbil7d2lkdGg6Y2FsYyh2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC1kcmF3ZXItbWluaS13aWR0aCkgKyAycHgpO3RyYW5zaXRpb246d2lkdGggMTk1bXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSAwbXM7b3ZlcmZsb3c6aGlkZGVufS5zaWRlLXBhbmVsLWRyYXdlcjpub3QoLm9wZW4pIC5NdWlEcmF3ZXItcGFwZXJ7d2lkdGg6Y2FsYyh2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC1kcmF3ZXItbWluaS13aWR0aCkgKyAycHgpO3RyYW5zaXRpb246d2lkdGggMTk1bXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSAwbXM7b3ZlcmZsb3c6aGlkZGVufS5zaWRlLXBhbmVsLWRyYXdlcjpub3QoLm9wZW4pIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbCAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsLWNvbnRyb2xzLWNoZXZyb24gLk11aUJ1dHRvbkJhc2Utcm9vdCBzdmd7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX0uc2lkZS1wYW5lbC1kcmF3ZXItY29sbGFwc2libGUtaGFtYnVyZ2Vye2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7cGFkZGluZzowIDhweDttaW4taGVpZ2h0OnZhcigtLW94eWdlbi1jdXN0b21Db21wb25lbnRzLUhlYWRlci1wcm9wZXJ0aWVzLW1pbi1oZWlnaHQpfS5zaWRlLXBhbmVsLWRyYXdlci1jb2xsYXBzaWJsZS1oYW1idXJnZXIgLm94eWdlbi1pY29uLWJ1dHRvbntoZWlnaHQ6NDhweDt3aWR0aDo0OHB4fS5zaWRlLXBhbmVsLWRyYXdlci5vcGVue3dpZHRoOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLWRyYXdlci13aWR0aCk7dHJhbnNpdGlvbjp3aWR0aCAyMjVtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpIDBtcztvdmVyZmxvdzpoaWRkZW59LnNpZGUtcGFuZWwtZHJhd2VyLm9wZW4gLk11aURyYXdlci1wYXBlcnt3aWR0aDp2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC1kcmF3ZXItd2lkdGgpO3RyYW5zaXRpb246d2lkdGggMjI1bXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSAwbXM7b3ZlcmZsb3c6aGlkZGVufS5zaWRlLXBhbmVsLWRyYXdlci5vcGVuIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbCAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsLWNvbnRyb2xzLWNoZXZyb24gc3Zne3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKX0uc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWx7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwO2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O2hlaWdodDoxMDAlfS5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbCAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHN7ZGlzcGxheTpmbGV4O2JhY2tncm91bmQtY29sb3I6dmFyKC0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLXNpZGUtcGFuZWwtZHJhd2VyLWNvbnRlbnQtYmFja2dyb3VuZCk7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbCAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsLWNvbnRyb2xzLWNoZXZyb257aGVpZ2h0OmNhbGModmFyKC0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLXNpZGUtcGFuZWwtdG9vbGJhci1oZWlnaHQpICsgNHB4KTtkaXNwbGF5OmZsZXg7cGFkZGluZzo4cHg7YWxpZ24taXRlbXM6Y2VudGVyfS5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbCAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsLWNvbnRyb2xzLWNoZXZyb24gc3Zne3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyBlYXNlfS5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbCAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsLWNvbnRyb2xzLWxhYmVse2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC13cmFwOm5vd3JhcDthbGlnbi1jb250ZW50OmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsLWNvbnRyb2xzIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250cm9scy1sYWJlbCAub3h5Z2VuLXR5cG9ncmFwaHl7cG9zaXRpb246YWJzb2x1dGU7dHJhbnNmb3JtOnJvdGF0ZSgyNzBkZWcpfS5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbCAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHM6aG92ZXJ7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLW94eWdlbi1wYWxldHRlLWFjdGlvbi1hY3RpdmVDaGFubmVsKS92YXIoLS1veHlnZW4tcGFsZXR0ZS1hY3Rpb24taG92ZXJPcGFjaXR5KSl9LnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250ZW50e2JhY2tncm91bmQtY29sb3I6dmFyKC0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLXNpZGUtcGFuZWwtZHJhd2VyLWNvbnRlbnQtYmFja2dyb3VuZCk7aGVpZ2h0OjEwMCV9Il19 */","",""]]},30215:e=>{e.exports=[[e.id,".sign-in-method-split-view{border:1px solid var(--oxygen-palette-divider);border-radius:8px;display:flex}.sign-in-method-split-view .beta-feature-tab-item{display:flex;flex-direction:row;gap:8px;align-items:center}.sign-in-method-split-view .oxygen-tabs .oxygen-chip-beta{text-transform:uppercase}.sign-in-method-split-view .oxygen-tab-panel{padding:0}.sign-in-method-split-view .predefined-side-panel-drawer{border-top-right-radius:8px;border-bottom-right-radius:8px}.sign-in-method-split-view .predefined-side-panel-drawer.hidden{display:none}.sign-in-method-split-view .revert-to-default-button{right:0;box-shadow:0 0 2px 1px rgba(0,0,0,.08);position:absolute;z-index:5;margin:15px;border:none;background:#fefefe;display:flex;justify-content:center;align-items:center;height:30px;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding:8px 15px;gap:10px;border-radius:var(--oxygen-shape-borderRadius);transition:margin-top .2s ease-in-out}.sign-in-method-split-view .visual-editor-update-button-container{display:flex;justify-content:flex-end;padding:16px;gap:16px}.non-interactive{pointer-events:none}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ24taW4tbWV0aG9kcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDJCQUEyQiw4Q0FBOEMsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsa0RBQWtELFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsMERBQTBELHdCQUF3QixDQUFDLDZDQUE2QyxTQUFTLENBQUMseURBQXlELDJCQUEyQixDQUFDLDhCQUE4QixDQUFDLGdFQUFnRSxZQUFZLENBQUMscURBQXFELE9BQU8sQ0FBQyxzQ0FBc0MsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyx3QkFBZ0IsQ0FBaEIsb0JBQWdCLENBQWhCLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyw4Q0FBOEMsQ0FBQyxxQ0FBcUMsQ0FBQyxrRUFBa0UsWUFBWSxDQUFDLHdCQUF3QixDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLG1CQUFtQiIsImZpbGUiOiJzaWduLWluLW1ldGhvZHMuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zaWduLWluLW1ldGhvZC1zcGxpdC12aWV3e2JvcmRlcjoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7Ym9yZGVyLXJhZGl1czo4cHg7ZGlzcGxheTpmbGV4fS5zaWduLWluLW1ldGhvZC1zcGxpdC12aWV3IC5iZXRhLWZlYXR1cmUtdGFiLWl0ZW17ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztnYXA6OHB4O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2lnbi1pbi1tZXRob2Qtc3BsaXQtdmlldyAub3h5Z2VuLXRhYnMgLm94eWdlbi1jaGlwLWJldGF7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlfS5zaWduLWluLW1ldGhvZC1zcGxpdC12aWV3IC5veHlnZW4tdGFiLXBhbmVse3BhZGRpbmc6MH0uc2lnbi1pbi1tZXRob2Qtc3BsaXQtdmlldyAucHJlZGVmaW5lZC1zaWRlLXBhbmVsLWRyYXdlcntib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo4cHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6OHB4fS5zaWduLWluLW1ldGhvZC1zcGxpdC12aWV3IC5wcmVkZWZpbmVkLXNpZGUtcGFuZWwtZHJhd2VyLmhpZGRlbntkaXNwbGF5Om5vbmV9LnNpZ24taW4tbWV0aG9kLXNwbGl0LXZpZXcgLnJldmVydC10by1kZWZhdWx0LWJ1dHRvbntyaWdodDowO2JveC1zaGFkb3c6MCAwIDJweCAxcHggcmdiYSgwLDAsMCwuMDgpO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NTttYXJnaW46MTVweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOiNmZWZlZmU7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2hlaWdodDozMHB4O2N1cnNvcjpwb2ludGVyO3VzZXItc2VsZWN0Om5vbmU7cGFkZGluZzo4cHggMTVweDtnYXA6MTBweDtib3JkZXItcmFkaXVzOnZhcigtLW94eWdlbi1zaGFwZS1ib3JkZXJSYWRpdXMpO3RyYW5zaXRpb246bWFyZ2luLXRvcCAuMnMgZWFzZS1pbi1vdXR9LnNpZ24taW4tbWV0aG9kLXNwbGl0LXZpZXcgLnZpc3VhbC1lZGl0b3ItdXBkYXRlLWJ1dHRvbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtwYWRkaW5nOjE2cHg7Z2FwOjE2cHh9Lm5vbi1pbnRlcmFjdGl2ZXtwb2ludGVyLWV2ZW50czpub25lfSJdfQ== */","",""]]},60075:e=>{e.exports=[[e.id,".login-flow-ai-banner.hidden{display:none}.login-flow-ai-banner{background:#fefefe;align-items:center;background-size:cover;background-repeat:no-repeat;background-position:right center;border:1px solid #dcdad8;border-radius:8px;display:flex;justify-content:space-between;padding:30px 25px}.login-flow-ai-banner.collapsed,.login-flow-ai-banner.input{flex-direction:column}.login-flow-ai-banner-input{background-size:cover;background-repeat:no-repeat;background-position:right top;display:flex;flex-direction:column;justify-content:space-between;padding:30px 25px 0px;border-radius:8px}.login-flow-ai-banner-container{background:#fefefe;background-size:cover;background-repeat:no-repeat;background-position:right top;border:1px solid #dcdad8;border-radius:8px}.login-flow-ai-banner-history{border:none;background:rgba(0,0,0,0);padding:0px 10px 25px;width:100%}.login-flow-ai-banner-history-card{max-height:130px;padding:.5rem;height:100%}.login-flow-ai-banner-history-card-text{display:block;text-overflow:ellipsis;word-wrap:break-word;overflow:hidden;max-height:5.1rem}.login-flow-ai-banner-history-card-row{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.login-flow-ai-banner-input-heading-container{display:flex;flex-direction:row;justify-content:space-between;width:100%}.login-flow-ai-banner-text-container{display:flex;flex-direction:column;justify-content:space-between;width:70%}.login-flow-ai-banner-close-icon{display:flex;width:100%;flex-direction:row;justify-content:flex-end}.login-flow-ai-banner-caret-icon{transition-duration:.5s;transition-property:transform}.login-flow-ai-banner-caret-icon.close-icon{transform:rotate(-180deg);-webkit-transform:rotate(-180deg)}.login-flow-ai-banner-caret-icon.open-icon{transform:rotate(0deg);-webkit-transform:rotate(0deg)}.login-flow-ai-banner-button-container{display:flex;justify-content:space-between;align-items:center;width:100%}.login-flow-ai-banner-heading{font-size:19px;font-weight:500;margin-bottom:5px}.login-flow-ai-banner-sub-heading{font-size:15px;font-weight:400;color:#8d91a3}.login-flow-ai-input-field{width:60%}.login-flow-ai-input-field-inner{background-color:#fefefe;width:100%;padding:0px 15px;min-height:62px}.login-flow-ai-input-button{padding:10px;margin-left:10px}.login-flow-ai-input-button-icon{color:var(--oxygen-palette-gradients-primary-stop2);height:20px;width:20px}.login-flow-ai-input-button-icon.disabled{color:#cdcdcd}.login-flow-ai-text{background:linear-gradient(270deg, var(--oxygen-palette-gradients-primary-stop2), var(--oxygen-palette-gradients-primary-stop1));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0)}.login-flow-ai-preview-chip{color:#01698a;background-color:#c3e6f6;margin-bottom:4px;margin-left:5px}.login-flow-ai-disclaimer{display:flex;width:60%;color:#8d91a3;margin-top:5px;margin-left:2px}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar{width:2px}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar-track{background:#f1f1f1}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar-thumb{background-color:#e0e0e0;border-radius:10px}.ai-icon{fill:var(--oxygen-palette-gradients-primary-stop2);height:25px;width:25px;margin-left:1px;transform:rotate(180deg);transform:scale(-1, 1)}.ai-icon.primary-button{fill:#fff;height:15px;width:15px;margin-right:5px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLWZsb3ctYWktYmFubmVyLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkJBQTZCLFlBQVksQ0FBQyxzQkFBc0Isa0JBQWtCLENBQUMsa0JBQWtCLENBQUMscUJBQXFCLENBQUMsMkJBQTJCLENBQUMsZ0NBQWdDLENBQUMsd0JBQXdCLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLDZCQUE2QixDQUFDLGlCQUFpQixDQUFDLDREQUE0RCxxQkFBcUIsQ0FBQyw0QkFBNEIscUJBQXFCLENBQUMsMkJBQTJCLENBQUMsNkJBQTZCLENBQUMsWUFBWSxDQUFDLHFCQUFxQixDQUFDLDZCQUE2QixDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLGdDQUFnQyxrQkFBa0IsQ0FBQyxxQkFBcUIsQ0FBQywyQkFBMkIsQ0FBQyw2QkFBNkIsQ0FBQyx3QkFBd0IsQ0FBQyxpQkFBaUIsQ0FBQyw4QkFBOEIsV0FBVyxDQUFDLHdCQUF3QixDQUFDLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxtQ0FBbUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyx3Q0FBd0MsYUFBYSxDQUFDLHNCQUFzQixDQUFDLG9CQUFvQixDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyx1Q0FBdUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLDZCQUE2QixDQUFDLGtCQUFrQixDQUFDLDhDQUE4QyxZQUFZLENBQUMsa0JBQWtCLENBQUMsNkJBQTZCLENBQUMsVUFBVSxDQUFDLHFDQUFxQyxZQUFZLENBQUMscUJBQXFCLENBQUMsNkJBQTZCLENBQUMsU0FBUyxDQUFDLGlDQUFpQyxZQUFZLENBQUMsVUFBVSxDQUFDLGtCQUFrQixDQUFDLHdCQUF3QixDQUFDLGlDQUFpQyx1QkFBdUIsQ0FBQyw2QkFBNkIsQ0FBQyw0Q0FBNEMseUJBQXlCLENBQUMsaUNBQWlDLENBQUMsMkNBQTJDLHNCQUFzQixDQUFDLDhCQUE4QixDQUFDLHVDQUF1QyxZQUFZLENBQUMsNkJBQTZCLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLDhCQUE4QixjQUFjLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLGtDQUFrQyxjQUFjLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQywyQkFBMkIsU0FBUyxDQUFDLGlDQUFpQyx3QkFBd0IsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLDRCQUE0QixZQUFZLENBQUMsZ0JBQWdCLENBQUMsaUNBQWlDLG1EQUFtRCxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsMENBQTBDLGFBQWEsQ0FBQyxvQkFBb0IsZ0lBQWdJLENBQUMsb0JBQW9CLENBQUMsNEJBQTRCLENBQUMscUNBQXFDLENBQUMsNEJBQTRCLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsMEJBQTBCLFlBQVksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsNkRBQTZELFNBQVMsQ0FBQyxtRUFBbUUsa0JBQWtCLENBQUMsbUVBQW1FLHdCQUF3QixDQUFDLGtCQUFrQixDQUFDLFNBQVMsa0RBQWtELENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsd0JBQXdCLENBQWlILHNCQUFzQixDQUFDLHdCQUF3QixTQUFTLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IiLCJmaWxlIjoibG9naW4tZmxvdy1haS1iYW5uZXIuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sb2dpbi1mbG93LWFpLWJhbm5lci5oaWRkZW57ZGlzcGxheTpub25lfS5sb2dpbi1mbG93LWFpLWJhbm5lcntiYWNrZ3JvdW5kOiNmZWZlZmU7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpyaWdodCBjZW50ZXI7Ym9yZGVyOjFweCBzb2xpZCAjZGNkYWQ4O2JvcmRlci1yYWRpdXM6OHB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtwYWRkaW5nOjMwcHggMjVweH0ubG9naW4tZmxvdy1haS1iYW5uZXIuY29sbGFwc2VkLC5sb2dpbi1mbG93LWFpLWJhbm5lci5pbnB1dHtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LmxvZ2luLWZsb3ctYWktYmFubmVyLWlucHV0e2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpyaWdodCB0b3A7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtwYWRkaW5nOjMwcHggMjVweCAwcHg7Ym9yZGVyLXJhZGl1czo4cHh9LmxvZ2luLWZsb3ctYWktYmFubmVyLWNvbnRhaW5lcntiYWNrZ3JvdW5kOiNmZWZlZmU7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOnJpZ2h0IHRvcDtib3JkZXI6MXB4IHNvbGlkICNkY2RhZDg7Ym9yZGVyLXJhZGl1czo4cHh9LmxvZ2luLWZsb3ctYWktYmFubmVyLWhpc3Rvcnl7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApO3BhZGRpbmc6MHB4IDEwcHggMjVweDt3aWR0aDoxMDAlfS5sb2dpbi1mbG93LWFpLWJhbm5lci1oaXN0b3J5LWNhcmR7bWF4LWhlaWdodDoxMzBweDtwYWRkaW5nOi41cmVtO2hlaWdodDoxMDAlfS5sb2dpbi1mbG93LWFpLWJhbm5lci1oaXN0b3J5LWNhcmQtdGV4dHtkaXNwbGF5OmJsb2NrO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d29yZC13cmFwOmJyZWFrLXdvcmQ7b3ZlcmZsb3c6aGlkZGVuO21heC1oZWlnaHQ6NS4xcmVtfS5sb2dpbi1mbG93LWFpLWJhbm5lci1oaXN0b3J5LWNhcmQtcm93e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyfS5sb2dpbi1mbG93LWFpLWJhbm5lci1pbnB1dC1oZWFkaW5nLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO3dpZHRoOjEwMCV9LmxvZ2luLWZsb3ctYWktYmFubmVyLXRleHQtY29udGFpbmVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47d2lkdGg6NzAlfS5sb2dpbi1mbG93LWFpLWJhbm5lci1jbG9zZS1pY29ue2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO2ZsZXgtZGlyZWN0aW9uOnJvdztqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9LmxvZ2luLWZsb3ctYWktYmFubmVyLWNhcmV0LWljb257dHJhbnNpdGlvbi1kdXJhdGlvbjouNXM7dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm19LmxvZ2luLWZsb3ctYWktYmFubmVyLWNhcmV0LWljb24uY2xvc2UtaWNvbnt0cmFuc2Zvcm06cm90YXRlKC0xODBkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtMTgwZGVnKX0ubG9naW4tZmxvdy1haS1iYW5uZXItY2FyZXQtaWNvbi5vcGVuLWljb257dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyl9LmxvZ2luLWZsb3ctYWktYmFubmVyLWJ1dHRvbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDoxMDAlfS5sb2dpbi1mbG93LWFpLWJhbm5lci1oZWFkaW5ne2ZvbnQtc2l6ZToxOXB4O2ZvbnQtd2VpZ2h0OjUwMDttYXJnaW4tYm90dG9tOjVweH0ubG9naW4tZmxvdy1haS1iYW5uZXItc3ViLWhlYWRpbmd7Zm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiM4ZDkxYTN9LmxvZ2luLWZsb3ctYWktaW5wdXQtZmllbGR7d2lkdGg6NjAlfS5sb2dpbi1mbG93LWFpLWlucHV0LWZpZWxkLWlubmVye2JhY2tncm91bmQtY29sb3I6I2ZlZmVmZTt3aWR0aDoxMDAlO3BhZGRpbmc6MHB4IDE1cHg7bWluLWhlaWdodDo2MnB4fS5sb2dpbi1mbG93LWFpLWlucHV0LWJ1dHRvbntwYWRkaW5nOjEwcHg7bWFyZ2luLWxlZnQ6MTBweH0ubG9naW4tZmxvdy1haS1pbnB1dC1idXR0b24taWNvbntjb2xvcjp2YXIoLS1veHlnZW4tcGFsZXR0ZS1ncmFkaWVudHMtcHJpbWFyeS1zdG9wMik7aGVpZ2h0OjIwcHg7d2lkdGg6MjBweH0ubG9naW4tZmxvdy1haS1pbnB1dC1idXR0b24taWNvbi5kaXNhYmxlZHtjb2xvcjojY2RjZGNkfS5sb2dpbi1mbG93LWFpLXRleHR7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMjcwZGVnLCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1ncmFkaWVudHMtcHJpbWFyeS1zdG9wMiksIHZhcigtLW94eWdlbi1wYWxldHRlLWdyYWRpZW50cy1wcmltYXJ5LXN0b3AxKSk7YmFja2dyb3VuZC1jbGlwOnRleHQ7LXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6dGV4dDstd2Via2l0LXRleHQtZmlsbC1jb2xvcjpyZ2JhKDAsMCwwLDApfS5sb2dpbi1mbG93LWFpLXByZXZpZXctY2hpcHtjb2xvcjojMDE2OThhO2JhY2tncm91bmQtY29sb3I6I2MzZTZmNjttYXJnaW4tYm90dG9tOjRweDttYXJnaW4tbGVmdDo1cHh9LmxvZ2luLWZsb3ctYWktZGlzY2xhaW1lcntkaXNwbGF5OmZsZXg7d2lkdGg6NjAlO2NvbG9yOiM4ZDkxYTM7bWFyZ2luLXRvcDo1cHg7bWFyZ2luLWxlZnQ6MnB4fS5sb2dpbi1mbG93LWFpLWlucHV0LWZpZWxkLWlubmVyIHRleHRhcmVhOjotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDoycHh9LmxvZ2luLWZsb3ctYWktaW5wdXQtZmllbGQtaW5uZXIgdGV4dGFyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNre2JhY2tncm91bmQ6I2YxZjFmMX0ubG9naW4tZmxvdy1haS1pbnB1dC1maWVsZC1pbm5lciB0ZXh0YXJlYTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7YmFja2dyb3VuZC1jb2xvcjojZTBlMGUwO2JvcmRlci1yYWRpdXM6MTBweH0uYWktaWNvbntmaWxsOnZhcigtLW94eWdlbi1wYWxldHRlLWdyYWRpZW50cy1wcmltYXJ5LXN0b3AyKTtoZWlnaHQ6MjVweDt3aWR0aDoyNXB4O21hcmdpbi1sZWZ0OjFweDt0cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7LW1vei10cmFuc2Zvcm06c2NhbGUoLTEsIDEpOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC0xLCAxKTstby10cmFuc2Zvcm06c2NhbGUoLTEsIDEpOy1tcy10cmFuc2Zvcm06c2NhbGUoLTEsIDEpO3RyYW5zZm9ybTpzY2FsZSgtMSwgMSl9LmFpLWljb24ucHJpbWFyeS1idXR0b257ZmlsbDojZmZmO2hlaWdodDoxNXB4O3dpZHRoOjE1cHg7bWFyZ2luLXJpZ2h0OjVweH0iXX0= */","",""]]},43003:e=>{e.exports=[[e.id,".login-flow-ai-loading-screen-parent{display:flex;flex-direction:column;justify-content:center;align-items:center}.login-flow-ai-loading-screen-container{display:flex;align-items:stretch;justify-content:center}.login-flow-ai-loading-screen-illustration-container{display:flex;flex:1;justify-content:right}.login-flow-ai-loading-screen-text-container{display:flex;flex:1;justify-content:space-between;flex-direction:column;align-items:flex-start;padding:7rem 10rem 7rem 0}.login-flow-ai-loading-screen-loading-container{display:flex;flex-direction:row;margin-bottom:10px;align-items:center;justify-content:space-between}.login-flow-ai-loading-screen-heading{font-size:19px;font-weight:500;margin-bottom:5px}.login-flow-ai-loading-screen-sub-heading{font-size:15px;font-weight:400;color:#6a6d7b}.login-flow-ai-loading-screen-loading-state{font-size:15px;font-weight:500}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLWZsb3ctYWktbG9hZGluZy1zY3JlZW4uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxQ0FBcUMsWUFBWSxDQUFDLHFCQUFxQixDQUFDLHNCQUFzQixDQUFDLGtCQUFrQixDQUFDLHdDQUF3QyxZQUFZLENBQUMsbUJBQW1CLENBQUMsc0JBQXNCLENBQUMscURBQXFELFlBQVksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsNkNBQTZDLFlBQVksQ0FBQyxNQUFNLENBQUMsNkJBQTZCLENBQUMscUJBQXFCLENBQUMsc0JBQXNCLENBQUMseUJBQXlCLENBQUMsZ0RBQWdELFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxrQkFBa0IsQ0FBQyxrQkFBa0IsQ0FBQyw2QkFBNkIsQ0FBQyxzQ0FBc0MsY0FBYyxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQywwQ0FBMEMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsNENBQTRDLGNBQWMsQ0FBQyxlQUFlIiwiZmlsZSI6ImxvZ2luLWZsb3ctYWktbG9hZGluZy1zY3JlZW4uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sb2dpbi1mbG93LWFpLWxvYWRpbmctc2NyZWVuLXBhcmVudHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5sb2dpbi1mbG93LWFpLWxvYWRpbmctc2NyZWVuLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6c3RyZXRjaDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5sb2dpbi1mbG93LWFpLWxvYWRpbmctc2NyZWVuLWlsbHVzdHJhdGlvbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXg6MTtqdXN0aWZ5LWNvbnRlbnQ6cmlnaHR9LmxvZ2luLWZsb3ctYWktbG9hZGluZy1zY3JlZW4tdGV4dC1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXg6MTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6ZmxleC1zdGFydDtwYWRkaW5nOjdyZW0gMTByZW0gN3JlbSAwfS5sb2dpbi1mbG93LWFpLWxvYWRpbmctc2NyZWVuLWxvYWRpbmctY29udGFpbmVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7bWFyZ2luLWJvdHRvbToxMHB4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0ubG9naW4tZmxvdy1haS1sb2FkaW5nLXNjcmVlbi1oZWFkaW5ne2ZvbnQtc2l6ZToxOXB4O2ZvbnQtd2VpZ2h0OjUwMDttYXJnaW4tYm90dG9tOjVweH0ubG9naW4tZmxvdy1haS1sb2FkaW5nLXNjcmVlbi1zdWItaGVhZGluZ3tmb250LXNpemU6MTVweDtmb250LXdlaWdodDo0MDA7Y29sb3I6IzZhNmQ3Yn0ubG9naW4tZmxvdy1haS1sb2FkaW5nLXNjcmVlbi1sb2FkaW5nLXN0YXRle2ZvbnQtc2l6ZToxNXB4O2ZvbnQtd2VpZ2h0OjUwMH0iXX0= */","",""]]}}]);