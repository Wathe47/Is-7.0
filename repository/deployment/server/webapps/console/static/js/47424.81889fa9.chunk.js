"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[47424],{47424:(e,t,n)=>{n.r(t),n.d(t,{addSMSPublisher:()=>d,deleteSMSPublisher:()=>u,useSMSNotificationSenders:()=>l});var o=n(34148),s=n(67442),i=n(93129),r=n(24393),a=n(73508),c=n(83296),S=o.AsgardeoSPAClient.getInstance().httpRequest.bind(o.AsgardeoSPAClient.getInstance()),l=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.GET,url:r.h.getState().config.endpoints.notificationSendersEndPoint+"/sms"},t=(0,a.Z)(e),n=t.data,o=t.error;return{data:n,error:o,isLoading:!o&&!n,isValidating:t.isValidating,mutate:t.mutate}},d=function(){var e={data:{contentType:"FORM",name:"SMSPublisher",properties:[{key:"channel.type",value:"choreo"}],provider:"choreo",providerURL:"https://console.choreo.dev/"},headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:r.h.getState().config.endpoints.notificationSendersEndPoint+"/sms"};return S(e).then((function(e){if(201!==e.status)throw new s.u(c.SMSOTPConstants.ERROR_IN_CREATING_SMS_NOTIFICATION_SENDER,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new s.u(c.SMSOTPConstants.ERROR_IN_CREATING_SMS_NOTIFICATION_SENDER,e.stack,e.code,e.request,e.response,e.config)}))},u=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.DELETE,url:r.h.getState().config.endpoints.notificationSendersEndPoint+"/sms/SMSPublisher"};return S(e).then((function(e){if(204!==e.status)throw new s.u(c.SMSOTPConstants.ERROR_IN_DELETING_SMS_NOTIFICATION_SENDER,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t,n,o=c.SMSOTPConstants.ERROR_IN_DELETING_SMS_NOTIFICATION_SENDER;throw(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)===c.SMSOTPConstants.ErrorMessages.SMS_NOTIFICATION_SENDER_DELETION_ERROR_ACTIVE_SUBS.getErrorCode()&&(o=c.SMSOTPConstants.ErrorMessages.SMS_NOTIFICATION_SENDER_DELETION_ERROR_ACTIVE_SUBS.getErrorMessage()),new s.u(o,e.stack,null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.code,e.request,e.response,e.config)}))}}}]);