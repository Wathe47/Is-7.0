"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[90158,66756,64571,8889,54050,33692],{66756:(e,t,r)=>{r.r(t),r.d(t,{AttributeMappingsComponent:()=>E});var a=r(66112),n=r(86727),s=r(44194),o=r(10479),i=r(59673),l=r(19980),u=r(89141),c=r(12638),m=r(48166),p=r(31659),d=r(72478);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,o,i=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var E=function(e){var t=e.triggerSubmit,r=e.handleAttributeMappingsSubmit,S=e.mandatoryAttributes,E=e.isAttributesListRequestLoading,g=e["data-testid"],y=f((0,s.useState)([]),2),R=y[0],b=y[1],T=f((0,s.useState)([]),2),U=T[0],A=T[1],_=f((0,s.useState)(""),2),h=_[0],v=_[1],N=(0,o.$)().t,O=(0,d.W)().data;return(0,s.useEffect)((function(){var e;O&&v("false"===(null===(e=(0,p.t$)(O))||void 0===e?void 0:e.enableValidator)?N("extensions:manage.features.userStores.create.pageLayout.steps.attributeMappings.emailUsername"):N("extensions:manage.features.userStores.create.pageLayout.steps.attributeMappings.alphanumericUsername"))}),[O]),(0,s.useEffect)((function(){if(S){var e=S.filter((function(e){return e.claimURI===m.Q.USER_NAME_CLAIM_URI})),t=S.filter((function(e){return e.claimURI!==m.Q.USER_NAME_CLAIM_URI}));b(e),A(t)}}),[S]),s.createElement(a.Es,{submitState:t,onSubmit:function(e){r(e)}},s.createElement(l.Z,{className:"attribute-mapping-section",padded:"very"},E?s.createElement(n.pO,null):s.createElement(u.Z,{width:10},null==R?void 0:R.map((function(e,t){return s.createElement(u.Z.Row,{key:t,columns:2},s.createElement(u.Z.Column,{width:8},s.createElement(c.Z.Content,null,null==e?void 0:e.displayName,s.createElement(n.xv,{display:"inline",styles:{color:"red"}}," *"),s.createElement(c.Z.Subheader,null,s.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI)))),s.createElement(u.Z.Column,{width:8},s.createElement(a.gN,{name:null==e?void 0:e.claimURI,requiredErrorMessage:"This field cannot be empty as email is the primary identifier of the user",type:"text",required:!0,minLength:3,maxLength:50,"data-testid":"".concat(g,"-user-store-name-input"),width:14}),s.createElement(n.kW,null,s.createElement(i.c,{i18nKey:"extensions:manage.features.userStores.create.pageLayout.steps.attributeMappings.usernameHint",tOptions:{usernameType:h}},"The mapped attribute for username should be ",s.createElement("strong",null,"unique ")," and be of",s.createElement("strong",null," type ",h),". This field cannot be empty as username is the primary identifier of the user."))))})),null==U?void 0:U.map((function(e,t){return s.createElement(u.Z.Row,{key:t,columns:2},s.createElement(u.Z.Column,{width:8},s.createElement(c.Z.Content,null,null==e?void 0:e.displayName,s.createElement(n.xv,{display:"inline",styles:{color:"red"}}," *"),s.createElement(c.Z.Subheader,null,s.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI)))),s.createElement(u.Z.Column,{width:8},s.createElement(a.gN,{name:null==e?void 0:e.claimURI,requiredErrorMessage:"This field cannot be empty.",type:"text",required:!0,minLength:3,maxLength:50,"data-testid":"".concat(g,"-user-store-name-input"),width:14}),s.createElement(n.kW,null,"The mapped attribute for user ID should be ",s.createElement("strong",null,"unique"),".")))})))))}},64571:(e,t,r)=>{r.r(t),r.d(t,{GeneralUserStoreDetails:()=>c});var a=r(54833),n=r(66112),s=r(67127),o=r(44194),i=r(10479),l=r(89141),u=r(8889),c=function(e){var t=e.triggerSubmit,r=e.featureConfig,c=e.handleBasicDetailsSubmit,m=e.userStoreType,p=e.handleUserStoreAccessTypeChange,d=e.handleUserStoreTypeChange,f=e.setUserStoreNameValid,S=e["data-testid"],E=(0,i.$)().t,g=[{"data-testid":"".concat(S,"-create-user-store-form-user-store-ldap-option-radio-button"),label:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.userStoreType.types.ldap.label"),value:u.RemoteUserStoreTypes.LDAP},{"data-testid":"".concat(S,"-create-user-store-form-user-store-ad-option-radio-button"),label:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.userStoreType.types.ad.label"),value:u.RemoteUserStoreTypes.ActiveDirectory}],y=[{"data-componentid":"".concat(S,"-create-user-store-form-access-type-read-only-option-radio-button"),hint:{content:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readOnly.hint")},label:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readOnly.label"),value:u.RemoteUserStoreAccessTypes.ReadOnly},{"data-componentid":"".concat(S,"-create-user-store-form-access-type-read-write-option-radio-button"),hint:{content:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readWrite.hint")},label:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readWrite.label"),value:u.RemoteUserStoreAccessTypes.ReadWrite}];return o.createElement(l.Z,null,o.createElement(l.Z.Row,null,o.createElement(l.Z.Column,null,o.createElement(n.Es,{submitState:t,onSubmit:function(e){c(e)}},o.createElement(n.gN,{className:"uppercase",type:"text",name:"name",label:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.name.label"),requiredErrorMessage:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.name.requiredErrorMessage"),required:!0,placeholder:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.name.placeholder"),minLength:3,maxLength:50,width:14,"data-testid":"".concat(S,"-user-store-name-input"),hint:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.name.hint"),listen:function(e){f(e.get("name").length>0),e.set("name",e.get("name").toString().toUpperCase())},validation:function(e,t){if(!(0,s.Z)(e)){var r,a=new RegExp("^[^_/]+$"),n=new RegExp("^([^a-zA-Z0-9]+$)"),o=[u.RemoteUserStoreConstants.PRIMARY_USER_STORE_NAME,u.RemoteUserStoreConstants.FEDERATION_USER_STORE_NAME,u.RemoteUserStoreConstants.DEFAULT_USER_STORE_NAME],i=[u.RemoteUserStoreConstants.INTERNAL_USER_STORE_NAME,u.RemoteUserStoreConstants.APPLICATION_USER_STORE_NAME],l=!0;a.test(e)?o.includes(e.trim().toUpperCase())?(l=!1,r=E("extensions:manage.features.userStores.edit.general.form.validations.restrictedNamesErrorMessage",{name:e})):i.includes(e.trim().toUpperCase())?(l=!1,r=E("extensions:manage.features.userStores.edit.general.form.validations.reservedNamesErrorMessage",{name:e})):n.test(e)?(l=!1,r=E("extensions:manage.features.userStores.edit.general.form.validations.allSymbolsErrorMessage")):l=!0:(l=!1,r=E("extensions:manage.features.userStores.edit.general.form.validations.invalidSymbolsErrorMessage")),l||(f(!1),t.isValid=!1,t.errorMessages.push(r))}}}),o.createElement(n.gN,{requiredErrorMessage:null,type:"text",name:"description",label:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.description.label"),required:!1,placeholder:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.description.placeholder"),maxLength:300,minLength:3,width:14,"data-testid":"".concat(S,"-user-store-description-textarea")}),o.createElement(n.gN,{type:"radio",label:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.userStoreType.label"),name:"userStoreType",default:"createPw",listen:function(e){d(e.get("userStoreType"))},children:g,value:null!=m?m:"LDAP"}),o.createElement(n.gN,{type:"radio",label:E("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.label"),name:"accessType",default:"createPw",listen:function(e){p(e.get("accessType"))},children:y,value:null!=m?m:"true",tabIndex:3,hidden:!(0,a.cr)(null==r?void 0:r.userStores,u.RemoteUserStoreConstants.FEATURE_DICTIONARY.get("USERSTORES_READ_WRITE_USERSTORES"))})))))};c.defaultProps={"data-testid":"asgardeo-customer-userstore-general-details"}},90158:(e,t,r)=>{r.r(t),r.d(t,{AttributeMappingsComponent:()=>n.AttributeMappingsComponent,GeneralUserStoreDetails:()=>a.GeneralUserStoreDetails});var a=r(64571),n=r(66756)},8889:(e,t,r)=>{r.r(t),r.d(t,{RemoteUserStoreAccessTypes:()=>a.RemoteUserStoreAccessTypes,RemoteUserStoreConstants:()=>a.RemoteUserStoreConstants,RemoteUserStoreMeta:()=>n.RemoteUserStoreMeta,RemoteUserStoreTypes:()=>a.RemoteUserStoreTypes});var a=r(33692),n=r(54050)},54050:(e,t,r)=>{r.r(t),r.d(t,{RemoteUserStoreMeta:()=>a});var a={userStoreAgent:{artifact:"agent-v1.1.7.zip"}}},33692:(e,t,r)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o(a.key),a)}}function s(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}r.r(t),r.d(t,{RemoteUserStoreAccessTypes:()=>u,RemoteUserStoreConstants:()=>i,RemoteUserStoreTypes:()=>l});var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},r=[{key:"getPaths",value:function(){return(new Map).set("REMOTE_USER_STORE_CREATE","".concat(window.AppUtils.getConfig().adminApp.basePath,"/remote-user-store-create"))}}],(t=null)&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();s(i,"OUTBOUND_USER_STORE_TYPE_ID","V1NPdXRib3VuZFVzZXJTdG9yZU1hbmFnZXI"),s(i,"READONLY_LDAP_USER_STORE_TYPE_ID","VW5pcXVlSURSZWFkT25seUxEQVBVc2VyU3RvcmVNYW5hZ2Vy"),s(i,"READONLY_AD_USER_STORE_TYPE_ID","VW5pcXVlSURBY3RpdmVEaXJlY3RvcnlVc2VyU3RvcmVNYW5hZ2Vy"),s(i,"CUSTOMER_USERSTORE_ID","REVGQVVMVA"),s(i,"PRIMARY_USER_STORE_NAME","PRIMARY"),s(i,"FEDERATION_USER_STORE_NAME","FEDERATION"),s(i,"DEFAULT_USER_STORE_NAME","DEFAULT"),s(i,"INTERNAL_USER_STORE_NAME","INTERNAL"),s(i,"APPLICATION_USER_STORE_NAME","APPLICATION"),s(i,"DISPLAY_NAME_VALUE","displayName"),s(i,"PROPERTY_NAME_CONNECTED_USERSTORE_TYPE","ConnectedUserstoreType"),s(i,"PROPERTY_NAME_READ_ONLY","ReadOnly"),s(i,"FEATURE_DICTIONARY",(new Map).set("USERSTORES_READ_WRITE_USERSTORES","userStores.readWriteUserstores"));var l=function(e){return e.ActiveDirectory="AD",e.LDAP="LDAP",e}({}),u=function(e){return e.ReadOnly="true",e.ReadWrite="false",e}({})}}]);