/*! For license information please see 25857.22553c4d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[25857],{25857:(n,t,e)=>{e.r(t),e.d(t,{default:()=>Q});var o=e(69772),i=e(54833),r=e(93129),a=e(3356),c=e(86727),l=e(44194),u=e(10479),s=e(47245),d=e(26154),p=e(62508),f=e(19980),m=e(24393),v=e(71759),g=e(34148),h=e(61263),b=g.AsgardeoSPAClient.getInstance().httpRequest.bind(g.AsgardeoSPAClient.getInstance()),y=function(n){var t={data:{outboundProvisioningIdps:n},headers:{Accept:"application/json","Content-Type":"application/json"},method:r.f2.PUT,url:h.h.getState().config.endpoints.applications+"/resident"};return b(t).then((function(n){return 200!==n.status?Promise.reject(new Error("Failed to update inbound configuration")):Promise.resolve(n)})).catch((function(n){return Promise.reject(n)}))},E=e(73508),w=e(59673),S=function(n){var t=n.isOpen,e=n.onClose,o=n.deletingIdp,i=n.onConfirm,r=n["data-componentid"],a=(0,u.$)().t;return l.createElement(c.cV,{onClose:e,type:"negative",open:t,assertion:null==o?void 0:o.idp,assertionHint:l.createElement("p",null,l.createElement(w.c,{i18nKey:"applications:confirmations.deleteOutboundProvisioningIDP.assertionHint",tOptions:{name:null==o?void 0:o.idp}},"Please type ",l.createElement("strong",null,null==o?void 0:o.idp)," to confirm.")),assertionType:"input",primaryAction:a("common:confirm"),secondaryAction:a("common:cancel"),onSecondaryActionClick:e,onPrimaryActionClick:function(){return i(o)},"data-componentid":"".concat(r,"-connector-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-componentid":"".concat(r,"-connector-delete-confirmation-modal-header")},a("applications:confirmations.deleteOutboundProvisioningIDP.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(r,"-connector-delete-confirmation-modal-message")},a("applications:confirmations.deleteOutboundProvisioningIDP.message")),l.createElement(c.cV.Content,{"data-componentid":"".concat(r,"-connector-delete-confirmation-modal-content")},a("applications:confirmations.deleteOutboundProvisioningIDP.content")))};S.defaultProps={"data-componentid":"outbound-provisioning-connector-delete-wizard"};var C=e(61763),k=e(66112),x=e(89141);function P(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var o,i,r,a,c=[],l=!0,u=!1;try{if(r=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;l=!1}else for(;!(l=(o=r.call(e)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(n){u=!0,i=n}finally{try{if(!l&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return O(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return O(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}var I=function(n){var t,e,o=n.initialValues,i=n.idpList,r=n.triggerSubmit,a=n.onSubmit,s=n.isEdit,d=n.isReadOnly,p=n.isSubmitting,f=n["data-componentid"],m=(0,u.$)().t,g=(0,C.Z)().UIConfig,h=P((0,l.useState)([]),2),b=h[0],y=h[1],E=P((0,l.useState)(void 0),2),w=E[0],S=E[1],O=P((0,l.useState)(),2),I=O[0],A=O[1],L=P((0,l.useState)(null!==(t=null==o?void 0:o.blocking)&&void 0!==t&&t),2),j=L[0],_=L[1],R=P((0,l.useState)(null!==(e=null==o?void 0:o.rules)&&void 0!==e&&e),2),Z=R[0],N=R[1],U=P((0,l.useState)(null==o?void 0:o.connector),2),T=U[0],V=U[1];(0,l.useEffect)((function(){if(i&&null!=o&&o.idp){var n=null==i?void 0:i.find((function(n){return n.name===(null==o?void 0:o.idp)}));A(null==n?void 0:n.id)}}),[i]),(0,l.useEffect)((function(){if(i){var n=[],t={key:-1,text:"",value:""};i.map((function(e,o){t={key:o,text:e.name,value:e.id},n.push(t)})),y(n)}}),[i]),(0,l.useEffect)((function(){if(I){var n=[],t={key:-1,text:"",value:""};(0,v.OL)(I).then((function(e){e.provisioning.outboundConnectors.connectors.map((function(e,o){e.isEnabled&&(t={key:o,text:e.name,value:e.name},n.push(t))})),S(n)}))}}),[I]);return l.createElement(k.Es,{onSubmit:function(n){return a((t=b.find((function(n){return n.value===I})).text,{blocking:j,connector:T,idp:t,rules:Z}));var t},submitState:r&&r},l.createElement(x.Z,null,!s&&l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(k.gN,{type:"dropdown",label:m("applications:resident.provisioning.outbound.form.fields.connection.label"),placeholder:m("applications:resident.provisioning.outbound.form.fields.connection.placeholder"),name:"idp",children:b,requiredErrorMessage:m("applications:resident.provisioning.outbound.form.fields.connection.empty"),readOnly:d,required:!1,value:null==o?void 0:o.idp,listen:function(n){A(n.get("idp").toString())},"data-componentid":"".concat(f,"-idp-dropdown")}))),l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(k.gN,{type:"dropdown",label:m("applications:forms.outboundProvisioning.fields.connector.label"),placeholder:m("applications:forms.outboundProvisioning.fields.connector.placeholder"),name:"connector",children:w,requiredErrorMessage:m("applications:forms.outboundProvisioning.fields.connector.validations.empty"),readOnly:d,required:!0,value:null==o?void 0:o.connector,listen:function(n){V(n.get("connector").toString())},"data-componentid":"".concat(f,"-provisioning-connector-dropdown")}),(null==w?void 0:w.length)<=0&&l.createElement(c.kW,{icon:"warning sign"},m("applications:edit.sections.provisioning.outbound.addIdpWizard.errors.noProvisioningConnector")))),(null==g?void 0:g.isXacmlConnectorEnabled)&&l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(k.gN,{name:"rules",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:m("applications:forms.outboundProvisioning.fields.rules.label"),value:"rules"}],value:null!=o&&o.rules?["rules"]:[],listen:function(n){N(n.get("rules").includes("rules"))},readOnly:d,"data-componentid":"".concat(f,"-rules-checkbox")}),l.createElement(c.kW,null,m("applications:forms.outboundProvisioning.fields.rules.hint")))),l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(k.gN,{name:"blocking",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:m("applications:forms.outboundProvisioning.fields.blocking.label"),value:"blocking"}],readOnly:d,value:null!=o&&o.blocking?["blocking"]:[],listen:function(n){_(n.get("blocking").includes("blocking"))},"data-componentid":"".concat(f,"-blocking-checkbox")}),l.createElement(c.kW,null,m("applications:forms.outboundProvisioning.fields.blocking.hint")))),s&&!d&&l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(c.KM,{type:"submit",size:"small",className:"form-button","data-componentid":"".concat(f,"-submit-button"),loading:p,disabled:p},m("common:update"))))))};I.defaultProps={"data-componentid":"outbound-provisioning-connector-setup-form"};var A=e(20849),L=e(47018),j=e(65735);function _(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var o,i,r,a,c=[],l=!0,u=!1;try{if(r=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;l=!1}else for(;!(l=(o=r.call(e)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(n){u=!0,i=n}finally{try{if(!l&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return R(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return R(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}var Z=function(n){var t=n.closeWizard,e=n.onUpdate,o=n.isSubmitting,i=n.availableIdpList,r=n["data-componentid"],a=(0,u.$)().t,s=_((0,k.cC)(),2),d=s[0],p=s[1];return l.createElement(L.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-componentid":r,closeOnDimmerClick:!1,closeOnEscape:!0},l.createElement(L.Z.Header,{className:"wizard-header"},a("applications:resident.provisioning.outbound.addIdpWizard.heading"),l.createElement(c.X6,{as:"h6"},a("applications:resident.provisioning.outbound.addIdpWizard.subHeading"))),l.createElement(L.Z.Content,{className:"steps-container"},l.createElement(c.Rg.Group,{"data-componentid":"".concat(r,"-steps")},l.createElement(c.Rg.Step,{icon:(0,j.jK)().general,title:a("applications:resident.provisioning.outbound.addIdpWizard.steps.details"),"data-componentid":"".concat(r,"-step-",0)}))),l.createElement(L.Z.Content,{className:"content-container",scrolling:!0},l.createElement(I,{initialValues:null,triggerSubmit:d,onSubmit:function(n){e(n)},idpList:i,"data-componentid":"".concat(r,"-form"),isSubmitting:o})),l.createElement(L.Z.Actions,null,l.createElement(A.Z,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center"},l.createElement(A.Z,null,l.createElement(c.Qj,{floated:"left",onClick:function(){return t()},disabled:o,"data-componentid":"".concat(r,"-cancel-button")},a("common:cancel"))),l.createElement(A.Z,null,l.createElement(c.KM,{floated:"right",onClick:function(){return p()},"data-componentid":"".concat(r,"-finish-button"),loading:o,disabled:o},a("common:finish"))))))};function N(n){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},N(n)}function U(){U=function(){return t};var n,t={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(n,t,e){n[t]=e.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function u(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{u({},"")}catch(n){u=function(n,t,e){return n[t]=e}}function s(n,t,e,o){var r=t&&t.prototype instanceof h?t:h,a=Object.create(r.prototype),c=new L(o||[]);return i(a,"_invoke",{value:P(n,e,c)}),a}function d(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=s;var p="suspendedStart",f="suspendedYield",m="executing",v="completed",g={};function h(){}function b(){}function y(){}var E={};u(E,a,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(j([])));S&&S!==e&&o.call(S,a)&&(E=S);var C=y.prototype=h.prototype=Object.create(E);function k(n){["next","throw","return"].forEach((function(t){u(n,t,(function(n){return this._invoke(t,n)}))}))}function x(n,t){function e(i,r,a,c){var l=d(n[i],n,r);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==N(s)&&o.call(s,"__await")?t.resolve(s.__await).then((function(n){e("next",n,a,c)}),(function(n){e("throw",n,a,c)})):t.resolve(s).then((function(n){u.value=n,a(u)}),(function(n){return e("throw",n,a,c)}))}c(l.arg)}var r;i(this,"_invoke",{value:function(n,o){function i(){return new t((function(t,i){e(n,o,t,i)}))}return r=r?r.then(i,i):i()}})}function P(t,e,o){var i=p;return function(r,a){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===r)throw a;return{value:n,done:!0}}for(o.method=r,o.arg=a;;){var c=o.delegate;if(c){var l=O(c,o);if(l){if(l===g)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===p)throw i=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=m;var u=d(t,e,o);if("normal"===u.type){if(i=o.done?v:f,u.arg===g)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(i=v,o.method="throw",o.arg=u.arg)}}}function O(t,e){var o=e.method,i=t.iterator[o];if(i===n)return e.delegate=null,"throw"===o&&t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var r=d(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function I(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function A(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function L(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(I,this),this.reset(!0)}function j(t){if(t||""===t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}throw new TypeError(N(t)+" is not iterable")}return b.prototype=y,i(C,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,y):(n.__proto__=y,u(n,l,"GeneratorFunction")),n.prototype=Object.create(C),n},t.awrap=function(n){return{__await:n}},k(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(n,e,o,i,r){void 0===r&&(r=Promise);var a=new x(s(n,e,o,i),r);return t.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},k(C),u(C,l,"Generator"),u(C,a,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),e=[];for(var o in t)e.push(o);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(o,i){return c.type="throw",c.arg=t,e.next=o,i&&(e.method="next",e.arg=n),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===n||"continue"===n)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=n,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),g},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),A(e),g}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var o=e.completion;if("throw"===o.type){var i=o.arg;A(e)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:j(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=n),g}},t}function T(n){return function(n){if(Array.isArray(n))return q(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||G(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(n,t,e,o,i,r,a){try{var c=n[r](a),l=c.value}catch(u){return void e(u)}c.done?t(l):Promise.resolve(l).then(o,i)}function z(n){return function(){var t=this,e=arguments;return new Promise((function(o,i){var r=n.apply(t,e);function a(n){V(r,o,i,a,c,"next",n)}function c(n){V(r,o,i,a,c,"throw",n)}a(void 0)}))}}function M(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var o,i,r,a,c=[],l=!0,u=!1;try{if(r=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;l=!1}else for(;!(l=(o=r.call(e)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(n){u=!0,i=n}finally{try{if(!l&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(n,t)||G(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(n,t){if(n){if("string"==typeof n)return q(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?q(n,t):void 0}}function q(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}Z.defaultProps={"data-componentid":"outbound-provisioning-connector-setup-wizard"};var F=function(n){var t,e,g,b,w,C,k,x=n["data-componentid"],P=(0,u.$)().t,O=(0,s.I0)(),A=(0,s.v9)((function(n){var t;return null==n||null===(t=n.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),L=(0,s.v9)((function(n){var t;return null==n||null===(t=n.auth)||void 0===t?void 0:t.allowedScopes})),j=(0,l.useMemo)((function(){var n;return!(0,i.Xr)(null==A?void 0:A.residentOutboundProvisioning,null==A||null===(n=A.residentOutboundProvisioning)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update,L)}),[A,L]),_=M((0,l.useState)(!1),2),R=_[0],N=_[1],V=M((0,l.useState)([]),2),G=V[0],q=V[1],F=M((0,l.useState)([]),2),Q=F[0],W=F[1],$=M((0,l.useState)(null),2),D=$[0],H=$[1],K=M((0,l.useState)(!1),2),X=K[0],B=K[1],Y=M((0,l.useState)(!1),2),J=Y[0],nn=Y[1],tn=(b={headers:{Accept:"application/json","Content-Type":"application/json"},method:r.f2.GET,url:"".concat(h.h.getState().config.endpoints.applications,"/resident")},w=(0,E.Z)(b),C=w.data,k=w.error,{data:C,error:k,isLoading:!k&&!C,isValidating:w.isValidating,mutate:w.mutate}),en=tn.data,on=tn.error,rn=tn.isLoading,an=tn.mutate,cn=(0,v.af)(null,null,null,"provisioning"),ln=cn.data,un=cn.isLoading,sn=cn.error;(0,l.useEffect)((function(){if(!un&&!sn){var n,t=null==ln||null===(n=ln.identityProviders)||void 0===n?void 0:n.filter((function(n){var t;return null===(t=n.provisioning)||void 0===t||null===(t=t.outboundConnectors)||void 0===t||null===(t=t.connectors)||void 0===t?void 0:t.some((function(n){return n.isEnabled}))}));W(t)}}),[un,sn,ln]),(0,l.useEffect)((function(){!rn&&on&&O((0,a.V_)({description:P("applications:resident.provisioning.outbound.notifications.fetch.genericError.description"),level:r.QU.ERROR,message:P("applications:resident.provisioning.outbound.notifications.fetch.genericError.message")}))}),[on]);var dn=function(){var n=z(U().mark((function n(t,e){var o,i,c,l,u,s;return U().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(nn(!0),l=null==en||null===(o=en.provisioningConfigurations)||void 0===o||null===(o=o.outboundProvisioningIdps)||void 0===o?void 0:o.some((function(n){return n.idp===t.idp&&n.connector===t.connector})),e||!l){n.next=7;break}return nn(!1),N(!1),O((0,a.V_)({description:P("applications:resident.provisioning.outbound.notifications.create.error.description"),level:r.QU.ERROR,message:P("applications:resident.provisioning.outbound.notifications.create.error.message")})),n.abrupt("return");case 7:return u=T(null==en||null===(i=en.provisioningConfigurations)||void 0===i?void 0:i.outboundProvisioningIdps),(s=null==en||null===(c=en.provisioningConfigurations)||void 0===c||null===(c=c.outboundProvisioningIdps)||void 0===c?void 0:c.findIndex((function(n){return n.idp===t.idp})))>-1&&u.splice(s,1),u.push(t),n.prev=11,n.next=14,y(u);case 14:N(!1),O(e?(0,a.V_)({description:P("applications:resident.provisioning.outbound.notifications.update.success.description"),level:r.QU.SUCCESS,message:P("applications:resident.provisioning.outbound.notifications.update.success.message")}):(0,a.V_)({description:P("applications:resident.provisioning.outbound.notifications.create.success.description"),level:r.QU.SUCCESS,message:P("applications:resident.provisioning.outbound.notifications.create.success.message")})),an(),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(11),O(e?(0,a.V_)({description:P("applications:resident.provisioning.outbound.notifications.update.genericError.description"),level:r.QU.ERROR,message:P("applications:resident.provisioning.outbound.notifications.update.genericError.message")}):(0,a.V_)({description:P("applications:resident.provisioning.outbound.notifications.create.genericError.description"),level:r.QU.ERROR,message:P("applications:resident.provisioning.outbound.notifications.create.genericError.message")}));case 22:return n.prev=22,nn(!1),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[11,19,22,25]])})));return function(t,e){return n.apply(this,arguments)}}(),pn=function(){var n=z(U().mark((function n(t){var e,o,i,c;return U().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=T(null==en||null===(e=en.provisioningConfigurations)||void 0===e?void 0:e.outboundProvisioningIdps),(c=null==en||null===(o=en.provisioningConfigurations)||void 0===o||null===(o=o.outboundProvisioningIdps)||void 0===o?void 0:o.findIndex((function(n){return n.idp===t.idp})))>-1&&i.splice(c,1),n.prev=3,n.next=6,y(i);case 6:B(!1),O((0,a.V_)({description:P("applications:resident.provisioning.outbound.notifications.delete.success.description"),level:r.QU.SUCCESS,message:P("applications:resident.provisioning.outbound.notifications.delete.success.message")})),an(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),O((0,a.V_)({description:P("applications:resident.provisioning.outbound.notifications.delete.genericError.description"),level:r.QU.SUCCESS,message:P("applications:resident.provisioning.outbound.notifications.delete.genericError.message")}));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(t){return n.apply(this,arguments)}}(),fn=function(n,t){if(t){var e=T(G);if(e.includes(t.accordionIndex)){var o=e.indexOf(t.accordionIndex);e.splice(o,1)}else e.push(t.accordionIndex);q(e)}};return l.createElement(c.Xg,{pageTitle:P("applications:resident.provisioning.outbound.heading"),title:P("applications:resident.provisioning.outbound.heading"),description:P("applications:resident.provisioning.outbound.subHeading"),"data-componentid":"".concat(x,"-layout"),backButton:{"data-componentid":"".concat(x,"-back-button"),onClick:function(){m.m8.push(m.$x.getPaths().get("LOGIN_AND_REGISTRATION"))},text:P("governanceConnectors:goBackLoginAndRegistration")},action:(null==en||null===(t=en.provisioningConfigurations)||void 0===t||null===(t=t.outboundProvisioningIdps)||void 0===t?void 0:t.length)>0&&!j&&l.createElement(c.KM,{onClick:function(){return N(!0)},"data-componentid":"".concat(x,"-add-button")},l.createElement(d.Z,{name:"add"}),P("applications:resident.provisioning.outbound.emptyPlaceholder.action"))},l.createElement(p.Z,{hidden:!0}),l.createElement(l.Fragment,null,(null==en||null===(e=en.provisioningConfigurations)||void 0===e||null===(e=e.outboundProvisioningIdps)||void 0===e?void 0:e.length)>0?l.createElement(l.Fragment,null,null==en||null===(g=en.provisioningConfigurations)||void 0===g||null===(g=g.outboundProvisioningIdps)||void 0===g?void 0:g.map((function(n,t){return l.createElement(m.Us,{key:n.idp,globalActions:[!j&&{icon:"trash alternate",onClick:function(){B(!0),H(n)},type:"icon"}],authenticators:[{content:l.createElement(I,{initialValues:n,triggerSubmit:null,onSubmit:function(n){return dn(n,!0)},idpList:Q,"data-componentid":"".concat(x,"-").concat(n.idp,"-form"),isSubmitting:J,isReadOnly:j,isEdit:!0}),id:null==n?void 0:n.idp,title:null==n?void 0:n.idp}],accordionActiveIndexes:G,accordionIndex:t,handleAccordionOnClick:fn,"data-componentid":"".concat(x,"-").concat(n.idp,"-\n                                                            outbound-connector-accordion")})}))):l.createElement(f.Z,null,l.createElement(c.$J,{title:P("applications:resident.provisioning.outbound.emptyPlaceholder.title"),image:(0,o.jF)().emptyList,subtitle:[P("applications:resident.provisioning.outbound.emptyPlaceholder.subtitles")],imageSize:"tiny",action:l.createElement(c.KM,{onClick:function(){return N(!0)},"data-componentid":"".concat(x,"-add-button")},l.createElement(d.Z,{name:"add"}),P("applications:resident.provisioning.outbound.emptyPlaceholder.action"))}))),R&&l.createElement(Z,{closeWizard:function(){return N(!1)},onUpdate:function(n){return dn(n,!1)},isSubmitting:J,availableIdpList:Q}),X&&l.createElement(S,{isOpen:X,onClose:function(){return B(!1)},deletingIdp:D,onConfirm:pn}))};F.defaultProps={"data-componentid":"outbound-provisioning-settings-page"};const Q=F}}]);