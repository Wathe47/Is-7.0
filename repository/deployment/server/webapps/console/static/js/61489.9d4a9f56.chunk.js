(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[61489,45168],{45168:(e,n,t)=>{"use strict";t.r(n),t.d(n,{getAssociationType:()=>r});var r=function(e,n){var t="";if((null==e?void 0:e.length)>0){var r=e.find((function(e){return e.domain===n}));r&&(t=r.associationType)}return t}},6958:(e,n,t)=>{"use strict";t.d(n,{I:()=>K});var r=t(24184),o=t(71015),s=t(54833),a=t(93129),i=t(3356),l=t(14045),c=t(66112),u=t(86727),d=t(67127),m=t(84025),f=t.n(m),p=t(44194),v=t(10479),g=t(47245),E=t(89141),C=t(77757),h=t(12950),b=t(10909),S=t(62508),y=t(59673),A=t(26154),w=t(47018),U=t(24393),R=t(40518),O=t(37313),I=t(72478),N=t(32514),_=t(31659);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function P(e,n,t){var r;return r=function(e,n){if("object"!=M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==M(r)?r:r+"")in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s,a,i=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(i.push(r.value),i.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(e,n)||T(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,n){if(e){if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,n):void 0}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var D=function(e){var n=e.onAlertFired,t=e.user,r=e.handleUserUpdate,i=e.openChangePasswordModal,l=e.handleCloseChangePasswordModal,d=e.connectorProperties,m=e.handleForcePasswordResetTrigger,f=e["data-testid"],C=(0,v.$)().t,h=Z((0,p.useState)(void 0),2),b=h[0],S=h[1],M=Z((0,p.useState)(""),2),L=M[0],D=M[1],k=Z((0,p.useState)(!1),2),x=k[0],H=k[1],V=Z((0,p.useState)(!0),2),j=V[0],Y=V[1],F=Z((0,p.useState)(void 0),2),G=F[0],q=F[1],Q=Z((0,p.useState)(""),2),W=Q[0],B=Q[1],z=Z((0,p.useState)("setPassword"),2),X=z[0],K=z[1],$=Z((0,c.cC)(),2),J=$[0],ee=$[1],ne=Z((0,p.useState)(void 0),2),te=ne[0],re=ne[1],oe=Z((0,p.useState)("false"),2),se=oe[0],ae=oe[1],ie=Z((0,p.useState)(!1),2),le=ie[0],ce=ie[1],ue=(0,g.v9)((function(e){return e.config.ui.features})),de=(0,g.v9)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.allowedScopes})),me=(0,I.W)().data;(0,p.useEffect)((function(){me&&S((0,_.P_)(me))}),[me]),(0,p.useEffect)((function(){var e;H(!0);var n=null==t||null===(e=t.userName)||void 0===e?void 0:e.split("/"),r=(null==n?void 0:n.length)>1?n[0]:O.pH;U.w3.getUserStoreRegEx(r,O.y8.PasswordRegEx).then((function(e){D(e)})).finally((function(){H(!1)}))}),[t]),(0,p.useEffect)((function(){d&&void 0===te&&re(d)}),[d]),(0,p.useEffect)((function(){if(te&&Array.isArray(te)&&(null==te?void 0:te.length)>0){var e,n=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=T(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==t.return||t.return()}finally{if(i)throw s}}}}(te);try{for(n.s();!(e=n.n()).done;){var t=e.value;t.name===R.vH.RECOVERY_LINK_PASSWORD_RESET&&"true"===t.value&&ae(t.value)}}catch(r){n.e(r)}finally{n.f()}}}),[te]);var fe=function(){B(""),K("setPassword"),q(void 0)},pe=[{label:C("user:modals.changePasswordModal.passwordOptions.setPassword"),value:"setPassword"},{label:C("user:modals.changePasswordModal.passwordOptions.forceReset"),value:"forceReset"}],ve=function(){U.m8.push(U.$x.getPaths().get("GOVERNANCE_CONNECTOR_EDIT").replace(":categoryId",R.vH.ACCOUNT_MANAGEMENT_CATEGORY_ID).replace(":connectorId",R.vH.ADMIN_FORCED_PASSWORD_RESET))},ge=function(e){Y(e)},Ee=function(e){var n,t=null==e||null===(n=e.get("newPassword"))||void 0===n?void 0:n.toString();B(t)},Ce=function(e,n){var t;(function(e){return b?j:U.w3.validateInputAgainstRegEx(e,L)})(e)||(n.isValid=!1,null==n||null===(t=n.errorMessages)||void 0===t||t.push(C(b?"extensions:manage.features.user.addUser.validation.error.passwordValidation":"extensions:manage.features.user.addUser.validation.password")))},he=function(){return p.createElement(p.Fragment,null,p.createElement(E.Z.Row,null,p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:14},p.createElement(c.gN,{"data-testid":"user-mgt-edit-user-form-newPassword-input",className:"addon-field-wrapper",hidePassword:C("common:hidePassword"),label:C("user:forms.addUserForm.inputs.newPassword.label"),name:"newPassword",placeholder:C("user:forms.addUserForm.inputs.newPassword.placeholder"),required:!0,requiredErrorMessage:C("user:forms.addUserForm.inputs.newPassword.validations.empty"),showPassword:C("common:showPassword"),type:"password",value:"",listen:Ee,loading:x,validation:Ce}),b&&p.createElement(u.Tj,{password:W,minLength:Number(null==b?void 0:b.minLength),maxLength:Number(null==b?void 0:b.maxLength),minNumbers:Number(null==b?void 0:b.minNumbers),minUpperCase:Number(null==b?void 0:b.minUpperCaseCharacters),minLowerCase:Number(null==b?void 0:b.minLowerCaseCharacters),minSpecialChr:Number(null==b?void 0:b.minSpecialCharacters),minUniqueChr:Number(null==b?void 0:b.minUniqueCharacters),maxConsecutiveChr:Number(null==b?void 0:b.maxConsecutiveCharacters),onPasswordValidate:ge,translations:{case:Number(null==b?void 0:b.minUpperCaseCharacters)>0&&Number(null==b?void 0:b.minLowerCaseCharacters)>0?C("extensions:manage.features.user.addUser.validation.passwordCase",{minLowerCase:null==b?void 0:b.minLowerCaseCharacters,minUpperCase:null==b?void 0:b.minUpperCaseCharacters}):Number(null==b?void 0:b.minUpperCaseCharacters)>0?C("extensions:manage.features.user.addUser.validation.upperCase",{minUpperCase:null==b?void 0:b.minUpperCaseCharacters}):C("extensions:manage.features.user.addUser.validation.lowerCase",{minLowerCase:null==b?void 0:b.minLowerCaseCharacters}),consecutiveChr:C("extensions:manage.features.user.addUser.validation.consecutiveCharacters",{repeatedChr:null==b?void 0:b.maxConsecutiveCharacters}),length:C("extensions:manage.features.user.addUser.validation.passwordLength",{max:null==b?void 0:b.maxLength,min:null==b?void 0:b.minLength}),numbers:C("extensions:manage.features.user.addUser.validation.passwordNumeric",{min:null==b?void 0:b.minNumbers}),specialChr:C("extensions:manage.features.user.addUser.validation.specialCharacter",{specialChr:null==b?void 0:b.minSpecialCharacters}),uniqueChr:C("extensions:manage.features.user.addUser.validation.uniqueCharacters",{uniqueChr:null==b?void 0:b.minUniqueCharacters})}}))),p.createElement(E.Z.Row,null,p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:14},p.createElement(c.gN,{"data-testid":"user-mgt-edit-user-form-confirmPassword-input",className:"addon-field-wrapper",hidePassword:C("common:hidePassword"),label:C("user:forms.addUserForm.inputs.confirmPassword.label"),name:"confirmPassword",placeholder:C("user:forms.addUserForm.inputs.confirmPassword.placeholder"),required:!0,requiredErrorMessage:C("user:forms.addUserForm.inputs.confirmPassword.validations.empty"),showPassword:C("common:showPassword"),type:"password",value:"",listen:function(e){(null==e?void 0:e.get("newPassword"))!==(null==e?void 0:e.get("confirmPassword"))||""===(null==e?void 0:e.get("confirmPassword"))?void 0!==G&&q(void 0):q(!0)},validation:function(e,n,t){var r;(null==t?void 0:t.get("newPassword"))!==e&&(n.isValid=!1,q(!1),null==n||null===(r=n.errorMessages)||void 0===r||r.push(C("user:forms.addUserForm.inputs.confirmPassword.validations.mismatch")))}}),p.createElement("div",{className:"password-policy-description"},p.createElement(A.Z,{className:void 0===G?"circle thin":G?"check circle":"remove circle",color:void 0===G?"grey":G?"green":"red",inverted:!0}),p.createElement("p",null,C("extensions:manage.features.user.addUser.validation.confirmPassword"))))))},be=function(){return X&&"setPassword"===X?he():function(e){return null==e?void 0:e.map((function(e,n){var t;if((null==e?void 0:e.name)===R.vH.RECOVERY_LINK_PASSWORD_RESET)return"true"===(null==e?void 0:e.value)?p.createElement(E.Z.Row,{key:n},p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:14},p.createElement(u.v0,{key:n,hideDefaultIcon:!0,icon:"mail",content:C("extensions:manage.users.editUserProfile.resetPassword.changePasswordModal.emailResetWarning")}))):p.createElement(E.Z.Row,{key:n},p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:14},p.createElement(u.v0,{hideDefaultIcon:!0,error:!0,key:n,content:p.createElement(p.Fragment,null,p.createElement(A.Z,{color:"red",name:"times circle"}),p.createElement(y.c,{i18nKey:"extensions:manage.users.editUserProfile.resetPassword.changePasswordModal.passwordResetConfigDisabled"},"Password reset via recovery email is not enabled. Please make sure to enable it from",(0,s.Xr)(null==ue?void 0:ue.loginAndRegistration,null==ue||null===(t=ue.loginAndRegistration)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.feature,de)?p.createElement("a",{onClick:ve,className:"ml-1 external-link link pointing primary"},"Login and Registration"):"Login and Registration"," configurations"))})))}))}(te)};return p.createElement(w.Z,{"data-testid":f,open:i,size:"tiny"},p.createElement(w.Z.Header,null,C("user:modals.changePasswordModal.header")),p.createElement(w.Z.Content,null,p.createElement(c.Es,{"data-testid":"".concat(f,"-form"),onSubmit:function(e){"setPassword"===X?function(e){var o={Operations:[{op:"replace",value:{password:e.get("newPassword").toString()}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};ce(!0),(0,N.gS)(t.id,o).then((function(){n({description:C("user:profile.notifications.changeUserPassword.success.description"),level:a.QU.SUCCESS,message:C("user:profile.notifications.changeUserPassword.success.message")}),l(),fe(),r(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?n({description:e.response.data.description,level:a.QU.ERROR,message:C("user:profile.notifications.changeUserPassword.error.message")}):(n({description:C("user:profile.notifications.changeUserPassword.genericError.description"),level:a.QU.ERROR,message:C("user:profile.notifications.changeUserPassword.genericError.message")}),l(),fe())})).finally((function(){ce(!1)}))}(e):function(){if("false"!==se){var e={Operations:[{op:"add",value:P({},o.Cb.SCIM2_WSO2_USER_SCHEMA,{forcePasswordReset:!0})}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};ce(!0),(0,N.gS)(t.id,e).then((function(){n({description:C("user:profile.notifications.forcePasswordReset.success.description"),level:a.QU.SUCCESS,message:C("user:profile.notifications.forcePasswordReset.success.message")}),m&&m(),fe(),l(),r(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?n({description:e.response.data.description,level:a.QU.ERROR,message:C("user:profile.notifications.forcePasswordReset.error.message")}):(n({description:C("user:profile.notifications.forcePasswordReset.genericError.description"),level:a.QU.ERROR,message:C("user:profile.notifications.forcePasswordReset.genericError.message")}),fe(),l())})).finally((function(){ce(!1)}))}else n({description:C("user:profile.notifications.noPasswordResetOptions.error.description"),level:a.QU.WARNING,message:C("user:profile.notifications.noPasswordResetOptions.error.message")})}()},submitState:J},p.createElement(E.Z,null,(null==te?void 0:te.length)>1?p.createElement(p.Fragment,null,p.createElement(E.Z.Row,null,p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:14},p.createElement(c.gN,{"data-testid":"user-mgt-add-user-form-passwordOption-radio-button",type:"radio",label:C("user:forms.addUserForm.buttons.radioButton.label"),name:"passwordOption",default:"setPassword",listen:function(e){K(e.get("passwordOption").toString())},children:pe,value:"setPassword",tabIndex:4,maxWidth:60,width:60}))),be(),p.createElement(E.Z.Row,null,p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:14},p.createElement(u.v0,{type:"warning",content:C("user:modals.changePasswordModal.message")})))):p.createElement(p.Fragment,null,he(),p.createElement(E.Z.Row,null,p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:14},p.createElement(u.v0,{type:"warning",content:C("user:modals.changePasswordModal.message")}))))))),p.createElement(w.Z.Actions,null,p.createElement(E.Z,null,p.createElement(E.Z.Row,{column:1},p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:16},p.createElement(u.KM,{"data-testid":"".concat(f,"-save-button"),floated:"right",loading:le,disabled:le,onClick:function(){return ee()}},C("user:modals.changePasswordModal.button")),p.createElement(u.Qj,{"data-testid":"".concat(f,"-cancel-button"),floated:"left",onClick:function(){l(),fe()}},C("common:cancel")))))))};D.defaultProps={"data-testid":"user-mgt-change-password"};var k=t(84870),x=t(45168),H=t(67858),V=t(39594),j=t(18867);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function F(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=z(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==t.return||t.return()}finally{if(i)throw s}}}}function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach((function(n){W(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function W(e,n,t){var r;return r=function(e,n){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==Y(r)?r:r+"")in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s,a,i=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(i.push(r.value),i.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(e,n)||z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){if(e){if("string"==typeof e)return X(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X(e,n):void 0}}function X(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var K=function(e){var n,t,m,y,A,w,O,I,_=e.adminUsername,M=e.onAlertFired,P=e.user,Z=e.handleUserUpdate,T=e.isReadOnly,L=e.allowDeleteOnly,Y=e.connectorProperties,q=e.isReadOnlyUserStoresLoading,z=e.isReadOnlyUserStore,X=e.tenantAdmin,K=e.editUserDisclaimerMessage,$=e.adminUserType,J=e.isUserManagedByParentOrg,ee=e["data-testid"],ne=(0,v.$)().t,te=(0,g.I0)(),re=(0,g.v9)((function(e){return e.profile.profileSchemas})),oe=(0,g.v9)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.allowedScopes})),se=(0,g.v9)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.providedUsername})),ae=(0,g.v9)((function(e){return e.auth.isPrivilegedUser})),ie=(0,g.v9)((function(e){var n;return null==e||null===(n=e.config)||void 0===n||null===(n=n.deployment)||void 0===n?void 0:n.tenant})),le=(0,g.v9)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.tenants})),ce=(0,g.v9)((function(e){return e.global.supportedI18nLanguages})),ue=(0,g.v9)((function(e){return e.config.ui.features})),de=B((0,p.useState)(new Map),2),me=de[0],fe=de[1],pe=B((0,p.useState)(),2),ve=pe[0],ge=pe[1],Ee=B((0,p.useState)(!1),2),Ce=Ee[0],he=Ee[1],be=B((0,p.useState)(!1),2),Se=be[0],ye=be[1],Ae=B((0,p.useState)(void 0),2),we=Ae[0],Ue=Ae[1],Re=B((0,p.useState)(void 0),2),Oe=Re[0],Ie=Re[1],Ne=B((0,p.useState)(!1),2),_e=Ne[0],Me=Ne[1],Pe=B((0,p.useState)(!1),2),Ze=Pe[0],Te=Pe[1],Le=B((0,p.useState)({accountDisable:"false",accountLock:"false",forcePasswordReset:"false"}),2),De=Le[0],ke=Le[1],xe=B((0,u.ZK)(),3),He=xe[0],Ve=xe[1],je=xe[2],Ye=B((0,p.useState)([]),2),Fe=Ye[0],Ge=Ye[1],qe=B((0,p.useState)(!1),2),Qe=qe[0],We=qe[1],Be=B((0,p.useState)(""),2),ze=Be[0],Xe=Be[1],Ke=B((0,p.useState)(""),2),$e=Ke[0],Je=Ke[1],en=null==P||null===(n=P.meta)||void 0===n?void 0:n.created,nn=null==P||null===(t=P.meta)||void 0===t?void 0:t.lastModified,tn="true"===(null===(m=P[k.userConfig.userProfileSchema])||void 0===m?void 0:m.accountLocked)||!0===(null===(y=P[k.userConfig.userProfileSchema])||void 0===y?void 0:y.accountLocked),rn="true"===(null===(A=P[k.userConfig.userProfileSchema])||void 0===A?void 0:A.accountDisabled),on=null===(w=P[k.userConfig.userProfileSchema])||void 0===w?void 0:w.oneTimePassword,sn=null!==(O=null==P||null===(I=P.roles)||void 0===I?void 0:I.some((function(e){return e.display===H.administratorConfig.adminRoleName})))&&void 0!==O&&O;(0,p.useEffect)((function(){if(Y&&Array.isArray(Y)&&(null==Y?void 0:Y.length)>0){var e,n=Q({},De),t=G(Y);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.name===R.vH.ACCOUNT_DISABLING_ENABLE?n=Q(Q({},n),{},{accountDisable:r.value}):r.name===R.vH.RECOVERY_LINK_PASSWORD_RESET||r.name===R.vH.OTP_PASSWORD_RESET||r.name===R.vH.OFFLINE_PASSWORD_RESET?"true"===r.value&&(n=Q(Q({},n),{},{forcePasswordReset:r.value})):r.name===R.vH.ACCOUNT_LOCK_ON_CREATION&&(n=Q(Q({},n),{},{accountLock:r.value}))}}catch(o){t.e(o)}finally{t.f()}ke(n)}}),[Y]),(0,p.useEffect)((function(){Ge(l.CommonUtils.getCountryList()),Je((0,x.getAssociationType)(le,ie)),$===j.lu.INTERNAL&&null!==k.userConfig&&void 0!==k.userConfig&&k.userConfig.enableAdminPrivilegeRevokeOption&&dn()}),[]),(0,p.useEffect)((function(){var e=l.ProfileUtils.flattenSchemas(F(re)).filter((function(e){return e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_VERSION"))})).sort((function(e,n){return e.displayOrder?n.displayOrder?parseInt(e.displayOrder,10)-parseInt(n.displayOrder,10):1:-1}));ge(e)}),[re]),(0,p.useEffect)((function(){ln(ve,P)}),[ve,P]);var an=(0,p.useCallback)((function(e){null!==e&&(e.children[0].children[1].children[0].role="presentation")}),[]),ln=function(e,n){if(!(0,d.Z)(ve)&&!(0,d.Z)(n)){var t=new Map;$===j.lu.INTERNAL?e.forEach((function(e){var r=e.name.split(".");if(1===r.length)if("emails"===r[0]){var s=r[0];if(l.ProfileUtils.isStringArray(n[s])){var a=n[s].find((function(e){return"string"==typeof e}));t.set(e.name,a)}}else{var i=r[0];if(e.extended&&n[k.userConfig.userProfileSchema]&&n[k.userConfig.userProfileSchema][r[0]])return void t.set(e.name,n[k.userConfig.userProfileSchema][r[0]]);if(e.extended&&n[o.Cb.SCIM2_ENT_USER_SCHEMA]&&n[o.Cb.SCIM2_ENT_USER_SCHEMA][r[0]])return void t.set(e.name,n[o.Cb.SCIM2_ENT_USER_SCHEMA][r[0]]);t.set(e.name,n[i])}else if("name"===r[0]){var c=r[0],u=r[1];u&&n[c]&&n[c][u]&&t.set(e.name,n[c][u])}else{var d=r[0],m=r[1];if(e.extended&&n[k.userConfig.userProfileSchema])d&&m&&n[k.userConfig.userProfileSchema][d]&&n[k.userConfig.userProfileSchema][d][m]&&t.set(e.name,n[k.userConfig.userProfileSchema][d][m]);else{var f=n[d]&&Array.isArray(n[d])&&n[d].find((function(e){return e.type===m}));"addresses"===d?t.set(e.name,f?f.formatted:""):t.set(e.name,f?f.value:"")}}})):e.forEach((function(e){var r=e.name.split(".");if(1===r.length)if("emails"===r[0]){var s=r[0];if(l.ProfileUtils.isStringArray(n[s])){var a=n[s].find((function(e){return"string"==typeof e}));t.set(e.name,a)}}else{var i=r[0];if(e.extended&&n[k.userConfig.userProfileSchema]&&n[k.userConfig.userProfileSchema][r[0]])return void t.set(e.name,n[k.userConfig.userProfileSchema][r[0]]);if(e.extended&&n[o.Cb.SCIM2_ENT_USER_SCHEMA]&&n[o.Cb.SCIM2_ENT_USER_SCHEMA][r[0]])return void t.set(e.name,n[o.Cb.SCIM2_ENT_USER_SCHEMA][r[0]]);t.set(e.name,n[i])}else if("name"===r[0]){var c=r[0],u=r[1];u&&n[c]&&n[c][u]&&t.set(e.name,n[c][u])}else{var d=r[0],m=r[1];if(e.extended&&n[k.userConfig.userProfileSchema])d&&m&&n[k.userConfig.userProfileSchema][d]&&n[k.userConfig.userProfileSchema][d][m]&&t.set(e.name,n[k.userConfig.userProfileSchema][d][m]);else{var f=n[d]&&Array.isArray(n[d])&&n[d].find((function(e){return e.type===m}));"addresses"===d?t.set(e.name,f?f.formatted:""):t.set(e.name,f?f.value:"")}}})),fe(t)}},cn=function(e,n){var t=null==e?void 0:e.userName;return 0===t.length&&n?e.email:(t.split("/").length>1&&(t=t.split("/")[1]),t)},un=function(e,n,t){if(!e)return e;var r=e.search(/[-_]/),o=e;if(-1!==r){var s=e.substring(0,r).toLowerCase(),a=e.substring(r+1).toUpperCase();o="".concat(s).concat(n).concat(a)}return t&&!ce[o]&&(ce[o]={code:o,name:j._F.GLOBE,namespaces:[]}),o},dn=function(){var e={filter:"displayName eq "+H.administratorConfig.adminRoleName,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:0};(0,V.QW)(e).then((function(e){var n;if((null==e||null===(n=e.data)||void 0===n?void 0:n.Resources.length)>0){var t,r=null==e||null===(t=e.data)||void 0===t||null===(t=t.Resources[0])||void 0===t?void 0:t.id;Xe(r)}})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,i.V_)({description:e.response.data.description,level:a.QU.ERROR,message:ne("users:notifications.getAdminRole.error.message")})):te((0,i.V_)({description:ne("users:notifications.getAdminRole.genericError.description"),level:a.QU.ERROR,message:ne("users:notifications.getAdminRole.genericError.message")}))}))},mn=function(e){var n,t,r,o,s;(Ie({name:null==e||null===(n=e.target)||void 0===n?void 0:n.id,value:null==e||null===(t=e.target)||void 0===t?void 0:t.checked}),null!=e&&null!==(r=e.target)&&void 0!==r&&r.checked)?Me(!0):fn(null==e||null===(o=e.target)||void 0===o?void 0:o.id,null==e||null===(s=e.target)||void 0===s?void 0:s.checked)},fn=function(e,n){var t,r,i={Operations:[{op:"replace",value:W({},k.userConfig.userProfileSchema,W({},e,n))}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};"internal"===$&&(i={Operations:[{op:"replace",value:W({},null!==k.SCIMConfigs&&void 0!==k.SCIMConfigs&&null!==(t=k.SCIMConfigs.scimEnterpriseUserClaimUri)&&void 0!==t&&null!==(t=t.accountDisabled)&&void 0!==t&&t.startsWith(o.Cb.SCIM2_WSO2_USER_SCHEMA)&&null!==k.SCIMConfigs&&void 0!==k.SCIMConfigs&&null!==(r=k.SCIMConfigs.scimEnterpriseUserClaimUri)&&void 0!==r&&null!==(r=r.accountLocked)&&void 0!==r&&r.startsWith(o.Cb.SCIM2_WSO2_USER_SCHEMA)?o.Cb.SCIM2_WSO2_USER_SCHEMA:o.Cb.SCIM2_ENT_USER_SCHEMA,W({},e,n))}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]});return(0,N.gS)(P.id,i).then((function(){M({description:e===o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ne(n?"user:profile.notifications.lockUserAccount.success.description":"user:profile.notifications.unlockUserAccount.success.description"):ne(n?"user:profile.notifications.disableUserAccount.success.description":"user:profile.notifications.enableUserAccount.success.description"),level:a.QU.SUCCESS,message:e===o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ne(n?"user:profile.notifications.lockUserAccount.success.message":"user:profile.notifications.unlockUserAccount.success.message",{name:P.emails&&void 0!==P.emails?(0,s.r1)(null==P?void 0:P.emails):cn(P,!0)}):ne(n?"user:profile.notifications.disableUserAccount.success.message":"user:profile.notifications.enableUserAccount.success.message",{name:P.emails&&void 0!==P.emails?(0,s.r1)(null==P?void 0:P.emails):cn(P,!1)})}),Me(!1),Z(P.id),Ie(void 0)})).catch((function(n){n.response&&n.response.data&&n.response.data.description?M({description:n.response.data.description,level:a.QU.ERROR,message:e===j._F.SCIM2_ATTRIBUTES_DICTIONARY.get("ACCOUNT_LOCKED")?ne("user:profile.notifications.lockUserAccount.error.message"):ne("user:profile.notifications.disableUserAccount.error.message")}):M({description:(null==Oe?void 0:Oe.name)===j._F.SCIM2_ATTRIBUTES_DICTIONARY.get("ACCOUNT_LOCKED")?ne("user:profile.notifications.lockUserAccount.genericError.description"):ne("user:profile.notifications.disableUserAccount.genericError.description"),level:a.QU.ERROR,message:(null==Oe?void 0:Oe.name)===j._F.SCIM2_ATTRIBUTES_DICTIONARY.get("ACCOUNT_LOCKED")?ne("user:profile.notifications.lockUserAccount.genericError.message"):ne("user:profile.notifications.disableUserAccount.genericError.message")})}))},pn=function(e,n){var t,r=ne("user:profile.fields."+e.name.replace(".","_"),{defaultValue:e.displayName}),s=null==me||null===(t=me.get(e.name))||void 0===t?void 0:t.toString().split("/");return p.createElement(E.Z.Row,{columns:1,key:n},p.createElement(E.Z.Column,{mobile:12,tablet:12,computer:6},"userName"===e.name&&s.length>1?p.createElement(p.Fragment,null,"internal"===$?p.createElement(C.Z.Field,null,p.createElement("label",null,k.commonConfig.userEditSection.showEmail?r:r+" (Email)"),p.createElement(h.Z,{"data-testid":"".concat(ee,"-profile-form-").concat(e.name,"-input"),name:e.name,required:e.required,requiredErrorMessage:r+" is required",placeholder:"Enter your "+r,type:"text",value:s[1],key:n,readOnly:!0,maxLength:e.maxLength?e.maxLength:o.Cb.CLAIM_VALUE_MAX_LENGTH})):p.createElement(C.Z.Field,null,p.createElement("label",null,k.commonConfig.userEditSection.showEmail?r:r+" (Email)"),p.createElement(h.Z,{"data-testid":"".concat(ee,"-profile-form-").concat(e.name,"-input"),name:e.name,label:s[0]+" / ",required:e.required,requiredErrorMessage:r+" is required",placeholder:"Enter your "+r,type:"text",value:s[1],key:n,readOnly:T||e.mutability===o.Cb.READONLY_SCHEMA,maxLength:e.maxLength?e.maxLength:o.Cb.CLAIM_VALUE_MAX_LENGTH}))):function(e,n,t){return"BOOLEAN"===e.type.toUpperCase()?p.createElement(c.gN,{"data-testid":"".concat(ee,"-profile-form-").concat(e.name,"-input"),name:e.name,required:e.required,requiredErrorMessage:n+" is required",type:"checkbox",value:me.get(e.name)?[e.name]:[],children:[{label:n,value:e.name}],readOnly:T||e.mutability===o.Cb.READONLY_SCHEMA,key:t}):"country"===e.name?p.createElement(c.gN,{ref:an,"data-testid":"".concat(ee,"-profile-form-").concat(e.name,"-input"),name:e.name,label:n,required:e.required,requiredErrorMessage:n+" is required",placeholder:"Select your "+n,type:"dropdown",value:me.get(e.name),children:[{"data-testid":"".concat(ee,"-profile-form-country-dropdown-empty"),key:"empty-country",text:"Select your country",value:""}].concat(Fe?Fe.map((function(e){return{"data-testid":"".concat(ee,"-profile-form-country-dropdown-")+e.value,flag:e.flag,key:e.key,text:e.text,value:e.value}})):[]),key:t,disabled:!1,readOnly:T||e.mutability===o.Cb.READONLY_SCHEMA,clearable:!e.required,search:!0,selection:!0,fluid:!0}):"locale"===(null==e?void 0:e.name)?p.createElement(c.gN,{"data-testid":"".concat(ee,"-profile-form-").concat(null==e?void 0:e.name,"-input"),name:null==e?void 0:e.name,label:n,required:null==e?void 0:e.required,requiredErrorMessage:ne("user:profile.forms.generic.inputs.validations.empty",{fieldName:n}),placeholder:ne("user:profile.forms.generic.inputs.dropdownPlaceholder",{fieldName:n}),type:"dropdown",value:un(me.get(null==e?void 0:e.name),j.lJ.HYPHEN,!0),children:[{"data-testid":"".concat(ee,"-profile-form-locale-dropdown-empty"),key:"empty-locale",text:ne("user:profile.forms.generic.inputs.dropdownPlaceholder",{fieldName:n}),value:""}].concat(ce?Object.keys(ce).map((function(e){var n;return{"data-testid":"".concat(ee,"-profile-form-locale-dropdown-")+ce[e].code,flag:null!==(n=ce[e].flag)&&void 0!==n?n:j._F.GLOBE,key:ce[e].code,text:ce[e].name===j._F.GLOBE?ce[e].code:"".concat(ce[e].name,",\n                                            ").concat(ce[e].code),value:ce[e].code}})):[]),key:t,disabled:!1,readOnly:T||(null==e?void 0:e.mutability)===o.Cb.READONLY_SCHEMA,clearable:!(null!=e&&e.required),search:!0,selection:!0,fluid:!0}):p.createElement(c.gN,{"data-testid":"".concat(ee,"-profile-form-").concat(e.name,"-input"),name:e.name,label:"profileUrl"===e.name?"Profile Image URL":k.commonConfig.userEditSection.showEmail||"userName"!==e.name?n:n+" (Email)",required:e.required,requiredErrorMessage:n+" is required",placeholder:"Enter your "+n,type:"text",value:me.get(e.name),key:t,disabled:"userName"===e.name,readOnly:T||e.mutability===o.Cb.READONLY_SCHEMA,validation:function(t,r){RegExp(e.regEx).test(t)||(r.isValid=!1,r.errorMessages.push(ne("users:forms.validation.formatError",{field:n})))},maxLength:n.toLowerCase().includes("uri")||n.toLowerCase().includes("url")?1024:e.maxLength?e.maxLength:o.Cb.CLAIM_VALUE_MAX_LENGTH})}(e,r,n)))};return q?p.createElement(u.pO,{dimmer:!0}):p.createElement(p.Fragment,null,!(0,d.Z)(me)&&p.createElement(u.pJ,{padded:"very"},T&&!(0,d.Z)(X)&&K,p.createElement(c.Es,{"data-testid":"".concat(ee,"-form"),onSubmit:function(e){return function(e){var n={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},t={op:"replace",value:{}};$===j.lu.INTERNAL?ve.forEach((function(r){if(r.mutability!==o.Cb.READONLY_SCHEMA){var s={},a=r.name.split(".");if("roles.default"!==r.name&&void 0!==e.get(r.name)&&void 0!==e.get(r.name).toString())if(l.ProfileUtils.isMultiValuedSchemaAttribute(ve,a[0])||"phoneNumbers"===a[0]){var i=[],c=new Map;if(1===a.length||"phoneNumbers.mobile"===r.name){var u,d=G(e.keys());try{for(d.s();!(u=d.n()).done;){var m=u.value;m.split(".")[0]===a[0]&&c.set(m,e.get(m))}}catch(y){d.e(y)}finally{d.f()}var f,p=G(c);try{for(p.s();!(f=p.n()).done;){var v=B(f.value,2),g=v[0],E=v[1],C=g.split(".");E&&""!==E&&(1===C.length?i.push(E):i.push({type:C[1],value:E}))}}catch(y){p.e(y)}finally{p.f()}s=W({},a[0],i)}}else{var h,b;if(1===a.length)s=r.extended?W({},null!=r&&r.schemaId?r.schemaId:k.userConfig.userProfileSchema,W({},a[0],"BOOLEAN"===r.type.toUpperCase()?!(null===(h=e.get(r.name))||void 0===h||!h.includes(r.name)):e.get(a[0]))):a[0]===j._F.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")?{emails:[e.get(r.name)]}:a[0]===j._F.SCIM2_SCHEMA_DICTIONARY.get("LOCALE")?W({},a[0],un(e.get(a[0]),j.lJ.UNDERSCORE,!1)):W({},a[0],e.get(a[0]));else if(r.extended)s=W({},null!=r&&r.schemaId?r.schemaId:k.userConfig.userProfileSchema,W({},a[0],W({},a[1],"BOOLEAN"===r.type.toUpperCase()?!(null===(b=e.get(r.name))||void 0===b||!b.includes(r.name)):e.get(r.name))));else if(a[0]===j._F.SCIM2_SCHEMA_DICTIONARY.get("NAME"))e.get(r.name)&&(s={name:W({},a[1],e.get(r.name))});else if("addresses"===a[0])s=W({},a[0],[{formatted:e.get(r.name),type:a[1]}]);else if("emails"!==a[0]&&"phoneNumbers"!==a[0]){var S;s=W({},a[0],[{type:a[1],value:"BOOLEAN"===r.type.toUpperCase()?!(null===(S=e.get(r.name))||void 0===S||!S.includes(r.name)):e.get(r.name)}])}}t={op:"replace",value:s},"addresses"===a[0]&&(t.op="add"),n.Operations.push(t)}})):ve.forEach((function(r){if(r.mutability!==o.Cb.READONLY_SCHEMA){var s={},a=r.name.split(".");if("roles.default"!==r.name&&void 0!==e.get(r.name)&&void 0!==e.get(r.name).toString())if(l.ProfileUtils.isMultiValuedSchemaAttribute(ve,a[0])||"phoneNumbers"===a[0]){var i=[],c=new Map;if(1===a.length||"phoneNumbers.mobile"===r.name){var u,d=G(e.keys());try{for(d.s();!(u=d.n()).done;){var m=u.value;m.split(".")[0]===a[0]&&c.set(m,e.get(m))}}catch(y){d.e(y)}finally{d.f()}var f,p=G(c);try{for(p.s();!(f=p.n()).done;){var v=B(f.value,2),g=v[0],E=v[1],C=g.split(".");E&&""!==E&&(1===C.length?i.push(E):i.push({type:C[1],value:E}))}}catch(y){p.e(y)}finally{p.f()}s=W({},a[0],i)}}else{var h,b;if(1===a.length)s=r.extended?W({},null!=r&&r.schemaId?r.schemaId:k.userConfig.userProfileSchema,W({},a[0],"BOOLEAN"===r.type.toUpperCase()?!(null===(h=e.get(r.name))||void 0===h||!h.includes(r.name)):e.get(a[0]))):a[0]===j._F.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")?{emails:[e.get(r.name)]}:a[0]===j._F.SCIM2_SCHEMA_DICTIONARY.get("LOCALE")?W({},a[0],un(e.get(a[0]),j.lJ.UNDERSCORE,!1)):W({},a[0],e.get(a[0]));else if(r.extended)s=W({},null!=r&&r.schemaId?r.schemaId:k.userConfig.userProfileSchema,W({},a[0],W({},a[1],"BOOLEAN"===r.type.toUpperCase()?!(null===(b=e.get(r.name))||void 0===b||!b.includes(r.name)):e.get(r.name))));else if(a[0]===j._F.SCIM2_SCHEMA_DICTIONARY.get("NAME"))s={name:W({},a[1],e.get(r.name))};else if("addresses"===a[0])s=W({},a[0],[{formatted:e.get(r.name),type:a[1]}]);else if("emails"!==a[0]&&"phoneNumbers"!==a[0]){var S;s=W({},a[0],[{type:a[1],value:"BOOLEAN"===r.type.toUpperCase()?!(null===(S=e.get(r.name))||void 0===S||!S.includes(r.name)):e.get(r.name)}])}}t={op:"replace",value:s},"addresses"===a[0]&&(t.op="add"),n.Operations.push(t)}})),We(!0),(0,N.gS)(P.id,n).then((function(){M({description:ne("user:profile.notifications.updateProfileInfo.success.description"),level:a.QU.SUCCESS,message:ne("user:profile.notifications.updateProfileInfo.success.message")}),Z(P.id)})).catch((function(e){var n,t,r,o;null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail||null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,i.V_)({description:(null==e||null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)||(null==e||null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.description),level:a.QU.ERROR,message:ne("user:profile.notifications.updateProfileInfo.error.message")})):te((0,i.V_)({description:ne("user:profile.notifications.updateProfileInfo.genericError.description"),level:a.QU.ERROR,message:ne("user:profile.notifications.updateProfileInfo.genericError.message")}))})).finally((function(){We(!1)}))}(e)}},p.createElement(E.Z,null,P.id&&p.createElement(E.Z.Row,{columns:1},p.createElement(E.Z.Column,{mobile:12,tablet:12,computer:6},p.createElement(C.Z.Field,null,p.createElement("label",null,ne("user:profile.fields.userId")),p.createElement(h.Z,{name:"userID",type:"text",value:P.id,readOnly:!0})))),ve&&ve.map((function(e,n){if(e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ROLES_DEFAULT"))&&e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACTIVE"))&&e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("GROUPS"))&&e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("PROFILE_URL"))&&e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED"))&&e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_DISABLED"))&&e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ONETIME_PASSWORD"))&&(k.commonConfig.userEditSection.showEmail||e.name!==(null===o.Cb||void 0===o.Cb?void 0:o.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")))&&function(e){return!(0,d.Z)(me.get(e.name))||!T&&e.mutability!==o.Cb.READONLY_SCHEMA}(e))return pn(e,n)})),on&&p.createElement(E.Z.Row,{columns:1},p.createElement(E.Z.Column,{mobile:12,tablet:12,computer:6},p.createElement(c.gN,{"data-testid":"".concat(ee,"-profile-form-one-time-pw }\n                                                        -input"),name:"oneTimePassword",label:ne("user:profile.fields.oneTimePassword"),required:!1,requiredErrorMessage:"",type:"text",hidden:void 0===on,value:on&&on,readOnly:!0}))),en&&p.createElement(E.Z.Row,{columns:1},p.createElement(E.Z.Column,{mobile:12,tablet:12,computer:6},p.createElement(C.Z.Field,null,p.createElement("label",null,ne("user:profile.fields.createdDate")),p.createElement(h.Z,{name:"createdDate",type:"text",value:en?f()(en).format("YYYY-MM-DD"):"",readOnly:!0})))),nn&&p.createElement(E.Z.Row,{columns:1},p.createElement(E.Z.Column,{mobile:12,tablet:12,computer:6},p.createElement(C.Z.Field,null,p.createElement("label",null,ne("user:profile.fields.modifiedDate")),p.createElement(h.Z,{name:"modifiedDate",type:"text",value:nn?f()(nn).format("YYYY-MM-DD"):"",readOnly:!0})))),p.createElement(E.Z.Row,{columns:1},p.createElement(E.Z.Column,{mobile:16,tablet:16,computer:8},!T&&p.createElement(b.Z,{"data-testid":"".concat(ee,"-form-update-button"),primary:!0,type:"submit",size:"small",className:"form-button",loading:Qe,disabled:Qe},"Update")))))),p.createElement(S.Z,{hidden:!0}),function(){var e,n,t;if(!(0,s.Xr)(null==ue?void 0:ue.users,null==ue||null===(e=ue.users)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,oe))return null;var o=cn(P,!1),a=null==se?void 0:se.includes(o);return p.createElement(p.Fragment,null,T&&!L&&!J||sn&&a?null:p.createElement(r.di,{when:null==ue||null===(n=ue.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.delete},p.createElement(u.v9,{sectionHeader:ne("user:editUser.dangerZoneGroup.header")},T||z||J||P.userName===_?null:p.createElement(r.di,{when:null==ue||null===(t=ue.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},p.createElement(u.cN,{"data-testid":"".concat(ee,"-change-password"),actionTitle:ne("user:editUser.dangerZoneGroup.passwordResetZone.actionTitle"),header:ne("user:editUser.dangerZoneGroup.passwordResetZone.header"),subheader:ne("user:editUser.dangerZoneGroup.passwordResetZone.subheader"),onActionClick:function(){Te(!0)},isButtonDisabled:tn,buttonDisableHint:ne("user:editUser.dangerZoneGroup.passwordResetZone.buttonHint")})),!L&&"true"===(null==De?void 0:De.accountDisable)&&p.createElement(u.cN,{"data-testid":"".concat(ee,"-account-disable-button"),actionTitle:ne("user:editUser.dangerZoneGroup.disableUserZone.actionTitle"),header:ne("user:editUser.dangerZoneGroup.disableUserZone.header"),subheader:ne("user:editUser.dangerZoneGroup.disableUserZone.subheader"),onActionClick:void 0,toggle:{checked:rn,id:"accountDisabled",onChange:mn}}),!L&&!J&&p.createElement(u.cN,{"data-testid":"".concat(ee,"-danger-zone-toggle"),actionTitle:ne("user:editUser.dangerZoneGroup.lockUserZone.actionTitle"),header:ne("user:editUser.dangerZoneGroup.lockUserZone.header"),subheader:ne("user:editUser.dangerZoneGroup.lockUserZone.subheader"),onActionClick:void 0,toggle:{checked:tn,id:"accountLocked",onChange:mn}}),(null===k.userConfig||void 0===k.userConfig?void 0:k.userConfig.enableAdminPrivilegeRevokeOption)&&!ae&&$===j.lu.INTERNAL&&$e!==j._F.GUEST_ADMIN_ASSOCIATION_TYPE&&p.createElement(u.cN,{"data-testid":"".concat(ee,"-revoke-admin-privilege-danger-zone"),actionTitle:ne("user:editUser.dangerZoneGroup.deleteAdminPriviledgeZone.actionTitle"),header:ne("user:editUser.dangerZoneGroup.deleteAdminPriviledgeZone.header"),subheader:ne("user:editUser.dangerZoneGroup.deleteAdminPriviledgeZone.subheader"),onActionClick:function(){ye(!0),Ue(P)}}),p.createElement(u.cN,{"data-testid":"".concat(ee,"-danger-zone"),actionTitle:ne("user:editUser.dangerZoneGroup.deleteUserZone.actionTitle"),header:ne("user:editUser.dangerZoneGroup.deleteUserZone.header"),subheader:k.commonConfig.userEditSection.isGuestUser?ne("extensions:manage.guest.editUser.dangerZoneGroup.deleteUserZone.subheader"):ne("user:editUser.dangerZoneGroup.deleteUserZone.subheader"),onActionClick:function(){he(!0),Ue(P)},isButtonDisabled:$===j.lu.INTERNAL&&z,buttonDisableHint:ne("user:editUser.dangerZoneGroup.deleteUserZone.buttonDisableHint")}))))}(),we&&p.createElement(u.cV,{"data-testid":"".concat(ee,"-confirmation-modal"),onClose:function(){return he(!1)},type:"negative",open:Ce,assertionHint:ne("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:ne("common:confirm"),secondaryAction:ne("common:cancel"),onSecondaryActionClick:function(){he(!1),Ve(null)},onPrimaryActionClick:function(){return function(e){k.userConfig.deleteUser(e).then((function(){M({description:ne("users:notifications.deleteUser.success.description"),level:a.QU.SUCCESS,message:ne("users:notifications.deleteUser.success.message")}),$===j.lu.EXTERNAL?U.m8.push(U.$x.getPaths().get("ADMINISTRATORS")):U.m8.push(U.$x.getPaths().get("USERS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Ve({description:e.response.data.description,level:a.QU.ERROR,message:ne("users:notifications.deleteUser.error.message")}):Ve({description:ne("users:notifications.deleteUser.genericError.description"),level:a.QU.ERROR,message:ne("users:notifications.deleteUser.genericError.message")})}))}(we)},closeOnDimmerClick:!1},p.createElement(u.cV.Header,{"data-testid":"".concat(ee,"-confirmation-modal-header")},ne("user:deleteUser.confirmationModal.header")),p.createElement(u.cV.Message,{"data-testid":"".concat(ee,"-confirmation-modal-message"),attached:!0,negative:!0},k.commonConfig.userEditSection.isGuestUser?ne("extensions:manage.guest.deleteUser.confirmationModal.message"):ne("user:deleteUser.confirmationModal.message")),p.createElement(u.cV.Content,null,p.createElement("div",{className:"modal-alert-wrapper"}," ",He&&je),k.commonConfig.userEditSection.isGuestUser?ne("extensions:manage.guest.deleteUser.confirmationModal.content"):ne("user:deleteUser.confirmationModal.content"))),we&&p.createElement(u.cV,{"data-testid":"".concat(ee,"-admin-privilege-revoke-confirmation-modal"),onClose:function(){return ye(!1)},type:"negative",open:Se,assertionHint:ne("user:revokeAdmin.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:ne("common:confirm"),secondaryAction:ne("common:cancel"),onSecondaryActionClick:function(){ye(!1),Ve(null)},onPrimaryActionClick:function(){return function(e){var n={Operations:[{op:"remove",path:"users[display eq ".concat(e.userName,"]"),value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,V.dB)(ze,n).then((function(){te((0,i.V_)({description:ne("users:notifications.revokeAdmin.success.description"),level:a.QU.SUCCESS,message:ne("users:notifications.revokeAdmin.success.message")})),U.m8.push(U.$x.getPaths().get("ADMINISTRATORS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,i.V_)({description:e.response.data.description,level:a.QU.ERROR,message:ne("users:notifications.revokeAdmin.error.message")})):te((0,i.V_)({description:ne("users:notifications.revokeAdmin.genericError.description"),level:a.QU.ERROR,message:ne("users:notifications.revokeAdmin.genericError.message")}))}))}(we)},closeOnDimmerClick:!1},p.createElement(u.cV.Header,{"data-testid":"".concat(ee,"-admin-privilege-revoke-confirmation-modal-header")},ne("user:revokeAdmin.confirmationModal.header")),p.createElement(u.cV.Content,null,p.createElement("div",{className:"modal-alert-wrapper"}," ",He&&je),ne("user:revokeAdmin.confirmationModal.content"))),Oe&&p.createElement(u.cV,{"data-testid":"".concat(ee,"-confirmation-modal"),onClose:function(){Me(!1),Ie(void 0)},type:"warning",open:_e,assertion:cn(P,!1),assertionHint:Oe.name===o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ne("user:lockUser.confirmationModal.assertionHint"):ne("user:disableUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:ne("common:confirm"),secondaryAction:ne("common:cancel"),onSecondaryActionClick:function(){Ie(void 0),Me(!1)},onPrimaryActionClick:function(){return fn(Oe.name,Oe.value)},closeOnDimmerClick:!1},p.createElement(u.cV.Header,{"data-testid":"".concat(ee,"-confirmation-modal-header")},Oe.name===o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ne("user:lockUser.confirmationModal.header"):ne("user:disableUser.confirmationModal.header")),p.createElement(u.cV.Message,{"data-testid":"".concat(ee,"-disable-confirmation-modal-message"),attached:!0,warning:!0},Oe.name===o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ne("user:lockUser.confirmationModal.message"):ne("user:disableUser.confirmationModal.message")),p.createElement(u.cV.Content,null,Oe.name===o.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ne("user:lockUser.confirmationModal.content"):ne("user:disableUser.confirmationModal.content"))),p.createElement(D,{handleForcePasswordResetTrigger:null,connectorProperties:Y,handleCloseChangePasswordModal:function(){return Te(!1)},openChangePasswordModal:Ze,onAlertFired:M,user:P,handleUserUpdate:Z}))};K.defaultProps={adminUserType:"None","data-testid":"user-mgt-user-profile",isReadOnlyUserStore:!1}},206:(e,n,t)=>{"use strict";t.d(n,{e:()=>I});var r=t(86727),o=t(44194),s=t(10479),a=t(47245),i=t(62508),l=t(24393),c=t(45076),u=t(45770),d=t(51835),m=t.n(d),f=t(27975),p=t.n(f),v=t(55900),g=t.n(v),E=t(21555),C=t.n(E),h=t(3621),b=t.n(h),S=t(5062),y=t.n(S),A=t(9045),w=t.n(A),U={};U.styleTagTransform=y(),U.setAttributes=C(),U.insert=g().bind(null,"head"),U.domAPI=p(),U.insertStyleElement=b();m()(w(),U);w()&&w().locals&&w().locals;function R(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s,a,i=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(i.push(r.value),i.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var I=function(e){var n=e.user,t=(0,s.$)().t,d=R((0,o.useState)([]),2),m=d[0],f=d[1],p=(0,a.v9)((function(e){var n;return null==e||null===(n=e.config)||void 0===n||null===(n=n.ui)||void 0===n?void 0:n.isGroupAndRoleSeparationEnabled}));(0,o.useEffect)((function(){var e,t,r;(null===(t=r=p&&(null==n||null===(e=n.roles)||void 0===e?void 0:e.length)>0?n.roles:v(null==n?void 0:n.groups))||void 0===t?void 0:t.length)>0&&f(r)}),[n]);var v=function(e){var n=[];return null==e||e.forEach((function(e){var t,r=R(null==e||null===(t=e.display)||void 0===t?void 0:t.split(u.Nd),2),o=r[0],s=r[1];o&&s&&[u.Fn,u.eT].includes(o)&&n.push({$ref:e.$ref,display:s,orgId:void 0,orgName:void 0,value:e.value})})),n};return o.createElement(r.pJ,{padded:"very",className:"list-user-roles-section"},o.createElement(r.X6,{as:"h4"},t("user:updateUser.roles.editRoles.heading")),o.createElement(r.X6,{subHeading:!0,ellipsis:!0,as:"h6"},t("user:updateUser.roles.editRoles.subHeading")),o.createElement(r.v0,{type:"info",content:t("user:updateUser.roles.editRoles.infoMessage")}),o.createElement(i.Z,{hidden:!0}),o.createElement(c.W,{totalRoleList:m,emptyRolesListPlaceholder:o.createElement(r.$J,{subtitle:[t("user:updateUser.roles.editRoles.placeholders.emptyPlaceholder.subtitles")],title:t("user:updateUser.roles.editRoles.placeholders.emptyPlaceholder.title"),image:(0,l.jF)().emptyList,imageSize:"tiny"})}))};I.defaultProps={"data-componentid":"edit-user-roles"}},12104:(e,n,t)=>{"use strict";t.d(n,{Y:()=>w});var r=t(24184),o=t(54833),s=t(93129),a=t(3356),i=t(86727),l=t(84025),c=t.n(l),u=t(44194),d=t(10479),m=t(47245),f=t(89141),p=t(73432),v=t(26154),g=t(37077),E=t(24393),C=t(84870),h=t(32514);function b(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s,a,i=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(i.push(r.value),i.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(e,n)||y(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,n){if(e){if("string"==typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,n):void 0}}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var w=function(e){var n,t=e.defaultActiveIndexes,l=e.isLoading,y=e.user,A=e.showSessionTerminationButton,w=e["data-testid"],U=new o._X,R=(0,d.$)().t,O=(0,m.I0)(),I=(0,m.v9)((function(e){return e.config.ui.features})),N=S((0,u.useState)(void 0),2),_=N[0],M=N[1],P=S((0,u.useState)(void 0),2),Z=P[0],T=P[1],L=S((0,u.useState)(!1),2),D=L[0],k=L[1],x=S((0,u.useState)(t),2),H=x[0],V=x[1],j=S((0,u.useState)(!1),2),Y=j[0],F=j[1],G=S((0,u.useState)(!1),2),q=G[0],Q=G[1],W=(0,m.v9)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.username})).split("@");W.pop();var B=W.join("@");(0,u.useEffect)((function(){y&&y.id&&$(y.id)}),[y]);var z,X,K,$=function(e){k(!0),(0,h.c7)(e).then((function(e){M(e.data)})).catch((function(e){e.response&&e.response.data&&(e.response.data.description||e.response.data.detail)?O((0,a.V_)({description:e.response.data.description||e.response.data.detail,level:s.QU.ERROR,message:R("users:userSessions.notifications.getUserSessions.error.message")})):O((0,a.V_)({description:R("users:userSessions.notifications.getUserSessions.genericError.description"),level:s.QU.ERROR,message:R("users:userSessions.notifications.getUserSessions.genericError.message")}))})).finally((function(){k(!1)}))},J=function(e){for(var n=0,t=Object.values({desktop:{icon:"computer",values:["desktop"]},mobile:{icon:"mobile alternate",values:["mobile"]},tablet:{icon:"tablet alternate",values:["tablet"]}});n<t.length;n++){var r=t[n];if(r.values.includes(e))return r.icon}return"computer"},ee=function(e){for(var n=0,t=Object.values({android:{icon:"android",values:["Android"]},ios:{icon:"apple",values:["iOS"]},linux:{icon:"linux",values:["Linux"]},mac:{icon:"apple",values:["Mac OS"]},windows:{icon:"windows",values:["Windows [Phone/Mobile]"]}});n<t.length;n++){var r=t[n];if(r.values.includes(e))return r.icon}},ne=function(e){for(var n=0,t=Object.values({chrome:{icon:"chrome",values:["Chrome","Chrome Headless","Chrome WebView","Chromium"]},edge:{icon:"edge",values:["Edge"]},firefox:{icon:"firefox",values:["Firefox"]},opera:{icon:"opera",values:["Opera Coast","Opera Mini","Opera Mobi","Opera Tablet","Opera"]},safari:{icon:"safari",values:["Mobile Safari","Safari"]}});n<t.length;n++){var r=t[n];if(r.values.includes(e))return r.icon}},te=function(e,n){var t=n.index,r=b(H);if(r.includes(t)){var o=r.indexOf(t);r.splice(o,1)}else r.push(t);V(r)};return l||D?u.createElement(i.pO,null):_&&_.sessions&&Array.isArray(_.sessions)&&_.sessions.length>0?u.createElement(f.Z,{"data-testid":w},u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{mobile:16,tablet:16,computer:16},A&&u.createElement(r.di,{when:null==I||null===(n=I.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},u.createElement(i.O3,{floated:"right","data-testid":"".concat(w,"-terminate-all-button"),onClick:function(){return Q(!0)}},R("users:userSessions.components.sessionDetails.actions.terminateAllSessions"))))),u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(i.el,{fluid:!0,"data-testid":"".concat(w,"-accordion")},_.sessions.map((function(e,n){return U.uaString=e.userAgent,u.createElement(u.Fragment,{key:e.id},u.createElement(i.el.Title,{id:e.id,"data-testid":"".concat(w,"-").concat(e.id,"-title"),active:H.includes(n),index:n,onClick:te,content:u.createElement(u.Fragment,null,u.createElement(i.dn,{icon:u.createElement(v.Z,{name:J(U.device.type),size:"big",color:"grey"}),transparent:!0,spaced:"right",floated:"left","data-testid":"".concat(w,"-").concat(e.id,"-title-icon")}),u.createElement(p.Z.Content,null,u.createElement(p.Z.Header,null,U.browser.name," on ",U.os.name),u.createElement(p.Z.Description,null,u.createElement(i.xv,{size:11},R("users:userSessions.components.sessionDetails.labels.lastAccessed",{date:c()(parseInt(e.lastAccessTime,10)).fromNow()}))))),hideChevron:!1}),u.createElement(i.el.Content,{active:H.includes(n),"data-testid":"".concat(w,"-").concat(e.id,"-content")},function(e){var n;return U.uaString=e.userAgent,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,null,u.createElement(p.Z.Content,null,u.createElement(f.Z,{padded:!0},u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.os")),u.createElement(f.Z.Column,{width:11},u.createElement(p.Z.Description,null,u.createElement(v.Z,{name:ee(U.os.name),color:"grey"}),U.os.name," ",U.os.version))),u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.browser")),u.createElement(f.Z.Column,{width:11},u.createElement(p.Z.Description,null,u.createElement(v.Z,{name:ne(U.browser.name),color:"grey"}),U.browser.name," ",U.browser.version))),u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.ip")),u.createElement(f.Z.Column,{width:11},u.createElement(p.Z.Description,{"data-hj-suppress":""},e.ip))),U.device.vendor?u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.deviceModel")),u.createElement(f.Z.Column,{width:11},u.createElement(p.Z.Description,null,U.device.vendor," ",U.device.model))):null,u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.loginTime")),u.createElement(f.Z.Column,{width:11},u.createElement(p.Z.Description,null,c()(parseInt(e.loginTime,10)).format("lll")))),u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.lastAccessed",{date:""})),u.createElement(f.Z.Column,{width:11},u.createElement(p.Z.Description,null,c()(parseInt(e.lastAccessTime,10)).fromNow()))),e.applications&&e.applications.length>0?u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.activeApplication")),u.createElement(f.Z.Column,{mobile:16,computer:11},e.applications.map((function(e,n){return u.createElement(p.Z.Description,{className:"pb-2",key:n},u.createElement(g.Z,{className:"micro spaced-right",circular:!0,color:"green",size:"mini"}),e.appName)})))):null,u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{width:16},A&&u.createElement(r.di,{when:null==I||null===(n=I.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},u.createElement(i.v9,{sectionHeader:R("common:dangerZone")},u.createElement(i.cN,{actionTitle:R("users:userSessions.dangerZones.terminate.actionTitle"),header:R("users:userSessions.dangerZones.terminate.header"),subheader:R("users:userSessions.dangerZones.terminate.subheader"),onActionClick:function(){T(e),F(!0)},"data-testid":"".concat(w,"-terminate-button")})))))))))}(e)))}))))),(Y||q)&&u.createElement(i.cV,{onClose:function(){Y?F(!1):Q(!1)},type:"warning",open:Y||q,assertion:(z=y.userName,X=z.split("/"),K=z,X.length>1&&!C.userstoresConfig.userstoreDomain.appendToUsername&&(K=X[1]),K.split("@").length>1?K.split("@")[0].concat("@").concat(K.split("@")[1]):K.split("@")[0]),assertionHint:R(Y?"users:confirmations.terminateSession.assertionHint":"users:confirmations.terminateAllSessions.assertionHint"),assertionType:"checkbox",primaryAction:R("common:confirm"),secondaryAction:R("common:cancel"),onSecondaryActionClick:function(){Y?F(!1):Q(!1)},onPrimaryActionClick:function(){if(Y)return e=Z.id,(0,h.PI)(y.id,e).then((function(){O((0,a.V_)({description:R("users:userSessions.notifications.terminateUserSession.success.description"),level:s.QU.SUCCESS,message:R("users:userSessions.notifications.terminateUserSession.success.message")}))})).catch((function(e){e.response&&e.response.data&&(e.response.data.description||e.response.data.detail)?O((0,a.V_)({description:e.response.data.description||e.response.data.detail,level:s.QU.ERROR,message:R("users:userSessions.notifications.terminateUserSession.error.message")})):O((0,a.V_)({description:R("users:userSessions.notifications.terminateUserSession.genericError.description"),level:s.QU.ERROR,message:R("users:userSessions.notifications.terminateUserSession.genericError.message")}))})).finally((function(){$(y.id)})),void F(!1);var e;(0,h.rc)(y.id).then((function(){B===(null==y?void 0:y.userName)&&E.m8.push(window.AppUtils.getConfig().routes.logout),O((0,a.V_)({description:R("users:userSessions.notifications.terminateAllUserSessions.success.description"),level:s.QU.SUCCESS,message:R("users:userSessions.notifications.terminateAllUserSessions.success.message")}))})).catch((function(e){$(y.id),e.response&&e.response.data&&(e.response.data.description||e.response.data.detail)?O((0,a.V_)({description:e.response.data.description||e.response.data.detail,level:s.QU.ERROR,message:R("users:userSessions.notifications.terminateAllUserSessions.error.message")})):O((0,a.V_)({description:R("users:userSessions.notifications.terminateAllUserSessions.genericError.description"),level:s.QU.ERROR,message:R("users:userSessions.notifications.terminateAllUserSessions.genericError.message")}))})).finally((function(){B!==(null==y?void 0:y.userName)&&$(y.id)})),Q(!1)},"data-testid":Y?"session-terminate-confirmation-modal":"all-sessions-terminate-confirmation-modal",closeOnDimmerClick:!1},u.createElement(i.cV.Header,{"data-testid":Y?"session-terminate-confirmation-modal-header":"all-sessions-terminate-confirmation-modal-header"},R(Y?"users:confirmations.terminateSession.header":"users:confirmations.terminateAllSessions.header")),u.createElement(i.cV.Message,{attached:!0,warning:!0,"data-testid":Y?"session-terminate-confirmation-modal-message":"all-sessions-terminate-confirmation-modal-message"},R(Y?"users:confirmations.terminateSession.message":"users:confirmations.terminateAllSessions.message")),u.createElement(i.cV.Content,{"data-testid":Y?"session-terminate-confirmation-modal-content":"all-sessions-terminate-confirmation-modal-content"},R(Y?"users:confirmations.terminateSession.content":"users:confirmations.terminateAllSessions.content")))):u.createElement(i.$J,{image:(0,E.jF)().emptyList,imageSize:"tiny",title:R("users:userSessions.placeholders.emptyListPlaceholder.title"),subtitle:[R("users:userSessions.placeholders.emptyListPlaceholder.subtitles")]})};w.defaultProps={"data-testid":"user-sessions",defaultActiveIndexes:[-1],showSessionTerminationButton:!0}},9045:e=>{e.exports=[[e.id,".list-user-roles-section .ui.table thead th{background:rgba(0,0,0,0)}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItcm9sZXMtbGlzdC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDRDQUE0Qyx3QkFBd0IiLCJmaWxlIjoidXNlci1yb2xlcy1saXN0LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdC11c2VyLXJvbGVzLXNlY3Rpb24gLnVpLnRhYmxlIHRoZWFkIHRoe2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwKX0iXX0= */","",""]]}}]);