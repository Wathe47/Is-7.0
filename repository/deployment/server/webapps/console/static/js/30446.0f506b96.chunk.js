/*! For license information please see 30446.0f506b96.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[30446],{68734:(e,t,n)=>{n.d(t,{BZ:()=>h,Eb:()=>p,J4:()=>u,PF:()=>m,cQ:()=>d,dH:()=>f,tI:()=>v});var r=n(34148),o=n(67442),i=n(93129),a=n(73508),s=n(61263),c=n(14200),l=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),u=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,params:{filter:e},url:"".concat(s.h.getState().config.endpoints.authzEndpoint,"/").concat(c.K.API_RESOURCE_DIR)};return l(t).then((function(e){if(200===e.status)return Promise.resolve(e.data);throw new o.u(e.data.description,null,e.status,e.request,e,e.config)})).catch((function(e){var t;throw new o.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))},d=function(e,t,n){var r={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,params:{after:e,before:t,filter:n},url:"".concat(s.h.getState().config.endpoints.authzEndpoint,"/").concat(c.K.API_RESOURCE_DIR)},o=(0,a.Z)(r),l=o.data,u=o.error;return{data:l,error:u,isLoading:!u&&!l,isValidating:o.isValidating,mutate:o.mutate}},p=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,url:"".concat(s.h.getState().config.endpoints.authzEndpoint,"/").concat(c.K.API_RESOURCE_DIR,"/").concat(e)},n=(0,a.Z)(e?t:null),r=n.data,o=n.error;return{data:r,error:o,isLoading:!o&&!r,isValidating:n.isValidating,mutate:n.mutate}},f=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,params:{filter:e},url:"".concat(s.h.getState().config.endpoints.authzEndpoint,"/permissions")};return l(t).then((function(e){if(200===e.status)return Promise.resolve(e.data);throw new o.u(e.data.description,null,e.status,e.request,e,e.config)})).catch((function(e){var t;throw new o.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))},m=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.DELETE,url:"".concat(s.h.getState().config.endpoints.authzEndpoint,"/").concat(c.K.API_RESOURCE_DIR,"/")+"".concat(e)};return l(t).then((function(e){if(204!==e.status)throw new o.u(e.data.description,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new o.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))},h=function(e,t){var n={data:t,method:i.f2.PATCH,url:"".concat(s.h.getState().config.endpoints.authzEndpoint,"/").concat(c.K.API_RESOURCE_DIR,"/").concat(e)};return l(n).then((function(e){return Promise.resolve(e.data)})).catch((function(e){var t;throw new o.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))},v=function(e){var t={data:e,method:i.f2.POST,url:"".concat(s.h.getState().config.endpoints.authzEndpoint,"/").concat(c.K.API_RESOURCE_DIR)};return l(t).then((function(e){return Promise.resolve(e.data)})).catch((function(e){var t;throw new o.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))}},7553:(e,t,n)=>{n.d(t,{BZ:()=>r.BZ,Eb:()=>r.Eb,J4:()=>r.J4,PF:()=>r.PF,cQ:()=>r.cQ,dH:()=>r.dH,tI:()=>r.tI});var r=n(68734)},30446:(e,t,n)=>{n.d(t,{v:()=>b,Z:()=>B});var r=n(54833),o=n(93129),i=n(3356),a=n(86727),s=n(44194),c=n(10479),l=n(47245),u=n(12638),d=n(37077),p=n(26154),f=n(24393),m=n(7553),h=n(14200),v=n(6890);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.apiResourcesList,n=e.featureConfig,g=e.isAPIResourcesListLoading,b=e.setShowAddAPIWizard,E=e.onAPIResourceDelete,R=e.onListItemClick,w=e.showListItemActions,x=e["data-componentid"],A=(0,c.$)().t,S=(0,l.I0)(),P=y((0,s.useState)(!1),2),I=P[0],O=P[1],L=y((0,s.useState)(!1),2),N=L[0],C=L[1],_=y((0,s.useState)(void 0),2),k=_[0],j=_[1],T=(0,l.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),z=function(){return!t||t&&0===t.length?s.createElement(a.$J,{image:(0,f.jF)().emptyList,action:s.createElement(a.KM,{"data-testid":"".concat(x,"-empty-placeholder-add-api-resource-button"),onClick:function(){return b(!0)}},s.createElement(p.Z,{name:"add"}),A("extensions:develop.apiResource.addApiResourceButton")),imageSize:"tiny",subtitle:[A("extensions:develop.apiResource.empty")],"data-testid":"".concat(x,"-empty-search-placeholder-icon")}):null},Z=function(e,t){f.m8.push(h.K.getPaths().get("API_RESOURCE_EDIT").replace(":id",e.id)),R&&R(t,e)};return s.createElement(s.Fragment,null,s.createElement(a.wQ,{className:"api-resources-table",loadingStateOptions:{count:f.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},showHeader:!1,"data-componentid":x,"data-testid":x,columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n=e?e.displayName:"",r=e?e.gwName:"";return t=n&&""!==n?n:r&&""!==r?r:"",s.createElement(u.Z,{as:"h6",className:"header-with-icon","data-testid":"".concat(x,"-item-heading")},s.createElement(a.JT,{image:s.createElement(a.Xo,{name:t,size:"mini","data-testid":"".concat(x,"-item-display-name-avatar")}),size:"mini",spaced:"right","data-testid":"".concat(x,"-item-display-name")}),s.createElement(u.Z.Content,null,t,s.createElement(u.Z.Subheader,null,v.H.checkIfAPIResourceManagedByChoreo(e.gwName)&&s.createElement(d.Z,{size:"mini",className:"choreo-label ml-0"},A("extensions:develop.apiResource.managedByChoreoText")))))},title:A("extensions:develop.apiResource.table.name.column")},{allowToggleVisibility:!1,dataIndex:"identifier",id:"identifier",key:"identifier",render:function(e){var t=e?e.identifier:"",n="";return t&&""!==t&&(n=t),s.createElement(u.Z,{as:"h6","data-testid":"".concat(x,"-col-2-item-heading")},s.createElement(u.Z.Content,null,s.createElement(u.Z.Subheader,{"data-testid":"".concat(x,"-col-2-item-sub-heading")},n,n&&s.createElement(d.Z,{pointing:"left",size:"mini",className:"client-id-label"},A("extensions:develop.apiResource.table.identifier.label")))))},title:A("extensions:develop.apiResource.table.identifier.column")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:A("extensions:develop.apiResource.table.actions.column")}],placeholders:z(),actions:function(){if(w)return[{"data-componentid":"".concat(x,"-item-edit-button"),hidden:function(){var e,t,o=!(0,r.Xr)(null==n?void 0:n.apiResources,null==n||null===(e=n.apiResources)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.read,T);return!(0,r.Xr)(null==n?void 0:n.apiResources,null==n||null===(t=n.apiResources)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update,T)||o},icon:function(){var e;return(0,r.Xr)(null==n?void 0:n.applications,null==n||null===(e=n.applications)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,T)?"pencil alternate":"eye"},onClick:function(e,t){Z(t,e)},popupText:function(){var e;return(0,r.Xr)(null==n?void 0:n.applications,null==n||null===(e=n.applications)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,T)?A("common:edit"):A("common:view")},renderer:"semantic-icon"},{"data-componentid":"".concat(x,"-item-delete-button"),hidden:function(){var e;return!(0,r.Xr)(null==n?void 0:n.apiResources,null==n||null===(e=n.apiResources)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.delete,T)},icon:function(){return"trash alternate"},onClick:function(e,t){C(!0),j(t)},popupText:function(){return A("common:delete")},renderer:"semantic-icon"}]}(),data:t,transparent:g||null!==z(),isLoading:g,onRowClick:function(e,t){Z(t,e)}}),k&&s.createElement(a.cV,{primaryActionLoading:I,onClose:function(){return C(!1)},type:"negative",open:N,assertionHint:A("extensions:develop.apiResource.confirmations.deleteAPIResource.assertionHint"),assertionType:"checkbox",primaryAction:A("common:confirm"),secondaryAction:A("common:cancel"),onSecondaryActionClick:function(){C(!1)},onPrimaryActionClick:function(){return e=k.id,O(!0),void(0,m.PF)(e).then((function(){S((0,i.V_)({description:A("extensions:develop.apiResource.notifications.deleteAPIResource.success.description"),level:o.QU.SUCCESS,message:A("extensions:develop.apiResource.notifications.deleteAPIResource.success.message")})),C(!1),E&&E()})).catch((function(e){switch(null==e?void 0:e.code){case h.K.UNAUTHORIZED_ACCESS:S((0,i.V_)({description:A("extensions:develop.apiResource.notifications.deleteAPIResource.unauthorizedError.description"),level:o.QU.ERROR,message:A("extensions:develop.apiResource.notifications.deleteAPIResource.unauthorizedError.message")}));break;case h.K.NO_VALID_API_RESOURCE_ID_FOUND:case h.K.API_RESOURCE_NOT_FOUND:S((0,i.V_)({description:A("extensions:develop.apiResource.notifications.deleteAPIResource.notFoundError.description"),level:o.QU.ERROR,message:A("extensions:develop.apiResource.notifications.deleteAPIResource.notFoundError.message")}));break;default:S((0,i.V_)({description:A("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.description"),level:o.QU.ERROR,message:A("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.message")}))}})).finally((function(){O(!1),j(void 0)}));var e},"data-testid":"".concat(x,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(a.cV.Header,{"data-testid":"".concat(x,"-delete-confirmation-modal-header")},A("extensions:develop.apiResource.confirmations.deleteAPIResource.header")),s.createElement(a.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(x,"-delete-confirmation-modal-message")},A("extensions:develop.apiResource.confirmations.deleteAPIResource.message")),s.createElement(a.cV.Content,{"data-testid":"".concat(x,"-delete-confirmation-modal-content")},A("extensions:develop.apiResource.confirmations.deleteAPIResource.content"))))};b.defaultProps={"data-componentid":"api-resources",showListItemActions:!0};var E=n(20812),R=function(e){var t=e.apiResourceData,n=e.isAPIResourceDataLoading,r=e["data-componentid"],o=(0,c.$)().t,i=(0,a.fQ)().getLink;return n?s.createElement(a.pO,{dimmer:!0}):s.createElement(s.Fragment,null,s.createElement(a.pJ,{padded:"very"},s.createElement(E.l0,{"data-componentid":"".concat(r,"-form"),onSubmit:function(){return null},id:"".concat(r,"-form"),uncontrolledForm:!1},s.createElement(E.gN.Checkbox,{ariaLabel:"authorization",name:"authorization",label:o("extensions:develop.apiResource.tabs.authorization.form.fields.authorize.label"),hint:s.createElement(s.Fragment,null,o("extensions:develop.apiResource.tabs.authorization.form.fields.authorize.hint"),s.createElement(a.eb,{link:i("develop.apiResources.addAPIResource.requiredAuthorization.learnMore")},o("extensions:common.learnMore"))),width:16,defaultValue:t.requiresAuthorization,readOnly:!0,"data-componentid":"".concat(r,"-authorize")}))))};R.defaultProps={"data-componentid":"authorization-api-resource"};var w=n(73150),x=n(24184),A=n(59673),S=n(68734),P=n(17493);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L="apiResource-general-details",N=function(e){var t,n=e.isReadOnly,r=e.isManagedByChoreo,u=e.isSubmitting,d=e.handleUpdateAPIResource,p=e.apiResourceData,m=e.isAPIResourceDataLoading,h=e["data-componentid"],v=(0,c.$)().t,y=(0,l.I0)(),g=(0,l.v9)((function(e){return e.config.ui.features})),b=I((0,s.useState)(!0),2),R=b[0],O=b[1],N=I((0,s.useState)(!1),2),C=N[0],_=N[1],k=I((0,s.useState)(!1),2),j=k[0],T=k[1],z=I((0,s.useState)(void 0),2),Z=z[0],V=z[1];return m?s.createElement(a.pO,{dimmer:!0}):s.createElement(s.Fragment,null,r&&s.createElement(w.Z,{severity:"warning"},s.createElement(A.c,{i18nKey:"extensions:develop.apiResource.tabs.choreoApiEditWarning"},"Updating this API resource will create unforeseen errors as this is an API resource managed by Choreo. ",s.createElement("b",null,"Proceed with caution."))),s.createElement(a.pJ,{padded:"very"},s.createElement(E.l0,{"data-testid":"".concat(h,"-form"),onSubmit:function(e){var t;d({displayName:null===(t=e.displayName)||void 0===t?void 0:t.toString().trim()})},id:L,validate:function(e){var t,n={displayName:void 0};return null!==(t=e.displayName)&&void 0!==t&&t.toString().trim()?O(!1):(n.displayName=v("extensions:develop.apiResource.tabs.general.form.fields.name.emptyValidate"),O(!0)),n},uncontrolledForm:!1},p.displayName&&s.createElement(E.gN.Input,{ariaLabel:"Site title input field",inputType:"name",name:"displayName",label:v("extensions:develop.apiResource.tabs.general.form.fields.name.label"),placeholder:v("extensions:develop.apiResource.tabs.general.form.fields.name.placeholder"),readOnly:n,required:!0,initialValue:p.displayName,maxLength:100,minLength:0,width:16,"data-componentid":"".concat(h,"-general-form-displayName")}),p.identifier&&s.createElement(E.gN.Input,{ariaLabel:"Site title input field",inputType:"url",name:"identifier",label:v("extensions:develop.apiResource.tabs.general.form.fields.identifier.label"),readOnly:!0,required:!0,maxLength:100,minLength:0,width:16,"data-componentid":"".concat(h,"-general-form-identifier")},s.createElement(a.OR,{value:p.identifier})),s.createElement(E.gN.Button,{form:L,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button",hidden:n,disabled:u||R,loading:u,"data-componentid":"".concat(h,"-submit-button"),label:v("extensions:develop.apiResource.tabs.general.form.updateButton")}))),s.createElement(s.Fragment,null,!n&&s.createElement(x.di,{when:null==g||null===(t=g.apiResources)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.delete},s.createElement(a.v9,{sectionHeader:v("extensions:develop.apiResource.tabs.general.dangerZoneGroup.header")},s.createElement(a.cN,{"data-testid":"".concat(h,"-danger-zone"),actionTitle:v("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.button"),header:v("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.header"),subheader:v("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.subHeading"),onActionClick:function(){T(!0),V(p)},isButtonDisabled:!1})))),Z&&s.createElement(a.cV,{primaryActionLoading:C,onClose:function(){return T(!1)},type:"negative",open:j,assertionHint:v("extensions:develop.apiResource.confirmations.deleteAPIResource.assertionHint"),assertionType:"checkbox",primaryAction:v("common:confirm"),secondaryAction:v("common:cancel"),onSecondaryActionClick:function(){T(!1)},onPrimaryActionClick:function(){return e=Z.id,_(!0),void(0,S.PF)(e).then((function(){y((0,i.V_)({description:v("extensions:develop.apiResource.notifications.deleteAPIResource.success.description"),level:o.QU.SUCCESS,message:v("extensions:develop.apiResource.notifications.deleteAPIResource.success.message")})),T(!1),f.m8.push(P.K.getPaths().get("API_RESOURCES"))})).catch((function(e){switch(null==e?void 0:e.code){case P.K.UNAUTHORIZED_ACCESS:y((0,i.V_)({description:v("extensions:develop.apiResource.notifications.deleteAPIResource.unauthorizedError.description"),level:o.QU.ERROR,message:v("extensions:develop.apiResource.notifications.deleteAPIResource.unauthorizedError.message")}));break;case P.K.NO_VALID_API_RESOURCE_ID_FOUND:case P.K.API_RESOURCE_NOT_FOUND:y((0,i.V_)({description:v("extensions:develop.apiResource.notifications.deleteAPIResource.notFoundError.description"),level:o.QU.ERROR,message:v("extensions:develop.apiResource.notifications.deleteAPIResource.notFoundError.message")}));break;default:y((0,i.V_)({description:v("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.description"),level:o.QU.ERROR,message:v("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.message")}))}})).finally((function(){_(!1),V(void 0)}));var e},"data-testid":"".concat(h,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(a.cV.Header,{"data-testid":"".concat(h,"-delete-confirmation-modal-header")},v("extensions:develop.apiResource.confirmations.deleteAPIResource.header")),s.createElement(a.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(h,"-delete-confirmation-modal-message")},v("extensions:develop.apiResource.confirmations.deleteAPIResource.message")),s.createElement(a.cV.Content,{"data-testid":"".concat(h,"-delete-confirmation-modal-content")},v("extensions:develop.apiResource.confirmations.deleteAPIResource.content"))))};N.defaultProps={"data-componentid":"general-api-resource"};var C=n(20849),_=n(66112),k=n(12950),j=n(14045);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function z(){z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",v={};function y(){}function g(){}function b(){}var E={};l(E,a,(function(){return this}));var R=Object.getPrototypeOf,w=R&&R(R(C([])));w&&w!==n&&r.call(w,a)&&(E=w);var x=b.prototype=y.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==T(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?h:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(T(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},A(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(x),l(x,c,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Z(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t=e.permissionList,n=e.serachedPermissionList,r=e.isAPIResourceDataLoading,o=e.isSubmitting,i=e.isReadOnly,l=e.clearSearchPermission,m=e.setRemovePermission,h=e.setTriggerAddAPIResourcePermissionModal,v=e["data-componentid"],y=(0,c.$)().t,g=V((0,s.useState)(void 0),2),b=g[0],E=g[1],R=function(e){m(e)},w=function(){var e,t=(e=z().mark((function e(t,n){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,j.CommonUtils.copyTextToClipboard(n.name);case 3:E(n);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Z(i,r,o,a,s,"next",e)}function s(e){Z(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return s.createElement(a.wQ,{className:"oidc-scopes-table",columnCount:3,isLoading:r||o,loadingStateOptions:{count:10,imageType:"square"},onRowClick:w,showHeader:!1,placeholders:0===(null==t?void 0:t.length)?s.createElement(a.$J,{subtitle:[y("extensions:develop.apiResource.tabs.permissions.empty.subTitle")],title:y("extensions:develop.apiResource.tabs.permissions.empty.title"),image:(0,f.jF)().emptyList,action:s.createElement(a.KM,{"data-componentid":"".concat(v,"-add-permission-button"),onClick:h},s.createElement(p.Z,{name:"add"}),y("extensions:develop.apiResource.tabs.permissions.button")),imageSize:"tiny"}):0===(null==n?void 0:n.length)?s.createElement(a.$J,{subtitle:[y("extensions:develop.apiResource.tabs.permissions.emptySearch.subTitle.0"),y("extensions:develop.apiResource.tabs.permissions.emptySearch.subTitle.1")],title:y("extensions:develop.apiResource.tabs.permissions.emptySearch.title"),image:(0,f.jF)().emptySearch,action:s.createElement(a.Qj,{onClick:l},y("extensions:develop.apiResource.tabs.permissions.emptySearch.viewAll")),imageSize:"tiny"}):null,transparent:0===(null==t?void 0:t.length)||0===(null==n?void 0:n.length),"data-testid":v,actions:[{"data-componentid":"".concat(v,"-item-copy-button"),icon:function(){return"copy"},onClick:function(e,t){w(e,t)},popupText:function(e){return(null==b?void 0:b.name)===e.name?y("extensions:develop.apiResource.tabs.permissions.copiedPopupText"):y("extensions:develop.apiResource.tabs.permissions.copyPopupText")},renderer:"semantic-icon"},{"data-componentid":"".concat(v,"-item-delete-button"),hidden:function(){return i},icon:function(){return"trash alternate"},onClick:function(e,t){R(t)},popupText:function(){return y("extensions:develop.apiResource.tabs.permissions.removePermissionPopupText")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){return s.createElement(u.Z,{as:"h6","data-testid":"".concat(v,"-permission-display-name")},s.createElement(u.Z.Content,null,e.displayName,s.createElement(u.Z.Subheader,null,s.createElement(d.Z,{size:"medium",className:"ml-0 mt-2"},s.createElement(d.Z.Detail,{className:"ml-0"},e.name)))))},title:y("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label"),width:3},{allowToggleVisibility:!1,dataIndex:"description",id:"description",key:"description",render:function(e){return s.createElement(u.Z,{as:"h6","data-testid":"".concat(v,"-description")},s.createElement(u.Z.Content,null,s.createElement(u.Z.Subheader,null,e.description)))},title:y("extensions:develop.apiResource.tabs.permissions.form.fields.description.label")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:y("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label")}],data:n})};M.defaultProps={"data-componentid":"permission-list-api-resource"};var F=n(29691);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){var t=e.apiResourceData,n=e.isAPIResourceDataLoading,r=e.isSubmitting,o=e.isReadOnly,i=e.isManagedByChoreo,l=e.handleUpdateAPIResource,u=e["data-componentid"],d=(0,c.$)().t,m=D((0,s.useState)([]),2),h=m[0],v=m[1],y=D((0,s.useState)([]),2),g=y[0],b=y[1],E=D((0,s.useState)(null),2),R=E[0],x=E[1],S=D((0,_.cC)(),2),P=S[0],I=S[1],O=D((0,s.useState)(""),2),L=O[0],N=O[1];(0,s.useEffect)((function(){t&&(v(t.permissions),b(t.permissions))}),[t,R]);return s.createElement(s.Fragment,null,i&&s.createElement(w.Z,{severity:"warning"},s.createElement(A.c,{i18nKey:"extensions:develop.apiResource.tabs.choreoApiEditWarning"},"Updating this API resource will create unforeseen errors as this is an API resource managed by Choreo. ",s.createElement("b",null,"Proceed with caution."))),s.createElement(a.pJ,{className:"padded",loading:n},s.createElement(C.Z,{container:!0,className:"mb-1"},s.createElement(C.Z,{xs:8},s.createElement(a.X6,{as:"h4",compact:!0},d("extensions:develop.apiResource.tabs.permissions.title")),s.createElement(a.X6,{as:"h6",color:"grey",subHeading:!0,className:"mb-5"},d("extensions:develop.apiResource.tabs.permissions.subTitle"))),s.createElement(C.Z,{xs:4,alignItems:"flex-end"},0!==(null==h?void 0:h.length)&&s.createElement(a.KM,{"data-componentid":"".concat(u,"-add-permission-button"),size:"medium",floated:"right",onClick:function(){return I()}},s.createElement(p.Z,{name:"add"}),d("extensions:develop.apiResource.tabs.permissions.button")))),s.createElement(a.PS,{showTopActionPanel:!n&&(null==h?void 0:h.length)>0,showPagination:!1,onPageChange:function(){return null},totalPages:100,"data-testid":"".concat(u,"-list-layout"),totalListSize:null==h?void 0:h.length,leftActionPanel:s.createElement("div",{className:"advanced-search-wrapper aligned-left fill-default"},s.createElement(k.Z,{className:"advanced-search with-add-on","data-testid":"".concat(u,"-list-search-input"),icon:"search",iconPosition:"left",onChange:function(e){var t=e.target.value;N(t),t.length>0?b(h.filter((function(e){return e.displayName.toLowerCase().includes(t.toLowerCase())}))):b(h)},placeholder:d("extensions:develop.apiResource.tabs.permissions.search"),floated:"right",size:"small",value:L}))},h?s.createElement(M,{isAPIResourceDataLoading:n,isReadOnly:o,permissionList:h,serachedPermissionList:g,isSubmitting:r,clearSearchPermission:function(){N(""),b(h)},setRemovePermission:x,setTriggerAddAPIResourcePermissionModal:I}):s.createElement(a.$J,{subtitle:[d("extensions:develop.apiResource.apiResourceError.subtitles.0"),d("extensions:develop.apiResource.apiResourceError.subtitles.1")],title:d("extensions:develop.apiResource.apiResourceError.title"),image:(0,f.jF)().genericError,imageSize:"tiny"}))),P&&s.createElement(F.m,{closeWizard:function(){return I()},handleUpdateAPIResource:l}),R&&s.createElement(a.cV,{primaryActionLoading:r,open:null!==R,onClose:function(){return x(null)},type:"negative",assertionHint:d("extensions:develop.apiResource.confirmations.deleteAPIResourcePermission.assertionHint"),assertionType:"checkbox",primaryAction:d("common:confirm"),secondaryAction:d("common:cancel"),onSecondaryActionClick:function(){return x(null)},onPrimaryActionClick:function(){l({deletedPermissions:[R.id]},(function(){return x(null)}))},"data-testid":"".concat(u,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(a.cV.Header,{"data-testid":"".concat(u,"-delete-confirmation-modal-header")},d("extensions:develop.apiResource.confirmations.deleteAPIResourcePermission.header")),s.createElement(a.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(u,"-delete-confirmation-modal-message")},d("extensions:develop.apiResource.confirmations.deleteAPIResourcePermission.message")),s.createElement(a.cV.Content,{"data-testid":"".concat(u,"-delete-confirmation-modal-content")},d("extensions:develop.apiResource.confirmations.deleteAPIResourcePermission.content"))))};function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}G.defaultProps={"data-componentid":"permission-api-resource"};var B=function(e){var t=e.featureConfig,n=e.isReadOnly,r=e.isManagedByChoreo,u=e.apiResourceData,d=e.isAPIResourceDataLoading,p=e.mutateAPIResource,f=(0,c.$)().t,v=(0,l.I0)(),y=K((0,s.useState)(!1),2),g=y[0],b=y[1],E=function(e,t){b(!0),(0,m.BZ)(u.id,e).then((function(){v((0,i.V_)({description:f("extensions:develop.apiResource.notifications.updateAPIResource.success.description"),level:o.QU.SUCCESS,message:f("extensions:develop.apiResource.notifications.updateAPIResource.success.message")})),p()})).catch((function(e){switch(null==e?void 0:e.code){case h.K.UNAUTHORIZED_ACCESS:v((0,i.V_)({description:f("extensions:develop.apiResource.notifications.updateAPIResource.unauthorizedError.description"),level:o.QU.ERROR,message:f("extensions:develop.apiResource.notifications.updateAPIResource.unauthorizedError.message")}));break;case h.K.NO_VALID_API_RESOURCE_ID_FOUND:case h.K.API_RESOURCE_NOT_FOUND:v((0,i.V_)({description:f("extensions:develop.apiResource.notifications.updateAPIResource.notFoundError.description"),level:o.QU.ERROR,message:f("extensions:develop.apiResource.notifications.updateAPIResource.notFoundError.message")}));break;case h.K.PERMISSION_ALREADY_EXISTS:v((0,i.V_)({description:f("extensions:develop.apiResource.notifications.addAPIResource.permissionAlreadyExistsError.description"),level:o.QU.ERROR,message:f("extensions:develop.apiResource.notifications.addAPIResource.permissionAlreadyExistsError.message")}));break;case h.K.INVALID_REQUEST_PAYLOAD:v((0,i.V_)({description:f("extensions:develop.apiResource.notifications.updateAPIResource.invalidPayloadError.description"),level:o.QU.ERROR,message:f("extensions:develop.apiResource.notifications.updateAPIResource.invalidPayloadError.message")}));break;default:v((0,i.V_)({description:f("extensions:develop.apiResource.notifications.updateAPIResource.genericError.description"),level:o.QU.ERROR,message:f("extensions:develop.apiResource.notifications.updateAPIResource.genericError.message")}))}})).finally((function(){b(!1),t&&t()}))};return s.createElement(a.M$,{isLoading:d,panes:[{menuItem:f("extensions:develop.apiResource.tabs.general.label"),render:function(){return s.createElement(a.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(N,{apiResourceData:u,isAPIResourceDataLoading:d,featureConfig:t,isReadOnly:n,isManagedByChoreo:r,isSubmitting:g,handleUpdateAPIResource:E}))}},{menuItem:f("extensions:develop.apiResource.tabs.permissions.label"),render:function(){return s.createElement(a.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(G,{apiResourceData:u,isAPIResourceDataLoading:d,isSubmitting:g,isReadOnly:n,isManagedByChoreo:r,handleUpdateAPIResource:E}))}},{menuItem:f("extensions:develop.apiResource.tabs.authorization.label"),render:function(){return s.createElement(a.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(R,{apiResourceData:u,isAPIResourceDataLoading:d}))}}]})}},29691:(e,t,n)=>{n.d(t,{d:()=>W,m:()=>re});var r=n(93129),o=n(3356),i=n(66112),a=n(86727),s=n(44194),c=n(10479),l=n(47245),u=n(47018),d=n(89141),p=n(26154),f=n(20812),m=n(59673),h=function(e){var t=e.triggerSubmission,n=e.initalRequiredAuthorizationValue,r=e.setRequiredAuthorization,o=e.submitCallback,i=e["data-componentid"],u=(0,c.$)().t,d=(0,a.fQ)().getLink,p=(0,l.v9)((function(e){return e.config.ui.productName}));return s.createElement(f.l0,{"data-testid":"".concat(i,"-form"),onSubmit:function(e){r(e.authorization),o&&o(e.authorization)},triggerSubmit:function(e){return t(e)},id:"apiResource-authorization",uncontrolledForm:!1},s.createElement(a.v0,{type:"info",content:s.createElement(s.Fragment,null,u("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.rbacMessage",{productName:p}),s.createElement(a.eb,{link:d("develop.apiResources.addAPIResource.rbacInfoBox.learnMore")},u("extensions:common.learnMore")))}),s.createElement(f.gN.Checkbox,{ariaLabel:"authorization",name:"authorization",label:u("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.fields.authorize.label"),tabIndex:3,hint:s.createElement(s.Fragment,null,s.createElement(m.c,{i18nKey:"extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.fields.authorize.hint"},"If checked, it will be mandatory to add authorization when configuring the application to consume the API resource. ",s.createElement("b",null,"This field cannot be edited once created.")),s.createElement(a.eb,{link:d("develop.apiResources.addAPIResource.requiredAuthorization.learnMore")},u("extensions:common.learnMore"))),width:16,defaultValue:n,"data-componentid":"".concat(i,"-authorize")}))};h.defaultProps={"data-componentid":"add-api-resource-authorizaiton"};var v=n(7553),y=n(14200);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(){b=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new _(r||[]);return o(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",v={};function y(){}function E(){}function R(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(k([])));A&&A!==n&&r.call(A,a)&&(w=A);var S=R.prototype=y.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==g(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,n,r){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?h:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function L(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(g(t)+" is not iterable")}return E.prototype=R,o(S,"constructor",{value:R,configurable:!0}),o(R,"constructor",{value:E,configurable:!0}),E.displayName=l(R,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,R):(e.__proto__=R,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(I.prototype),l(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new I(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function E(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}var R=function(e){var t=e.triggerSubmission,n=e.initalBasicDetails,r=e.setBasicDetails,o=e.submitCallback,u=e.isIdentifierValidationLoading,p=e.setIdentifierValidationLoading,f=e["data-componentid"],h=(0,c.$)().t,g=(0,s.useRef)(),R=(0,l.v9)((function(e){return e.config.ui.productName}));return s.createElement(i.Es,{"data-testid":"".concat(f,"-form"),onSubmit:function(e){r({displayName:e.get("displayName").toString(),identifier:e.get("identifier").toString()}),o&&o()},submitState:t},s.createElement(d.Z,null,s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(i.gN,{ref:g,type:"text",name:"identifier",label:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.label"),placeholder:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.placeholder"),requiredErrorMessage:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.emptyValidate"),required:!0,tabIndex:1,value:n&&n.identifier,validation:function(){var e,t=(e=b().mark((function e(t,n){var r,o,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),y.K.checkValidPermissionIdentifier(t)){e.next=6;break}n.isValid=!1,n.errorMessages.push(h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.invalid")),e.next=11;break;case 6:return o="identifier eq "+t,e.next=9,(0,v.J4)(o);case 9:(null==(i=e.sent)||null===(r=i.apiResources)||void 0===r?void 0:r.length)>0&&(n.isValid=!1,n.errorMessages.push(h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.alreadyExistsError")));case 11:p(!1);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){E(i,r,o,a,s,"next",e)}function s(e){E(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),"data-testid":"".concat(f,"-basic-form-identifier"),loading:u}),s.createElement(a.kW,{className:"mb-0"},s.createElement(m.c,{i18nKey:"extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.hint",tOptions:{productName:R}},"We recommend using a URI as the identifier, but you do not need to make the URI publicly available since Asgardeo will not access your API. Asgardeo will use this identifier value as the audience(aud) claim in the issued JWT tokens. ",s.createElement("b",null,"This field should be unique; once created, it is not editable."))))),s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(i.gN,{type:"text",name:"displayName",label:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.label"),placeholder:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.placeholder"),required:!0,tabIndex:2,requiredErrorMessage:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.emptyValidate"),value:null==n?void 0:n.displayName,"data-testid":"".concat(f,"-basic-form-displayName")}),s.createElement(a.kW,{className:"mb-0"},h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.hint",{productName:R}))))))};R.defaultProps={"data-componentid":"add-api-resource-basic"};var w=n(12638),x=n(37077),A=n(62508);function S(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t=e.addedPermissions,n=e.updatePermissions,r=e["data-componentid"],o=(0,c.$)().t,i=P((0,s.useState)(null),2),l=i[0],u=i[1];(0,s.useEffect)((function(){u(S(t.values()).reverse())}),[t]);var d=function(e){n(e,"delete")};return s.createElement(a.wQ,{className:"oidc-scopes-table",columnCount:3,loadingStateOptions:{count:10,imageType:"square"},onRowClick:function(){return null},showHeader:!1,placeholders:0===(null==l?void 0:l.length)?s.createElement(s.Fragment,null,s.createElement(A.Z,{className:"mb-1",r:!0,hidden:!0}),s.createElement(a.$J,{subtitle:[o("extensions:develop.apiResource.tabs.permissions.empty.title")]}),s.createElement(A.Z,{className:"mt-1",hidden:!0})):null,transparent:0===(null==l?void 0:l.length),"data-testid":r,actions:[{icon:function(){return"trash alternate"},onClick:function(e,t){d(t)},popupText:function(){return o("extensions:develop.apiResource.tabs.permissions.removePermissionPopupText")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){return s.createElement(w.Z,{as:"h6","data-testid":"".concat(r,"-permission-display-name")},s.createElement(w.Z.Content,null,e.displayName,s.createElement(w.Z.Subheader,null,s.createElement(x.Z,{size:"medium",className:"ml-0 mt-2"},e.name))))},title:o("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label")},{allowToggleVisibility:!1,dataIndex:"description",id:"description",key:"description",render:function(e){return s.createElement(w.Z,{as:"h6","data-testid":"".concat(r,"-description")},s.createElement(w.Z.Content,null,s.createElement(w.Z.Subheader,null,e.description)))},title:o("extensions:develop.apiResource.tabs.permissions.form.fields.description.label")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:o("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label"),width:1}],data:l})};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function C(){C=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new _(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",v={};function y(){}function g(){}function b(){}var E={};l(E,a,(function(){return this}));var R=Object.getPrototypeOf,w=R&&R(R(k([])));w&&w!==n&&r.call(w,a)&&(E=w);var x=b.prototype=y.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==N(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?h:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(N(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},A(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(x),l(x,c,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function _(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}L.defaultProps={"data-componentid":"permission-list-api-resource"};var T="apiResource-general-details",z=function(e){var t=e.isPermissionValidationLoading,n=e.addedPermissions,r=e.triggerAddPermission,o=e.setAddPermission,l=e.updatePermissions,u=e.setLatestPermissionFormValues,p=e.setPermissionValidationLoading,f=e["data-componentid"],h=(0,c.$)().t,g=k((0,i.cC)(),2),b=g[0],E=g[1];return s.createElement(i.Es,{"data-testid":"".concat(f,"-form"),onSubmit:function(e){var t={description:e.get("description").toString(),displayName:e.get("displayName").toString(),name:e.get("identifier").toString()};l(t,"set"),u(void 0),E()},id:T,submitState:r,uncontrolledForm:!1,resetState:b,onChange:function(e,t){return u(t)}},s.createElement(d.Z,null,s.createElement(d.Z.Row,{columns:2,padded:"vertically"},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(i.gN,{type:"text",name:"identifier",label:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.label"),placeholder:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.placeholder"),requiredErrorMessage:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.emptyValidate"),loading:t,validation:function(){var e,t=(e=C().mark((function e(t,r){var o,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),!t){e.next=18;break}if(y.K.checkValidPermissionIdentifier(t)){e.next=7;break}r.isValid=!1,r.errorMessages.push(h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.invalid")),e.next=17;break;case 7:if(!n.has(t)){e.next=12;break}r.isValid=!1,r.errorMessages.push(h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.uniqueValidate")),e.next=17;break;case 12:return o="name eq "+t,e.next=15,(0,v.dH)(o);case 15:(null==(i=e.sent)?void 0:i.length)>0&&(r.isValid=!1,r.errorMessages.push(h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.uniqueValidate")));case 17:p(!1);case 18:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,s,"next",e)}function s(e){_(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),required:!0,tabIndex:1,"data-testid":"".concat(f,"-identifier")}),s.createElement(a.kW,null,s.createElement(m.c,{i18nKey:"extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.hint"},"A unique value that acts as the scope when requesting an access token.",s.createElement("b",null,"Note that the permission cannot be modified once created.")))),s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(i.gN,{type:"text",name:"displayName",label:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.displayName.label"),placeholder:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.displayName.placeholder"),requiredErrorMessage:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.displayName.emptyValidate"),required:!0,tabIndex:2,"data-testid":"".concat(f,"-displayName")}),s.createElement(a.kW,null,h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.displayName.hint")))),s.createElement(d.Z.Row,{columns:1,className:"pt-0 pb-0"},s.createElement(d.Z.Column,{width:16},s.createElement(i.gN,{type:"text",name:"description",label:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.description.label"),placeholder:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.description.placeholder"),tabIndex:3,"data-testid":"".concat(f,"-description")}),s.createElement(a.kW,null,h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.description.hint")))),s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{width:16,textAlign:"right"},s.createElement(i.gN,{type:"button",form:T,size:"small",tabIndex:4,buttonType:"primary_btn",name:"submit-button",icon:"add",value:h("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.button"),loading:t,"data-testid":"".concat(f,"-add-permission-btn"),onClick:o})))))};function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}z.defaultProps={"data-componentid":"permission-mapping-list-item"};var U=function(e){var t=e.initialPermissions,n=e.triggerAddPermission,r=e.isPermissionValidationLoading,o=e.setAddPermission,i=e.setPermissionsList,l=e.setLatestPermissionFormValues,u=e.setPermissionValidationLoading,p=(0,c.$)().t,f=Z((0,s.useState)(t||new Map),2),m=f[0],h=f[1];(0,s.useEffect)((function(){i(m)}),[m]);var v=function(e,t){var n=new Map(m);switch(t){case"set":n.set(e.name,e);break;case"delete":n.delete(e.name)}h(n)};return s.createElement(d.Z,null,s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{width:16},s.createElement(a.pJ,{className:"mb-4"},s.createElement(z,{addedPermissions:m,updatePermissions:v,triggerAddPermission:n,setAddPermission:o,setLatestPermissionFormValues:l,isPermissionValidationLoading:r,setPermissionValidationLoading:u}))),s.createElement(d.Z.Column,{width:16},s.createElement(s.Fragment,null,s.createElement(w.Z,{as:"h5",className:"bold-text mb-2"},p("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permissionList.label")),s.createElement(a.pJ,{className:"mt-0"},s.createElement(L,{addedPermissions:m,updatePermissions:v}))))))},M=n(24393),F=n(82332),D=n(86769),q=n(28446),G=function(){return{authorize:F.r,general:D.r,permissions:q.r}},K=function(e){return e.BASIC_DETAILS="BasicDetails",e.AUTHORIZATION="Authorization",e.PERMISSIONS="Permission",e}({});function H(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=function(e){var t,n=e.closeWizard,f=e.currentStep,m=e.lastStepFormType,g=e["data-componentid"],b=(0,c.$)().t,E=(0,l.I0)(),w=B((0,i.cC)(),2),x=w[0],A=w[1],S=B((0,i.cC)(),2),P=S[0],I=S[1],O=B((0,s.useState)(!1),2),L=O[0],N=O[1],C=B((0,s.useState)(void 0),2),_=C[0],k=C[1],j=B((0,s.useState)(void 0),2),T=j[0],z=j[1],Z=B((0,s.useState)(!0),2),V=Z[0],F=Z[1],D=B((0,s.useState)(new Map),2),q=D[0],Q=D[1],$=B((0,s.useState)(f),2),W=$[0],J=$[1],Y=B((0,s.useState)(K.BASIC_DETAILS),2),X=Y[0],ee=Y[1],te=B((0,s.useState)(!1),2),ne=te[0],re=te[1],oe=B((0,s.useState)(!1),2),ie=oe[0],ae=oe[1],se=function(){switch(X){case K.BASIC_DETAILS:A();break;case K.PERMISSIONS:var e,n;(null==_||null===(e=_.get("displayName"))||void 0===e?void 0:e.toString().trim())!==(null==_||null===(n=_.get("identifier"))||void 0===n?void 0:n.toString().trim())&&I(),ce();break;case K.AUTHORIZATION:t()}},ce=function(){var e=W+1;J(e),ee(le[e].addAPIResourceWizardStepsFormType)},le=[{addAPIResourceWizardStepsFormType:K.BASIC_DETAILS,content:s.createElement(R,{initalBasicDetails:T,setBasicDetails:z,triggerSubmission:x,submitCallback:ce,isIdentifierValidationLoading:ne,setIdentifierValidationLoading:re}),icon:G().general,title:b("extensions:develop.apiResource.wizard.addApiResource.steps.basic.stepTitle")},{addAPIResourceWizardStepsFormType:K.PERMISSIONS,content:s.createElement(U,{setPermissionsList:Q,initialPermissions:q,triggerAddPermission:P,setAddPermission:I,setLatestPermissionFormValues:k,isPermissionValidationLoading:ie,setPermissionValidationLoading:ae}),icon:G().permissions,title:b("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.stepTitle")},{addAPIResourceWizardStepsFormType:K.AUTHORIZATION,content:s.createElement(h,{triggerSubmission:function(e){t=e},initalRequiredAuthorizationValue:V,setRequiredAuthorization:F,submitCallback:function(e){N(!0);var t={displayName:T.displayName,gwName:y.K.EMPTY_STRING,identifier:T.identifier,permissions:H(q.values()),requiresAuthorization:e};(0,v.tI)(t).then((function(e){E((0,o.V_)({description:b("extensions:develop.apiResource.notifications.addAPIResource.success.description"),level:r.QU.SUCCESS,message:b("extensions:develop.apiResource.notifications.addAPIResource.success.message")})),M.m8.push(y.K.getPaths().get("API_RESOURCE_EDIT").replace(":id",e.id))})).catch((function(e){switch(null==e?void 0:e.code){case y.K.UNAUTHORIZED_ACCESS:E((0,o.V_)({description:b("extensions:develop.apiResource.notifications.addAPIResource.unauthorizedError.description"),level:r.QU.ERROR,message:b("extensions:develop.apiResource.notifications.addAPIResource.unauthorizedError.message")}));break;case y.K.API_RESOURCE_ALREADY_EXISTS:E((0,o.V_)({description:b("extensions:develop.apiResource.notifications.addAPIResource.alreadyExistsError.description"),level:r.QU.ERROR,message:b("extensions:develop.apiResource.notifications.addAPIResource.alreadyExistsError.message")}));break;case y.K.PERMISSION_ALREADY_EXISTS:E((0,o.V_)({description:b("extensions:develop.apiResource.notifications.addAPIResource.permissionAlreadyExistsError.description"),level:r.QU.ERROR,message:b("extensions:develop.apiResource.notifications.addAPIResource.permissionAlreadyExistsError.message")}));break;case y.K.INVALID_REQUEST_PAYLOAD:E((0,o.V_)({description:b("extensions:develop.apiResource.notifications.addAPIResource.invalidPayloadError.description"),level:r.QU.ERROR,message:b("extensions:develop.apiResource.notifications.addAPIResource.invalidPayloadError.message")}));break;default:E((0,o.V_)({description:b("extensions:develop.apiResource.notifications.addAPIResource.genericError.description"),level:r.QU.ERROR,message:b("extensions:develop.apiResource.notifications.addAPIResource.genericError.message")}))}})).finally((function(){N(!1),n()}))}}),icon:G().authorize,title:b("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.stepTitle")}];return s.createElement(u.Z,{"data-testid":g,open:!0,className:"wizard api-resource-create-wizard",dimmer:"blurring",onClose:n,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(u.Z.Header,{className:"wizard-header"},b("extensions:develop.apiResource.wizard.addApiResource.title"),s.createElement(a.X6,{as:"h6"},b("extensions:develop.apiResource.wizard.addApiResource.subtitle"))),s.createElement(u.Z.Content,{scrolling:!0,className:"steps-container"},s.createElement(a.Rg.Group,{current:W},le.map((function(e){return s.createElement(a.Rg.Step,{key:e.title,icon:e.icon,title:e.title})})))),s.createElement(u.Z.Content,{className:"content-container",scrolling:!0},le[W].content),s.createElement(u.Z.Actions,null,s.createElement(d.Z,null,s.createElement(d.Z.Row,{column:1},s.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(a.Qj,{tabIndex:6,"data-testid":"".concat(g,"-cancel-button"),floated:"left",onClick:function(){return n()}},b("extensions:develop.apiResource.wizard.addApiResource.cancelButton"))),s.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},X!==m&&s.createElement(a.KM,{tabIndex:7,"data-testid":"".concat(g,"-next-button"),floated:"right",onClick:function(){return se()},loading:ne,disabled:ne},b("extensions:develop.apiResource.wizard.addApiResource.nextButton"),s.createElement(p.Z,{name:"arrow right"})),X===m&&s.createElement(a.KM,{tabIndex:8,"data-testid":"".concat(g,"-finish-button"),floated:"right",onClick:function(){return se()},loading:L||ie},b("extensions:develop.apiResource.wizard.addApiResource.submitButton")),W>0&&s.createElement(a.Qj,{tabIndex:9,"data-testid":"".concat(g,"-previous-button"),floated:"right",onClick:function(){return J(e=W-1),void ee(le[e].addAPIResourceWizardStepsFormType);var e},loading:L},s.createElement(p.Z,{name:"arrow left"}),b("extensions:develop.apiResource.wizard.addApiResource.previousButton")))))))};function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Y(){Y=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",v={};function y(){}function g(){}function b(){}var E={};l(E,a,(function(){return this}));var R=Object.getPrototypeOf,w=R&&R(R(C([])));w&&w!==n&&r.call(w,a)&&(E=w);var x=b.prototype=y.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==J(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?h:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(J(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},A(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(x),l(x,c,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function X(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}W.defaultProps={currentStep:0,"data-componentid":"add-api-resource",lastStepFormType:K.AUTHORIZATION};var ee=function(e){var t=e.permissionValidationLoading,n=e.triggerAddPermission,r=e.addPermission,o=e.setIsSubmitting,l=e.setPermissionValidationLoading,u=e["data-componentid"],p=(0,c.$)().t;return s.createElement(i.Es,{"data-componentid":"".concat(u,"-form"),onSubmit:function(e){var t={description:e.get("description").toString(),displayName:e.get("displayName").toString(),name:e.get("identifier").toString()};o(!0),r(t)},id:"apiResource-general-details",submitState:n,uncontrolledForm:!1},s.createElement(d.Z,null,s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(i.gN,{type:"text",name:"identifier",label:p("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label"),placeholder:p("extensions:develop.apiResource.tabs.permissions.form.fields.permission.placeholder"),required:!0,tabIndex:1,requiredErrorMessage:p("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.emptyValidate"),validation:function(){var e,t=(e=Y().mark((function e(t,n){var r,o;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),!t){e.next=13;break}if(y.K.checkValidPermissionIdentifier(t)){e.next=7;break}n.isValid=!1,n.errorMessages.push(p("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.invalid")),e.next=12;break;case 7:return r="name eq "+t,e.next=10,(0,v.dH)(r);case 10:(null==(o=e.sent)?void 0:o.length)>0&&(n.isValid=!1,n.errorMessages.push(p("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.uniqueValidate")));case 12:l(!1);case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){X(i,r,o,a,s,"next",e)}function s(e){X(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),"data-testid":"".concat(u,"-identifier"),loading:t}),s.createElement(a.kW,null,s.createElement(m.c,{i18nKey:"extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.permission.hint"},"A unique value that acts as the scope when requesting an access token.",s.createElement("b",null,"Note that the permission cannot be modified once created."))))),s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(i.gN,{type:"text",name:"displayName",label:p("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.label"),placeholder:p("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.placeholder"),required:!0,tabIndex:2,requiredErrorMessage:p("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.emptyValidate"),"data-testid":"".concat(u,"-displayName")}),s.createElement(a.kW,null,p("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.displayName.hint")))),s.createElement(d.Z.Row,{columns:1},s.createElement(d.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(i.gN,{type:"text",name:"description",label:p("extensions:develop.apiResource.tabs.permissions.form.fields.description.label"),placeholder:p("extensions:develop.apiResource.tabs.permissions.form.fields.description.placeholder"),tabIndex:3,"data-testid":"".concat(u,"-description")}),s.createElement(a.kW,null,p("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.description.hint"))))))};function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ee.defaultProps={"data-componentid":"add-api-resource-permission-form"};var re=function(e){var t=e.closeWizard,n=e.handleUpdateAPIResource,r=e["data-componentid"],o=(0,c.$)().t,l=te((0,i.cC)(),2),p=l[0],f=l[1],m=te((0,s.useState)(!1),2),h=m[0],v=m[1],y=te((0,s.useState)(!1),2),g=y[0],b=y[1];return s.createElement(u.Z,{"data-testid":r,open:!0,className:"wizard api-resource-permission-create-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(u.Z.Header,{className:"wizard-header"},o("extensions:develop.apiResource.tabs.permissions.form.title"),s.createElement(a.X6,{as:"h6"},o("extensions:develop.apiResource.tabs.permissions.form.subTitle"))),s.createElement(u.Z.Content,{className:"content-container"},s.createElement(ee,{triggerAddPermission:p,addPermission:function(e){n({addedPermissions:[e]},(function(){t(),v(!1)}))},setIsSubmitting:v,permissionValidationLoading:g,setPermissionValidationLoading:b})),s.createElement(u.Z.Actions,null,s.createElement(d.Z,null,s.createElement(d.Z.Row,{column:1},s.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(a.Qj,{"data-testid":"".concat(r,"-cancel-button"),floated:"left",onClick:function(){return t()}},o("extensions:develop.apiResource.tabs.permissions.form.cancelButton"))),s.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(a.KM,{"data-testid":"".concat(r,"-finish-button"),floated:"right",onClick:function(){return f()},loading:h},o("extensions:develop.apiResource.tabs.permissions.form.submitButton")))))))};re.defaultProps={"data-componentid":"add-api-resource-permission"}},6890:(e,t,n)=>{n.d(t,{H:()=>d});var r=n(17493);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var c,l,u,d=a((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));c=d,u=function(e){return e===r.K.CHOREO_GW_NAME},(l=s(l="checkIfAPIResourceManagedByChoreo"))in c?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u},82332:(e,t,n)=>{n.d(t,{r:()=>d});var r,o,i,a=n(44194),s=["title","titleId"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=function(e,t){var n=e.title,u=e.titleId,d=l(e,s);return a.createElement("svg",c({id:"account-policy-icon",xmlns:"http://www.w3.org/2000/svg",className:"icon",width:14,height:14,viewBox:"0 0 16.782 19.097",ref:t,"aria-labelledby":u},d),n?a.createElement("title",{id:u},n):null,r||(r=a.createElement("path",{id:"Path_233",className:"path",d:"M89.988,127.019a5.035,5.035,0,1,0,5.035-5.035A5.041,5.041,0,0,0,89.988,127.019Zm3.357,3.538v-.181a1.678,1.678,0,1,1,3.356,0v.181a3.911,3.911,0,0,1-3.356,0Zm5.594-3.538a3.9,3.9,0,0,1-1.176,2.794,2.8,2.8,0,0,0-5.481,0,3.915,3.915,0,1,1,6.656-2.794Zm0,0",transform:"translate(-86.632 -117.435)",fill:"#464646"})),o||(o=a.createElement("path",{id:"Path_234",className:"path",d:"M183.337,183.655a1.678,1.678,0,1,0-1.678,1.678A1.68,1.68,0,0,0,183.337,183.655Zm-1.678.559a.559.559,0,1,1,.559-.559A.56.56,0,0,1,181.659,184.214Zm0,0",transform:"translate(-173.267 -175.189)",fill:"#464646"})),i||(i=a.createElement("path",{id:"Path_235",className:"path",d:"M8.391,0,0,3.623V6.658A13.431,13.431,0,0,0,8.171,19l.22.094L8.612,19A13.431,13.431,0,0,0,16.782,6.658V3.623Zm7.272,6.658A12.311,12.311,0,0,1,8.391,17.877,12.311,12.311,0,0,1,1.119,6.658v-2.3l7.272-3.14,7.272,3.14Zm0,0",fill:"#464646"})))},d=(0,a.forwardRef)(u)},28446:(e,t,n)=>{n.d(t,{r:()=>l});var r,o=n(44194),i=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=function(e,t){var n=e.title,c=e.titleId,l=s(e,i);return o.createElement("svg",a({id:"key-icon",className:"icon",xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",style:{enableBackground:"new 0 0 14 14"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},l),n?o.createElement("title",{id:c},n):null,r||(r=o.createElement("path",{className:"path fill primary",d:"M.292,14A.292.292,0,0,1,0,13.708V11.375a.291.291,0,0,1,.086-.206l1.081-1.082V9.625a.292.292,0,0,1,.292-.292h.463l.413-.412V8.458a.292.292,0,0,1,.292-.292h.463L3.5,7.754V7.292A.292.292,0,0,1,3.792,7h.463l.292-.292-.377-.377a.291.291,0,0,1,.076-.467L4.766,5.6a4.606,4.606,0,0,1-.1-.937A4.667,4.667,0,1,1,8.4,9.234l-.26.521a.292.292,0,0,1-.467.076l-.377-.377-4.46,4.46A.3.3,0,0,1,2.625,14ZM1.75,10.209a.294.294,0,0,1-.085.206L.583,11.5v1.921H2.5L7.086,8.835a.292.292,0,0,1,.412,0l.3.3.183-.365a.292.292,0,0,1,.334-.152A4.081,4.081,0,1,0,5.25,4.667a4.116,4.116,0,0,0,.135,1.022.293.293,0,0,1-.152.334L4.867,6.2l.3.3a.291.291,0,0,1,0,.412L4.581,7.5a.291.291,0,0,1-.206.086H4.083v.292A.291.291,0,0,1,4,8.081l-.583.583a.291.291,0,0,1-.206.086H2.917v.292a.289.289,0,0,1-.086.206l-.583.584a.294.294,0,0,1-.206.085H1.75Zm.086,1.956a.292.292,0,0,1,0-.412L5.918,7.669a.291.291,0,0,1,.412.412L2.247,12.164a.291.291,0,0,1-.412,0Zm7.5-8.956a1.458,1.458,0,1,1,1.458,1.458A1.46,1.46,0,0,1,9.333,3.209Zm.583,0a.875.875,0,1,0,.875-.875A.876.876,0,0,0,9.916,3.209Z"})))},l=(0,o.forwardRef)(c)}}]);