"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[54850,16376,55610,31005,78267],{55610:(e,r,t)=>{t.r(r),t.d(r,{RolePermissionDetails:()=>u});var n=t(93129),o=t(3356),s=t(44194),i=t(10479),a=t(47245),l=t(12742),c=t(78267),u=function(e){var r=(0,i.$)().t,t=(0,a.I0)(),u=e.isReadOnly,d=e.roleObject,f=e.onRoleUpdate,m=e.isGroup;return s.createElement("div",{className:"permissions-edit-container"},s.createElement(c.PermissionList,{isReadOnly:u,isEdit:!u,isRole:!0,onSubmit:function(e){var s={Operations:[{op:"replace",path:"permissions",value:e.map((function(e){return e.key}))}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,l.ul)(d.id,s).then((function(){t((0,o.V_)({description:r(m?"console:manage.features.groups.notifications.updateGroup.success.description":"roles:notifications.updateRole.success.description"),level:n.QU.SUCCESS,message:r(m?"console:manage.features.groups.notifications.updateGroup.success.message":"roles:notifications.updateRole.success.message")})),f()})).catch((function(e){e.response&&401!==e.response.status?e.response&&e.response.data.detail?t((0,o.V_)({description:r(m?"console:manage.features.groups.notifications.createPermission.error.description":"roles:notifications.createPermission.error.description",{description:e.response.data.detail}),level:n.QU.ERROR,message:r(m?"console:manage.features.groups.notifications.createPermission.error.message":"roles:notifications.createPermission.error.message")})):t((0,o.V_)({description:r(m?"console:manage.features.groups.notifications.createPermission.genericError.description":"roles:notifications.createPermission.genericError.description"),level:n.QU.ERROR,message:r(m?"console:manage.features.groups.notifications.createPermission.genericError.message":"roles:notifications.createPermission.genericError.message")})):t((0,o.V_)({description:r(m?"console:manage.features.groups.notifications.createPermission.error.description":"roles:notifications.createPermission.error.description"),level:n.QU.ERROR,message:r(m?"console:manage.features.groups.notifications.createPermission.error.message":"roles:notifications.createPermission.error.message")}))}))},roleObject:d}))}},31005:(e,r,t)=>{t.r(r),t.d(r,{RoleUserDetails:()=>p});var n=t(93129),o=t(3356),s=t(44194),i=t(10479),a=t(47245),l=t(12742),c=t(45770),u=t(78267);function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,s,i,a=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(a.push(n.value),a.length!==r);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,r)||f(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){if(e){if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,r):void 0}}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var p=function(e){var r=(0,i.$)().t,t=(0,a.I0)(),m=e.roleObject,p=e.onRoleUpdate,g=e.isReadOnly,y=d((0,s.useState)(void 0),2),R=y[0],v=y[1];(0,s.useEffect)((function(){if(null!=m&&m.displayName){var e=m.displayName;-1!==e.indexOf("/")?v(e.split("/")[0]):v(c.$R)}}),[R,m]);var h=function(e){t((0,o.V_)(e))};return s.createElement(u.AddRoleUsers,{"data-testid":"role-mgt-edit-role-users",isGroup:!1,isEdit:!0,isReadOnly:g,userStore:R,assignedUsers:null==m?void 0:m.users,onSubmit:function(e){var t,o=[],s=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=f(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw s}}}}(e);try{for(s.s();!(t=s.n()).done;){var i=t.value;o.push({value:i.id})}}catch(c){s.e(c)}finally{s.f()}var a={Operations:[{op:"replace",path:"users",value:o}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,l.dB)(m.id,a).then((function(){h({description:r("roles:notifications.updateRole.success.description"),level:n.QU.SUCCESS,message:r("roles:notifications.updateRole.success.message")}),p()})).catch((function(){h({description:r("roles:notifications.updateRole.error.description"),level:n.QU.ERROR,message:r("roles:notifications.updateRole.error.message")})}))}})}},16376:(e,r,t)=>{t.r(r),t.d(r,{EditRole:()=>m});var n=t(71015),o=t(86727),s=t(44194),i=t(10479),a=t(89962),l=t(55610),c=t(31005),u=t(24393);function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,s,i,a=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(a.push(n.value),a.length!==r);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var m=function(e){var r=e.roleObject,t=e.onRoleUpdate,f=(0,i.$)().t,m=d((0,s.useState)(!1),2),p=m[0],g=m[1],y=d((0,s.useState)(!1),2),R=y[0],v=y[1];(0,s.useEffect)((function(){r&&g(u.m8.location.pathname.includes("/groups/"))}),[r]),(0,s.useEffect)((function(){r&&v(r.displayName===n.nL.ADMIN_ROLE||r.displayName===n.nL.ADMIN_GROUP)}),[r]);return s.createElement(o.M$,{panes:[{menuItem:"General",render:function(){return s.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(a.BasicRoleDetails,{isReadOnly:R,"data-testid":"role-mgt-edit-role-basic",isGroup:p,roleObject:r,onRoleUpdate:t}))}},{menuItem:f("roles:edit.menuItems.permissions"),render:function(){return s.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(l.RolePermissionDetails,{isReadOnly:R,"data-testid":"role-mgt-edit-role-permissions",isGroup:!1,roleObject:r,onRoleUpdate:t}))}},{menuItem:f("roles:edit.menuItems.users"),render:function(){return s.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(c.RoleUserDetails,{"data-testid":"role-mgt-edit-role-users",isGroup:!1,roleObject:r,onRoleUpdate:t}))}}]})}},54850:(e,r,t)=>{t.r(r),t.d(r,{BasicRoleDetails:()=>o.BasicRoleDetails,EditRole:()=>n.EditRole,RoleGroupsList:()=>a.RoleGroupsList,RolePermissionDetails:()=>s.RolePermissionDetails,RoleUserDetails:()=>i.RoleUserDetails});var n=t(16376),o=t(89962),s=t(55610),i=t(31005),a=t(68192)},78267:(e,r,t)=>{t.r(r),t.d(r,{AddRoleUsers:()=>a.AddRoleUsers,CreateRoleSummary:()=>s.CreateRoleSummary,CreateRoleWizard:()=>n.CreateRoleWizard,PermissionList:()=>o.PermissionList,RoleBasics:()=>i.RoleBasics});var n=t(6187),o=t(19587),s=t(18259),i=t(45965),a=t(39553)}}]);