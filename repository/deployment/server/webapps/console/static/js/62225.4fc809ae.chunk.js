"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[62225,77787],{62225:(e,t,n)=>{n.r(t),n.d(t,{GroupList:()=>h});var l=n(24184),i=n(54833),r=n(86727),o=n(44194),a=n(10479),s=n(47245),c=n(26154),u=n(12638),d=n(77787),m=n(24393),p=n(98500),g=n(40231);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,i,r,o,a=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(l=r.call(n)).done)&&(a.push(l.value),a.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var h=function(e){var t=e.advancedSearch,n=e.defaultListItemLimit,y=e.handleGroupDelete,h=e.isLoading,f=e.readOnlyUserStores,E=e.featureConfig,S=e.onEmptyListPlaceholderActionClick,b=e.onSearchQueryClear,A=e.groupList,I=e.selection,C=e.searchQuery,w=e.showListItemActions,R=e.selectedUserStoreOption,N=e["data-testid"],T=(0,a.$)().t,P=(0,s.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),L=v((0,o.useState)(!1),2),k=L[0],O=L[1],U=v((0,o.useState)(),2),_=U[0],G=U[1],F=function(e){m.m8.push(m.$x.getPaths().get("GROUP_EDIT").replace(":id",e))},x=function(){return C&&0===(null==A?void 0:A.length)?o.createElement(r.$J,{"data-testid":"".concat(N,"-search-empty-placeholder"),action:o.createElement(r.Qj,{"data-testid":"".concat(N,"-search-empty-placeholder-clear-button"),onClick:b},T("roles:list.emptyPlaceholders.search.action")),image:(0,m.jF)().emptySearch,imageSize:"tiny",title:T("roles:list.emptyPlaceholders.search.title"),subtitle:[T("roles:list.emptyPlaceholders.search.subtitles.0",{searchQuery:C}),T("roles:list.emptyPlaceholders.search.subtitles.1")]}):0!==(null==A?void 0:A.length)?o.createElement(o.Fragment,null,o.createElement(l.di,{when:null==E||null===(e=E.groups)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.create},o.createElement(r.$J,{"data-testid":"".concat(N,"-empty-list-empty-placeholder"),action:(R===g.XS||R===p.J.ALL_GROUPS)&&o.createElement(r.KM,{"data-testid":"".concat(N,"-empty-list-empty-placeholder-add-button"),onClick:S},o.createElement(c.Z,{name:"add"}),T("roles:list.emptyPlaceholders.emptyRoleList.action",{type:"Group"})),image:(0,m.jF)().newList,imageSize:"tiny",title:"No groups available",subtitle:[T("roles:list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"groups"})]})),o.createElement(l.di,{when:[],notWhen:null==E||null===(t=E.groups)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create},o.createElement(r.$J,{"data-testid":"".concat(N,"-empty-list-empty-placeholder"),image:(0,m.jF)().newList,imageSize:"tiny",title:"No groups available",subtitle:[T("roles:list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"groups"})]}))):null;var e,t};return o.createElement(o.Fragment,null,o.createElement(r.wQ,{showHeader:!0,className:"groups-list",externalSearch:t,isLoading:h,loadingStateOptions:{count:null!=n?n:m.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(w){var e=[{hidden:function(){var e;return!(0,i.cr)(null==E?void 0:E.groups,p.J.FEATURE_DICTIONARY.get("GROUP_READ"))||!(0,i.Xr)(null==E?void 0:E.groups,null==E||null===(e=E.groups)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.create,P)},icon:function(e){var t,n,l=(null==e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,i.cr)(null==E?void 0:E.groups,p.J.FEATURE_DICTIONARY.get("GROUP_UPDATE"))||null!=f&&f.includes(l.toString())?"eye":"pencil alternate"},onClick:function(e,t){return F(t.id)},popupText:function(e){var t,n,l=(null==e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,i.cr)(null==E?void 0:E.groups,p.J.FEATURE_DICTIONARY.get("GROUP_UPDATE"))||null!=f&&f.includes(l.toString())?T("common:view"):T("common:edit")},renderer:"semantic-icon"}];return e.push({hidden:function(e){var t,n,l,r=(null==e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,i.Xr)(null==E?void 0:E.groups,null==E||null===(l=E.groups)||void 0===l||null===(l=l.scopes)||void 0===l?void 0:l.delete,P)||(null==f?void 0:f.includes(r.toString()))||r.toString()!==g.XS},icon:function(){return"trash alternate"},onClick:function(e,t){G(t),O(!k)},popupText:function(){return T("roles:list.popups.delete",{type:"Group"})},renderer:"semantic-icon"}),e}}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return o.createElement(u.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(N,"-item-heading")},o.createElement(r.JT,{image:o.createElement(r.Xo,{name:(0,d.resolveGroupName)(e),size:"mini","data-testid":"".concat(N,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(N,"-item-image")}),o.createElement(u.Z.Content,null,o.createElement("div",{className:"mt-1"},(0,d.resolveGroupName)(e)," ")))},title:T("console:manage.features.groups.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"type",id:"type",key:"type",render:function(e){var t=(0,i.tF)(e.displayName);return t===g.XS?g.XS:t.toUpperCase()},title:o.createElement(o.Fragment,null,T("console:manage.features.groups.list.columns.source"),o.createElement(r.GI,{trigger:o.createElement("div",{className:"inline"},o.createElement(c.Z,{disabled:!0,name:"info circle",className:"link pointing pl-1"})),content:"Where group is managed.",position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}))},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:A,onRowClick:function(e,t){var n;(0,i.Xr)(null==E?void 0:E.groups,null==E||null===(n=E.groups)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create,P)&&F(null==t?void 0:t.id)},placeholders:x(),selectable:I,transparent:!h&&null!==x(),"data-testid":N}),k&&o.createElement(r.cV,{"data-testid":"".concat(N,"-delete-item-confirmation-modal"),onClose:function(){return O(!1)},type:"negative",open:k,assertionHint:T("roles:list.confirmations.deleteItem.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){return O(!1)},onPrimaryActionClick:function(){y(_),O(!1)},closeOnDimmerClick:!1},o.createElement(r.cV.Header,null,T("roles:list.confirmations.deleteItem.header")),o.createElement(r.cV.Message,{attached:!0,negative:!0},T("roles:list.confirmations.deleteItem.message",{type:"group"})),o.createElement(r.cV.Content,null,T("roles:list.confirmations.deleteItem.content",{type:"group"}))))};h.defaultProps={selection:!0,showListItemActions:!0,showMetaContent:!0}},77787:(e,t,n)=>{n.r(t),n.d(t,{resolveGroupName:()=>l});var l=function(e){var t,n;return(null==e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[1]:null==e?void 0:e.displayName}}}]);