"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[94092,54850,16376,55610,31005,71021,78267],{55610:(e,t,r)=>{r.r(t),r.d(t,{RolePermissionDetails:()=>u});var n=r(93129),i=r(3356),o=r(44194),a=r(10479),s=r(47245),l=r(12742),c=r(78267),u=function(e){var t=(0,a.$)().t,r=(0,s.I0)(),u=e.isReadOnly,m=e.roleObject,d=e.onRoleUpdate,p=e.isGroup;return o.createElement("div",{className:"permissions-edit-container"},o.createElement(c.PermissionList,{isReadOnly:u,isEdit:!u,isRole:!0,onSubmit:function(e){var o={Operations:[{op:"replace",path:"permissions",value:e.map((function(e){return e.key}))}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,l.ul)(m.id,o).then((function(){r((0,i.V_)({description:t(p?"console:manage.features.groups.notifications.updateGroup.success.description":"roles:notifications.updateRole.success.description"),level:n.QU.SUCCESS,message:t(p?"console:manage.features.groups.notifications.updateGroup.success.message":"roles:notifications.updateRole.success.message")})),d()})).catch((function(e){e.response&&401!==e.response.status?e.response&&e.response.data.detail?r((0,i.V_)({description:t(p?"console:manage.features.groups.notifications.createPermission.error.description":"roles:notifications.createPermission.error.description",{description:e.response.data.detail}),level:n.QU.ERROR,message:t(p?"console:manage.features.groups.notifications.createPermission.error.message":"roles:notifications.createPermission.error.message")})):r((0,i.V_)({description:t(p?"console:manage.features.groups.notifications.createPermission.genericError.description":"roles:notifications.createPermission.genericError.description"),level:n.QU.ERROR,message:t(p?"console:manage.features.groups.notifications.createPermission.genericError.message":"roles:notifications.createPermission.genericError.message")})):r((0,i.V_)({description:t(p?"console:manage.features.groups.notifications.createPermission.error.description":"roles:notifications.createPermission.error.description"),level:n.QU.ERROR,message:t(p?"console:manage.features.groups.notifications.createPermission.error.message":"roles:notifications.createPermission.error.message")}))}))},roleObject:m}))}},31005:(e,t,r)=>{r.r(t),r.d(t,{RoleUserDetails:()=>f});var n=r(93129),i=r(3356),o=r(44194),a=r(10479),s=r(47245),l=r(12742),c=r(45770),u=r(78267);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=(0,a.$)().t,r=(0,s.I0)(),p=e.roleObject,f=e.onRoleUpdate,y=e.isReadOnly,h=m((0,o.useState)(void 0),2),R=h[0],g=h[1];(0,o.useEffect)((function(){if(null!=p&&p.displayName){var e=p.displayName;-1!==e.indexOf("/")?g(e.split("/")[0]):g(c.$R)}}),[R,p]);var v=function(e){r((0,i.V_)(e))};return o.createElement(u.AddRoleUsers,{"data-testid":"role-mgt-edit-role-users",isGroup:!1,isEdit:!0,isReadOnly:y,userStore:R,assignedUsers:null==p?void 0:p.users,onSubmit:function(e){var r,i=[],o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push({value:a.id})}}catch(c){o.e(c)}finally{o.f()}var s={Operations:[{op:"replace",path:"users",value:i}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,l.dB)(p.id,s).then((function(){v({description:t("roles:notifications.updateRole.success.description"),level:n.QU.SUCCESS,message:t("roles:notifications.updateRole.success.message")}),f()})).catch((function(){v({description:t("roles:notifications.updateRole.error.description"),level:n.QU.ERROR,message:t("roles:notifications.updateRole.error.message")})}))}})}},16376:(e,t,r)=>{r.r(t),r.d(t,{EditRole:()=>p});var n=r(71015),i=r(86727),o=r(44194),a=r(10479),s=r(89962),l=r(55610),c=r(31005),u=r(24393);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){var t=e.roleObject,r=e.onRoleUpdate,d=(0,a.$)().t,p=m((0,o.useState)(!1),2),f=p[0],y=p[1],h=m((0,o.useState)(!1),2),R=h[0],g=h[1];(0,o.useEffect)((function(){t&&y(u.m8.location.pathname.includes("/groups/"))}),[t]),(0,o.useEffect)((function(){t&&g(t.displayName===n.nL.ADMIN_ROLE||t.displayName===n.nL.ADMIN_GROUP)}),[t]);return o.createElement(i.M$,{panes:[{menuItem:"General",render:function(){return o.createElement(i.M$.Pane,{controlledSegmentation:!0,attached:!1},o.createElement(s.BasicRoleDetails,{isReadOnly:R,"data-testid":"role-mgt-edit-role-basic",isGroup:f,roleObject:t,onRoleUpdate:r}))}},{menuItem:d("roles:edit.menuItems.permissions"),render:function(){return o.createElement(i.M$.Pane,{controlledSegmentation:!0,attached:!1},o.createElement(l.RolePermissionDetails,{isReadOnly:R,"data-testid":"role-mgt-edit-role-permissions",isGroup:!1,roleObject:t,onRoleUpdate:r}))}},{menuItem:d("roles:edit.menuItems.users"),render:function(){return o.createElement(i.M$.Pane,{controlledSegmentation:!0,attached:!1},o.createElement(c.RoleUserDetails,{"data-testid":"role-mgt-edit-role-users",isGroup:!1,roleObject:t,onRoleUpdate:r}))}}]})}},54850:(e,t,r)=>{r.r(t),r.d(t,{BasicRoleDetails:()=>i.BasicRoleDetails,EditRole:()=>n.EditRole,RoleGroupsList:()=>s.RoleGroupsList,RolePermissionDetails:()=>o.RolePermissionDetails,RoleUserDetails:()=>a.RoleUserDetails});var n=r(16376),i=r(89962),o=r(55610),a=r(31005),s=r(68192)},94092:(e,t,r)=>{r.r(t),r.d(t,{AddRoleUsers:()=>i.AddRoleUsers,BasicRoleDetails:()=>n.BasicRoleDetails,CreateRoleSummary:()=>i.CreateRoleSummary,CreateRoleWizard:()=>i.CreateRoleWizard,EditRole:()=>n.EditRole,PermissionList:()=>i.PermissionList,RoleBasics:()=>i.RoleBasics,RoleGroupsList:()=>n.RoleGroupsList,RoleList:()=>o.RoleList,RolePermissionDetails:()=>n.RolePermissionDetails,RoleUserDetails:()=>n.RoleUserDetails});var n=r(54850),i=r(78267),o=r(71021)},71021:(e,t,r)=>{r.r(t),r.d(t,{RoleList:()=>f});var n=r(71015),i=r(86727),o=r(44194),a=r(10479),s=r(37077),l=r(26154),c=r(12638),u=r(24393),m=r(45770);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.advancedSearch,r=e.defaultListItemLimit,p=e.handleRoleDelete,f=e.isLoading,y=e.onEmptyListPlaceholderActionClick,h=e.onListItemClick,R=e.onSearchQueryClear,g=e.roleList,v=e.selection,b=e.searchQuery,E=e.showListItemActions,S=e.showHeader,P=e.showRoleType,O=e["data-testid"],A=(0,a.$)().t,I=d((0,o.useState)(!1),2),L=I[0],w=I[1],C=d((0,o.useState)(),2),U=C[0],j=C[1],D=function(e){u.m8.push(u.$x.getPaths().get("ROLE_EDIT").replace(":id",e))},k=function(){return b?o.createElement(i.$J,{"data-testid":"".concat(O,"-search-empty-placeholder"),action:o.createElement(i.Qj,{"data-testid":"".concat(O,"-search-empty-placeholder-clear-button"),onClick:R},A("roles:list.emptyPlaceholders.search.action")),image:(0,u.jF)().emptySearch,imageSize:"tiny",title:A("roles:list.emptyPlaceholders.search.title"),subtitle:[A("roles:list.emptyPlaceholders.search.subtitles.0",{searchQuery:b}),A("roles:list.emptyPlaceholders.search.subtitles.1")]}):0===(null==g?void 0:g.totalResults)?o.createElement(i.$J,{"data-testid":"".concat(O,"-empty-list-empty-placeholder"),action:o.createElement(i.KM,{"data-testid":"".concat(O,"-empty-list-empty-placeholder-add-button"),onClick:y},o.createElement(l.Z,{name:"add"}),A("roles:list.emptyPlaceholders.emptyRoleList.action",{type:"Role"})),image:(0,u.jF)().newList,imageSize:"tiny",title:A("roles:list.emptyPlaceholders.emptyRoleList.title",{type:"role"}),subtitle:[A("roles:list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"roles"}),A("roles:list.emptyPlaceholders.emptyRoleList.subtitles.1",{type:"role"}),A("roles:list.emptyPlaceholders.emptyRoleList.subtitles.2",{type:"role"})]}):null};return o.createElement(o.Fragment,null,o.createElement(i.wQ,{className:"roles-list",externalSearch:t,isLoading:f,loadingStateOptions:{count:null!=r?r:u.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(E)return[{icon:function(){return"pencil alternate"},onClick:function(e,t){return D(null==t?void 0:t.id)},popupText:function(){return A("roles:list.popups.edit",{type:"Role"})},renderer:"semantic-icon"},{hidden:function(e){return(null==e?void 0:e.displayName)===n.nL.ADMIN_ROLE||(null==e?void 0:e.displayName)===n.nL.ADMIN_GROUP},icon:function(){return"trash alternate"},onClick:function(e,t){j(t),w(!L)},popupText:function(){return A("roles:list.popups.delete",{type:"Role"})},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return o.createElement(c.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(O,"-item-heading")},o.createElement(i.JT,{image:o.createElement(i.Xo,{name:null==e?void 0:e.displayName[0],size:"mini","data-testid":"".concat(O,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(O,"-item-image")}),o.createElement(c.Z.Content,null,o.createElement("div",{className:"mt-2"}," ",(t=null==e?void 0:e.displayName).includes(m.Fn)?P?o.createElement(o.Fragment,null,o.createElement(s.Z,{"data-testid":"".concat(O,"-role-").concat(t.split("/")[1],"-label"),content:"Application",size:"mini",className:"application-label"}),"/ "+t.split("/")[1]):t.split("/")[1]:P?o.createElement(o.Fragment,null,o.createElement(s.Z,{"data-testid":"".concat(O,"-role-").concat(t,"-label"),content:"Internal",size:"mini",className:"internal-label"}),"/ "+t):t," ")));var t},title:A("roles:list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:null==g?void 0:g.Resources,onRowClick:function(e,t){D(null==t?void 0:t.id),h(e,t)},placeholders:k(),selectable:v,showHeader:S,transparent:!f&&null!==k(),"data-testid":O}),L&&o.createElement(i.cV,{"data-testid":"".concat(O,"-delete-item-confirmation-modal"),onClose:function(){return w(!1)},type:"warning",open:L,assertionHint:A("roles:list.confirmations.deleteItem.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){return w(!1)},onPrimaryActionClick:function(){p(U),w(!1)},closeOnDimmerClick:!1},o.createElement(i.cV.Header,null,A("roles:list.confirmations.deleteItem.header")),o.createElement(i.cV.Message,{attached:!0,warning:!0},A("roles:list.confirmations.deleteItem.message",{type:"role"})),o.createElement(i.cV.Content,null,A("roles:list.confirmations.deleteItem.content",{type:"role"}))))};f.defaultProps={selection:!0,showHeader:!1,showListItemActions:!0,showMetaContent:!0,showRoleType:!1}},78267:(e,t,r)=>{r.r(t),r.d(t,{AddRoleUsers:()=>s.AddRoleUsers,CreateRoleSummary:()=>o.CreateRoleSummary,CreateRoleWizard:()=>n.CreateRoleWizard,PermissionList:()=>i.PermissionList,RoleBasics:()=>a.RoleBasics});var n=r(6187),i=r(19587),o=r(18259),a=r(45965),s=r(39553)}}]);