"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[86806],{86806:(e,n,t)=>{t.r(n),t.d(n,{ValidationConfigEditPage:()=>h,default:()=>f});var a=t(54833),i=t(93129),r=t(3356),o=t(20812),l=t(86727),c=t(44194),s=t(10479),m=t(47245),d=t(41206),I=t(89141),u=t(62508),N=t(84870),O=t(24393),_=t(40518),A=t(60308),L=t(72478),T=t(37618);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){C(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function C(e,n,t){var a;return a=function(e,n){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!=p(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==p(a)?a:a+"")in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,i,r,o,l=[],c=!0,s=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(a=r.call(t)).done)&&(l.push(a.value),l.length!==n);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}var E="validation-config-form",h=function(e){var n=e["data-componentid"],t=(0,m.I0)(),p=(0,c.useRef)(null),R=(0,s.$)().t,g=(0,l.fQ)().getLink,h=(0,m.v9)((function(e){var n;return null==e||null===(n=e.config)||void 0===n||null===(n=n.ui)||void 0===n?void 0:n.isPasswordInputValidationEnabled})),f=(0,m.v9)((function(e){var n;return null==e||null===(n=e.config)||void 0===n||null===(n=n.ui)||void 0===n?void 0:n.features})),F=(0,m.v9)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.allowedScopes})),D=v((0,c.useState)(!1),2),b=D[0],P=D[1],V=v((0,c.useState)(void 0),2),M=V[0],U=V[1],y=v((0,c.useState)(!0),1)[0],x=v((0,c.useState)(!1),2),w=x[0],G=x[1],W=v((0,c.useState)(!1),2),q=W[0],X=W[1],H=v((0,c.useState)(void 0),2),j=H[0],k=H[1],Q=v((0,c.useState)(!0),2),Z=Q[0],B=Q[1],$=v((0,c.useState)(!1),2),z=$[0],Y=$[1],J=v((0,c.useState)(!1),2),K=J[0],ee=J[1],ne=v((0,c.useState)(void 0),2),te=ne[0],ae=ne[1],ie=v((0,c.useState)([]),2),re=ie[0],oe=ie[1],le=(0,c.useMemo)((function(){var e;return!(0,a.Xr)(null==f?void 0:f.governanceConnectors,null==f||null===(e=f.governanceConnectors)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,F)}),[f,F]),ce=N.serverConfigurationConfig.usePasswordHistory(),se=ce.data,me=ce.error,de=ce.mutate,Ie=N.serverConfigurationConfig.usePasswordExpiry(),ue=Ie.data,Ne=Ie.error,Oe=Ie.mutate,_e=(0,L.W)(h),Ae=_e.data,Le=_e.error,Te=_e.mutate;(0,c.useEffect)((function(){h||Re()}),[]),(0,c.useEffect)((function(){!se||!ue||h&&!Ae||!h&&!re&&(null==re?void 0:re.length)>0||pe()}),[se,Ae,ue,re]),(0,c.useEffect)((function(){void 0!==M&&(k(S({},M)),null!=M&&M.uniqueCharacterValidatorEnabled&&G(!0),null!=M&&M.consecutiveCharacterValidatorEnabled&&X(!0),B(!1))}),[M]),(0,c.useEffect)((function(){var e,n,a;if(Le||me||Ne)if(null!=Le&&null!==(e=Le.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description){var o,l;if(404===(null==Le||null===(o=Le.response)||void 0===o?void 0:o.status))return;t((0,r.V_)({description:null!==(l=Le.response.data.description)&&void 0!==l?l:R("validation:fetchValidationConfigData.error.description"),level:i.QU.ERROR,message:R("validation:fetchValidationConfigData.error.message")}))}else if(null!=me&&null!==(n=me.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description){var c,s;if(404===(null==me||null===(c=me.response)||void 0===c?void 0:c.status))return;t((0,r.V_)({description:null!==(s=Le.response.data.description)&&void 0!==s?s:R("validation:fetchValidationConfigData.error.description"),level:i.QU.ERROR,message:R("validation:fetchValidationConfigData.error.message")}))}else if(null!=Ne&&null!==(a=Ne.response)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.description){var m;if(404===(null==Ne||null===(m=Ne.response)||void 0===m?void 0:m.status))return;t((0,r.V_)({description:Ne.response.data.description,level:i.QU.ERROR,message:R("validation:fetchValidationConfigData.error.message")}))}else t((0,r.V_)({description:R("validation:fetchValidationConfigData.genericError.description"),level:i.QU.ERROR,message:R("validation:fetchValidationConfigData.genericError.message")}))}),[Le,me,Ne]);var pe=function(){var e,n=null===N.serverConfigurationConfig||void 0===N.serverConfigurationConfig?void 0:N.serverConfigurationConfig.processInitialValues((0,A.P_)(Ae),se,Y);(n=N.serverConfigurationConfig.processPasswordExpiryInitialValues(n,ue,ee),h)||(n=re.reduce((function(e,n){var t=_.e9.encodeConnectorPropertyName(n.name);return S(S({},e),{},C({},t,n.value))}),n),ae("true"===(null===(e=n)||void 0===e?void 0:e[_.e9.encodeConnectorPropertyName(_.vH.PASSWORD_POLICY_ENABLE)])));U(n)},Re=function(){(0,_.PP)(_.vH.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,_.vH.PASSWORD_POLICY_CONNECTOR_ID).then((function(e){oe(null==e?void 0:e.properties)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?t((0,r.V_)({description:R("governanceConnectors:notifications.getConnector.error.description",{description:e.response.data.description}),level:i.QU.ERROR,message:R("governanceConnectors:notifications.getConnector.error.message")})):t((0,r.V_)({description:R("governanceConnectors:notifications.getConnector.genericError.description"),level:i.QU.ERROR,message:R("governanceConnectors:notifications.getConnector.genericError.message")}))}))},Se=function(e){var n=S({},e),a=N.serverConfigurationConfig.processPasswordPoliciesSubmitData(n,!h);if(e.uniqueCharacterValidatorEnabled&&"0"===e.minUniqueCharacters&&(n.minUniqueCharacters="1"),e.consecutiveCharacterValidatorEnabled&&"0"===e.maxConsecutiveCharacters&&(n.maxConsecutiveCharacters="1"),function(e){var n=!1,a="";return y&&(Number(e.minLength)<T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE?(n=!0,a=R("validation:validationError.minLimitError")):Number(e.maxLength)>T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE?(n=!0,a=R("validation:validationError.maxLimitError")):Number(e.minLength)>Number(e.maxLength)?(n=!0,a=R("validation:validationError.minMaxMismatch")):e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>Number(e.minLength)?(n=!0,a=R("validation:validationError.uniqueChrMismatch")):e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>Number(e.minLength)?(n=!0,a=R("validation:validationError.consecutiveChrMismatch")):Number(e.minLowerCaseCharacters)+Number(e.minUpperCaseCharacters)+Number(e.minSpecialCharacters)+Number(e.minNumbers)>Number(e.minLength)&&(n=!0,a=R("validation:validationError.invalidConfig"))),!n||(t((0,r.V_)({description:a,level:i.QU.ERROR,message:R("validation:validationError.wrongCombination")})),!1)}(n)){P(!0);var o=[a];h&&o.push((0,L.s)(n,null,Ae[0])),Promise.all(o).then((function(){de(),Oe(),h?Te():Re(),t((0,r.V_)({description:R("validation:notifications.success.description"),level:i.QU.SUCCESS,message:R("validation:notifications.success.message")}))})).catch((function(e){var n,a,o,l,c,s,m;null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?t((0,r.V_)({description:null!==(a=null!==(o=null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.description)&&void 0!==o?o:null==e||null===(c=e.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.detail)&&void 0!==a?a:R("validation:notifications.error.description"),level:i.QU.ERROR,message:null!==(s=null==e||null===(m=e.response)||void 0===m||null===(m=m.data)||void 0===m?void 0:m.message)&&void 0!==s?s:R("validation:notifications.error.message")})):t((0,r.V_)({description:R("validation:notifications.genericError.description"),level:i.QU.ERROR,message:R("validation:notifications.genericError.message")}))})).finally((function(){P(!1)}))}};return c.createElement(l.Xg,{pageTitle:R("validation:pageTitle"),title:c.createElement(c.Fragment,null,R("validation:pageTitle")),description:c.createElement(c.Fragment,null,R("validation:description"),c.createElement(l.eb,{link:g("manage.validation.passwordValidation.learnMore")},R("common:learnMore"))),"data-componentid":"".concat(n,"-page-layout"),backButton:{"data-testid":"".concat(n,"-page-back-button"),onClick:function(){O.m8.push(O.$x.getPaths().get("LOGIN_AND_REGISTRATION"))},text:R("governanceConnectors:goBackLoginAndRegistration")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0},c.createElement(d.R,{innerRef:p},c.createElement(I.Z,{className:"mt-3"},c.createElement(I.Z.Row,{columns:1},c.createElement(I.Z.Column,{width:16},c.createElement(l.pJ,{className:"form-wrapper",padded:"very"},c.createElement("div",{className:"validation-configurations password-validation-configurations"},Z?c.createElement(l.pO,null):c.createElement(o.l0,{id:E,initialValues:M,uncontrolledForm:!0,validate:null,onSubmit:function(e){return Se(e)},enableReInitialize:!0},y&&c.createElement("div",{className:"validation-configurations-form"},N.serverConfigurationConfig.passwordExpiryComponent(n,K,ee,R,le),c.createElement(u.Z,{className:"mt-4 mb-5"}),N.serverConfigurationConfig.passwordHistoryCountComponent(n,z,Y,R,le)),h?c.createElement("div",{className:"validation-configurations-form"},c.createElement("div",{className:"criteria"},c.createElement("label",null,"Must be between"),c.createElement(o.gN.Input,{ariaLabel:"minLength",inputType:"number",name:"minLength",validation:function(e,n){var t=parseInt(e),a=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(t<a)return R("common:minValidation",{min:a});var i=n.maxLength?parseInt(n.maxLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>i?R("common:maxValidation",{max:i}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:j.maxLength?j.maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,listen:function(e){k(S(S({},j),{},{minLength:e}))},readOnly:le,disabled:!1,"data-testid":"".concat(n,"-min-length")}),c.createElement("label",null,"and"),c.createElement(o.gN.Input,{ariaLabel:"maxLength",inputType:"number",name:"maxLength",validation:function(e,n){var t=parseInt(e),a=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(t<a)return R("common:minValidation",{min:a});var i=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>i?R("common:maxValidation",{max:i}):void 0},min:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){k(S(S({},j),{},{maxLength:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,labelPosition:"top",minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!1,"data-testid":"".concat(n,"-max-length")}),c.createElement("label",null,"characters")),c.createElement("label",{className:"labelName"},"Must contain at least"),c.createElement("div",{className:"criteria rule mt-3"},c.createElement(o.gN.Input,{ariaLabel:"minNumbers",inputType:"number",name:"minNumbers",validation:function(e,n){var t=parseInt(e),a=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(t<a)return R("common:minValidation",{min:a});var i=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>i?R("common:maxValidation",{max:i}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){k(S(S({},j),{},{minNumbers:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:le,disabled:!1,"data-componentid":"".concat(n,"-min-numbers")}),c.createElement("label",null,"numbers (0-9).")),c.createElement("div",{className:"criteria rule"},c.createElement(o.gN.Input,{ariaLabel:"minUpperCaseCharacters",inputType:"number",name:"minUpperCaseCharacters",validation:function(e,n){var t=parseInt(e),a=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(t<a)return R("common:minValidation",{min:a});var i=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>i?R("common:maxValidation",{max:i}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){k(S(S({},j),{},{minUpperCaseCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:le,disabled:!1,"data-testid":"".concat(n,"-min-upper-case-characters")}),c.createElement("label",null,"upper-case characters (A-Z).")),c.createElement("div",{className:"criteria rule"},c.createElement(o.gN.Input,{ariaLabel:"minLowerCaseCharacters",inputType:"number",name:"minLowerCaseCharacters",validation:function(e,n){var t=parseInt(e),a=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(t<a)return R("common:minValidation",{min:a});var i=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>i?R("common:maxValidation",{max:i}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){k(S(S({},j),{},{minLowerCaseCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:le,disabled:!1,"data-testid":"".concat(n,"-min-lower-case-characters")}),c.createElement("label",null,"lower-case characters (a-z).")),c.createElement("div",{className:"criteria rule"},c.createElement(o.gN.Input,{ariaLabel:"minSpecialCharacters",inputType:"number",name:"minSpecialCharacters",validation:function(e,n){var t=parseInt(e),a=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(t<a)return R("common:minValidation",{min:a});var i=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>i?R("common:maxValidation",{max:i}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){k(S(S({},j),{},{minSpecialCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!1,"data-testid":"".concat(n,"-min-special-characters")}),c.createElement("label",null,"special characters (!@#$%^&*).")),c.createElement("div",{className:"criteria"},c.createElement(o.gN.Checkbox,{ariaLabel:"uniqueCharacterValidatorEnabled",name:"uniqueCharacterValidatorEnabled",required:!1,label:"Must contain at least",listen:function(e){G(e)},width:16,"data-testid":"".concat(n,"-unique-chr-enable"),readOnly:le}),c.createElement(o.gN.Input,{ariaLabel:"minUniqueCharacters",inputType:"number",name:"minUniqueCharacters",validation:function(e,n){var t=parseInt(e);if(t<1)return R("common:minValidation",{min:1});var a=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>a?R("common:maxValidation",{max:a}):void 0},min:1,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",value:Number(M.minUniqueCharacters)>0?M.minUniqueCharacters:1,listen:function(e){k(S(S({},j),{},{minUniqueCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!w,"data-testid":"".concat(n,"-min-unique-chr")}),c.createElement("label",null,"unique characters.")),c.createElement("div",{className:"criteria"},c.createElement(o.gN.Checkbox,{ariaLabel:"consecutiveCharacterValidatorEnabled",name:"consecutiveCharacterValidatorEnabled",label:"Must not contain more than",required:!1,disabled:!1,listen:function(e){X(e)},width:16,"data-testid":"".concat(n,"-consecutive-chr-enable"),readOnly:le}),c.createElement(o.gN.Input,{ariaLabel:"maxConsecutiveCharacters",inputType:"number",name:"maxConsecutiveCharacters",validation:function(e,n){var t=parseInt(e);if(t<1)return R("common:minValidation",{min:1});var a=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>a?R("common:maxValidation",{max:a}):void 0},min:1,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"max",value:Number(M.maxConsecutiveCharacters)>0?M.maxConsecutiveCharacters:1,listen:function(e){k(S(S({},j),{},{maxConsecutiveCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!q,"data-testid":"".concat(n,"-max-consecutive-chr")}),c.createElement("label",null,"repeated characters."))):c.createElement(c.Fragment,null,c.createElement(o.gN.Checkbox,{className:"toggle mb-4",ariaLabel:"passwordPolicy.enable",name:_.e9.encodeConnectorPropertyName("passwordPolicy.enable"),required:!1,checked:te,label:_.e9.resolveFieldLabel("Password Policies","passwordPolicy.enable","Validate passwords based on a policy pattern"),width:16,"data-componentid":"".concat(n,"-enable-password-policy"),listen:function(e){return ae(e)},readOnly:le}),c.createElement("div",{className:"validation-configurations-form mt-3 mb-3"},c.createElement("div",{className:"criteria"},c.createElement("label",null,"Must be between"),c.createElement(o.gN.Input,{ariaLabel:"Minimum length of the password",inputType:"number",name:_.e9.encodeConnectorPropertyName("passwordPolicy.min.length"),validation:function(e,n){var t=parseInt(e),a=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(t<a)return R("common:minValidation",{min:a});var i=n.maxLength?parseInt(n.maxLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>i?R("common:maxValidation",{max:i}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:j.maxLength?j.maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,listen:function(e){k(S(S({},j),{},C({},_.e9.encodeConnectorPropertyName("passwordPolicy.min.length"),e)))},width:2,required:!0,hidden:!1,placeholder:"min",maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!te,"data-testid":"".concat(n,"-min-length")}),c.createElement("label",null,"and"),c.createElement(o.gN.Input,{ariaLabel:"Minimum length of the password",inputType:"number",name:_.e9.encodeConnectorPropertyName("passwordPolicy.max.length"),validation:function(e,n){var t=parseInt(e),a=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(t<a)return R("common:minValidation",{min:a});var i=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return t>i?R("common:maxValidation",{max:i}):void 0},min:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){k(S(S({},j),{},C({},_.e9.encodeConnectorPropertyName("passwordPolicy.max.length"),e)))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,labelPosition:"top",minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!te,"data-testid":"".concat(n,"-max-length")}),c.createElement("label",null,"characters"))),c.createElement(o.gN.Input,{ariaLabel:"passwordPolicy.pattern",inputType:"text",name:_.e9.encodeConnectorPropertyName("passwordPolicy.pattern"),type:"text",width:12,required:!0,placeholder:"Enter password pattern regex",labelPosition:"top",minLength:3,maxLength:100,readOnly:le,listen:function(e){k(S(S({},j),{},C({},_.e9.encodeConnectorPropertyName("passwordPolicy.pattern"),e)))},"data-componentid":"".concat(n,"-password-pattern-regex"),label:_.e9.resolveFieldLabel("Password Validation","passwordPolicy.pattern","Password pattern regex"),disabled:!te}),c.createElement(l.kW,{className:"mb-4"},_.e9.resolveFieldHint("Password Validation","passwordPolicy.pattern","Length of the OTP for SMS and e-mail verifications. OTP length must be 4-10.")),c.createElement(o.gN.Input,{ariaLabel:"passwordPolicy.errorMsg",inputType:"text",name:_.e9.encodeConnectorPropertyName("passwordPolicy.errorMsg"),type:"text",width:12,required:!0,placeholder:"Enter password pattern regex",labelPosition:"top",minLength:3,maxLength:100,readOnly:le,listen:function(e){k(S(S({},j),{},C({},_.e9.encodeConnectorPropertyName("passwordPolicy.errorMsg"),e)))},"data-componentid":"".concat(n,"-password-policy-error-msg"),label:_.e9.resolveFieldLabel("Password Validation","passwordPolicy.errorMsg","Error message on pattern violation"),disabled:!te}),c.createElement(l.kW,null,_.e9.resolveFieldHint("Password Validation","passwordPolicy.errorMsg","This error message will be displayed when a pattern violation is detected."))),c.createElement(o.gN.Button,{form:E,size:"small",buttonType:"primary_btn",ariaLabel:"Validation configuration update button",name:"update-button","data-testid":"".concat(n,"-submit-button"),loading:b,label:R("common:update"),hidden:le})))))))))};h.defaultProps={"data-componentid":"validation-config-edit-page"};const f=h}}]);