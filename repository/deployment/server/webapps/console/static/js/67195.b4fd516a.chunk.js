/*! For license information please see 67195.b4fd516a.chunk.js.LICENSE.txt */
(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[67195,8889,54050,33692],{8889:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RemoteUserStoreAccessTypes:()=>r.RemoteUserStoreAccessTypes,RemoteUserStoreConstants:()=>r.RemoteUserStoreConstants,RemoteUserStoreMeta:()=>o.RemoteUserStoreMeta,RemoteUserStoreTypes:()=>r.RemoteUserStoreTypes});var r=n(33692),o=n(54050)},54050:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RemoteUserStoreMeta:()=>r});var r={userStoreAgent:{artifact:"agent-v1.1.7.zip"}}},33692:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.r(t),n.d(t,{RemoteUserStoreAccessTypes:()=>u,RemoteUserStoreConstants:()=>l,RemoteUserStoreTypes:()=>s});var l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getPaths",value:function(){return(new Map).set("REMOTE_USER_STORE_CREATE","".concat(window.AppUtils.getConfig().adminApp.basePath,"/remote-user-store-create"))}}],(t=null)&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();i(l,"OUTBOUND_USER_STORE_TYPE_ID","V1NPdXRib3VuZFVzZXJTdG9yZU1hbmFnZXI"),i(l,"READONLY_LDAP_USER_STORE_TYPE_ID","VW5pcXVlSURSZWFkT25seUxEQVBVc2VyU3RvcmVNYW5hZ2Vy"),i(l,"READONLY_AD_USER_STORE_TYPE_ID","VW5pcXVlSURBY3RpdmVEaXJlY3RvcnlVc2VyU3RvcmVNYW5hZ2Vy"),i(l,"CUSTOMER_USERSTORE_ID","REVGQVVMVA"),i(l,"PRIMARY_USER_STORE_NAME","PRIMARY"),i(l,"FEDERATION_USER_STORE_NAME","FEDERATION"),i(l,"DEFAULT_USER_STORE_NAME","DEFAULT"),i(l,"INTERNAL_USER_STORE_NAME","INTERNAL"),i(l,"APPLICATION_USER_STORE_NAME","APPLICATION"),i(l,"DISPLAY_NAME_VALUE","displayName"),i(l,"PROPERTY_NAME_CONNECTED_USERSTORE_TYPE","ConnectedUserstoreType"),i(l,"PROPERTY_NAME_READ_ONLY","ReadOnly"),i(l,"FEATURE_DICTIONARY",(new Map).set("USERSTORES_READ_WRITE_USERSTORES","userStores.readWriteUserstores"));var s=function(e){return e.ActiveDirectory="AD",e.LDAP="LDAP",e}({}),u=function(e){return e.ReadOnly="true",e.ReadWrite="false",e}({})},61025:(e,t,n)=>{"use strict";n.d(t,{Q:()=>S});var r=n(93129),o=n(3356),i=n(20812),a=n(86727),l=n(44194),s=n(10479),u=n(47245),c=n(62508),d=n(24393),f=n(12742),p=n(45770),m=n(59213);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(){y=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof E?t:E,a=Object.create(i.prototype),l=new _(r||[]);return o(a,"_invoke",{value:w(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",g={};function E(){}function b(){}function S(){}var O={};u(O,a,(function(){return this}));var R=Object.getPrototypeOf,A=R&&R(R(x([])));A&&A!==n&&r.call(A,a)&&(O=A);var N=S.prototype=E.prototype=Object.create(O);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function U(e,t){function n(o,i,a,l){var s=d(e[o],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==v(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function w(t,n,r){var o=f;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=I(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?h:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=h,r.method="throw",r.arg=u.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(v(t)+" is not iterable")}return b.prototype=S,o(N,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:b,configurable:!0}),b.displayName=u(S,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u(e,s,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},T(U.prototype),u(U.prototype,l,(function(){return this})),t.AsyncIterator=U,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new U(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(N),u(N,s,"Generator"),u(N,a,(function(){return this})),u(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function h(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(u){return void n(u)}l.done?t(s):Promise.resolve(s).then(r,o)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b="edit-role-basic",S=function(e){var t=(0,s.$)().t,n=(0,u.I0)(),v=e.role,E=e.onRoleUpdate,S=e.isReadOnly,O=e.tabIndex,R=e.enableDeleteErrorConnetedAppsModal,A=e["data-componentid"],N=g((0,l.useState)(!1),2),T=N[0],U=N[1],w=g((0,l.useState)(!1),2),I=w[0],C=w[1],L=g((0,l.useState)(!1),2),_=L[0],x=L[1],Z=g((0,l.useState)(!0),2),P=Z[0],j=Z[1],M=g((0,l.useState)(void 0),2),V=M[0],k=M[1],D=(0,f.bF)(void 0,void 0,V,"users,groups,permissions,associatedApplications"),G=D.data,F=D.isLoading,J=D.error,Q=D.isValidating,W=function(e){n((0,o.V_)(e))},Y=function(){var e,n=(e=y().mark((function e(n){var r,o,i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={roleName:void 0},v.displayName!==(null===(r=n.roleName)||void 0===r?void 0:r.toString().trim())){e.next=5;break}j(!0),e.next=10;break;case 5:if(!((null===(o=n.roleName)||void 0===o?void 0:o.toString().trim().length)>=p.nL.ROLE_NAME_MIN_LENGTH)){e.next=10;break}return j(!1),k("displayName eq ".concat(null===(a=n.roleName)||void 0===a?void 0:a.toString().trim()," and audience.value eq ").concat(v.audience.value)),F&&Q||((null==G?void 0:G.totalResults)>0||J)&&(i.roleName=t("roles:addRoleWizard.forms.roleBasicDetails.roleName.validations.duplicate",{type:"Role"})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,l,"next",e)}function l(e){h(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return l.createElement(l.Fragment,null,l.createElement(a.pJ,{padded:"very"},l.createElement(i.l0,{id:b,uncontrolledForm:!1,validate:Y,noValidate:!0,onSubmit:function(e){var n,o={Operations:[{op:"replace",path:"displayName",value:null==e||null===(n=e.roleName)||void 0===n?void 0:n.toString().trim()}],schemas:[p.lg.PATCH_OP]};x(!0),(0,f.dB)(v.id,o).then((function(){E(O),W({description:t("roles:notifications.updateRole.success.description"),level:r.QU.SUCCESS,message:t("roles:notifications.updateRole.success.message")})})).catch((function(){W({description:t("roles:notifications.updateRole.genericError.description"),level:r.QU.ERROR,message:t("roles:notifications.updateRole.genericError.message")})})).finally((function(){x(!1)}))}},l.createElement(i.gN.Input,{ariaLabel:"roleName",name:"roleName",inputType:"roleName",required:!0,readOnly:S,value:null==v?void 0:v.displayName,label:t("roles:edit.basics.fields.roleName.name"),placeholder:t("roles:edit.basics.fields.roleName.placeholder"),maxLength:p.nL.ROLE_NAME_MAX_LENGTH,minLength:p.nL.ROLE_NAME_MIN_LENGTH}),l.createElement(i.gN.Button,{form:b,buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button",hidden:S,disabled:_||P,loading:_,"data-componentid":"".concat(A,"-role-update-button"),label:t("extensions:develop.apiResource.tabs.general.form.updateButton")}))),l.createElement(c.Z,{hidden:!0}),!S&&l.createElement(a.v9,{sectionHeader:"Danger Zone"},l.createElement(a.cN,{actionTitle:t("roles:edit.basics.dangerZone.actionTitle",{type:"Role"}),header:t("roles:edit.basics.dangerZone.header",{type:"role"}),subheader:t("roles:edit.basics.dangerZone.subheader",{type:"role"}),onActionClick:function(){var e;R&&(null==v||null===(e=v.audience)||void 0===e||null===(e=e.type)||void 0===e?void 0:e.toUpperCase())===p.cv.APPLICATION?C(!0):U(!0)},"data-componentid":"".concat(A,"-role-danger-zone")})),T&&l.createElement(a.cV,{onClose:function(){return U(!1)},type:"negative",open:T,assertionHint:t("roles:edit.basics.confirmation.assertionHint"),assertionType:"checkbox",primaryAction:t("common:confirm"),secondaryAction:t("common:cancel"),onSecondaryActionClick:function(){return U(!1)},onPrimaryActionClick:function(){(0,f.iy)(v.id).then((function(){W({description:t("roles:notifications.deleteRole.success.description"),level:r.QU.SUCCESS,message:t("roles:notifications.deleteRole.success.message")}),d.m8.push(d.$x.getPaths().get("ROLES"))}))},"data-componentid":"".concat(A,"-role-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(a.cV.Header,null,t("roles:edit.basics.confirmation.header")),l.createElement(a.cV.Message,{attached:!0,negative:!0},t("roles:edit.basics.confirmation.message",{type:"role."})),l.createElement(a.cV.Content,null,t("roles:edit.basics.confirmation.content",{type:"role"}))),I&&l.createElement(m.u,{selectedRole:v,isOpen:I,onClose:function(){return C(!1)},"data-componentid":"".concat(A,"-role-delete-error-confirmation-modal")}))};S.defaultProps={"data-componentid":"edit-role-basic",enableDeleteErrorConnetedAppsModal:!0}},94585:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});var r=n(59149),o=n(44194),i=n(47487),a=n(20849),l=n(55437),s=n(86727),u=n(69772),c=function(e){var t=e.popoverAnchorEl,n=e.onPopoverClose,c=e.primaryText,d=e.secondaryText,f=e.userStore;return o.createElement(i.J2,{className:"role-chip-popover",open:!!t,anchorEl:t,onClose:n,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},elevation:0,disableRestoreFocus:!0},o.createElement(i.Xk,null,o.createElement(i.Zb,{className:"role-chip-more-details"},o.createElement(i.aY,null,o.createElement(a.Z,{container:!0,alignItems:"center",columnSpacing:2},o.createElement(a.Z,{container:!0,alignItems:"center",justifyContent:"flex-start"},o.createElement(a.Z,null,o.createElement(s.JT,{image:o.createElement(s.Xo,{name:c,size:"mini"}),size:"mini"})),o.createElement(a.Z,null,o.createElement(l.Z,{primary:c,secondary:d}))),o.createElement(a.Z,{justifyContent:"flex-end"},f?o.createElement(r.Z,{icon:o.createElement(s.dn,{inline:!0,size:"default",transparent:!0,icon:(0,u.Uz)().userStore,verticalAlign:"middle"}),label:f}):null))))))};function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.key,n=e.setActiveOption,i=e.primaryText,a=e.secondaryText,l=e.userStore,s=e.option,u=e.activeOption,p=f((0,o.useState)(null),2),m=p[0],v=p[1],y=function(){v(null),n(null)};return o.createElement(o.Fragment,null,o.createElement(r.Z,d({},e,{key:t,label:i,onMouseEnter:function(e){v(e.currentTarget),n(s)},onMouseLeave:y})),(null==u?void 0:u.id)===s.id?o.createElement(c,{popoverAnchorEl:m,onPopoverClose:y,primaryText:i,secondaryText:a,userStore:l}):null)}},71099:(e,t,n)=>{"use strict";n.d(t,{q:()=>$});var r=n(93129),o=n(3356),i=n(86727),a=n(44194),l=n(10479),s=n(47245),u=n(62508),c=n(2659),d=n(10657),f=n(15118),p=n(99774),m=n(120),v=n(95817),y=n(99472),h=n(8534),g=n(61763),E=n(36382),b=n(67127),S=n(60831),O=n(94585),R=n(28213),A=n(63334),N=n(73508),T=n(61263),U=n(88996);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function I(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t,n,u,L,_,x,Z=e.isReadOnly,P=e.initialSelectedGroups,j=e.onUpdate,M=e.identityProvider,V=e.onSelectedGroupsListChange,k=e.isExpanded,D=e.onExpansionChange,G=e.isUpdating,F=null==P?void 0:P.map((function(e){return{id:e.value,name:e.display}})),J=(0,l.$)().t,Q=(0,s.I0)(),W=(0,g.Z)().UIConfig,Y=C((0,a.useState)(F),2),X=Y[0],B=Y[1],z=C((0,a.useState)(void 0),2),H=z[0],q=z[1],$=C((0,a.useState)(void 0),2),K=$[0],ee=$[1],te=C((0,a.useState)([]),2),ne=te[0],re=te[1],oe=C((0,a.useState)(!1),2),ie=oe[0],ae=oe[1],le=k,se=null==W?void 0:W.connectionResourcesUrl,ue=(t=M.id,n=le,u={headers:{"Content-Type":"application/json"},method:r.f2.GET,url:"".concat(T.h.getState().config.endpoints.identityProviders,"/").concat(t,"/groups")},L=(0,N.Z)(n?u:null),_=L.data,x=L.error,{data:_,error:x,isLoading:!x&&!_,isValidating:L.isValidating,mutate:L.mutate,response:L.response}),ce=ue.data,de=ue.isLoading,fe=ue.error;(0,a.useEffect)((function(){Z||(ce&&(null==ce?void 0:ce.length)>0?re(ce):re([]))}),[ce]),(0,a.useEffect)((function(){fe&&Q((0,o.V_)({description:J("roles:edit.groups.notifications.fetchError.description"),level:r.QU.ERROR,message:J("roles:edit.groups.notifications.fetchError.message")}))}),[fe]),(0,a.useEffect)((function(){!Z&&F&&X&&ee(null==F?void 0:F.filter((function(e){return void 0===(null==X?void 0:X.find((function(t){return t.id===e.id})))})))}),[X]),(0,a.useEffect)((function(){if(V){var e=null==X?void 0:X.map((function(e){return e.id})),t=null==K?void 0:K.map((function(e){return e.id}));V(null==M?void 0:M.id,e,t)}}),[X,K]);var pe=(0,a.useCallback)((0,E.Z)((function(e){if((0,b.Z)(e))return re(ce),void ae(!1);var t=e.trim(),n=null==ce?void 0:ce.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));re(n),ae(!1)}),U.nL.DEBOUNCE_TIMEOUT),[ce]);return a.createElement(i.pJ,{className:"mt-2",basic:!0},a.createElement(d.Z,{onChange:function(e,t){D&&D(M.id,t)},elevation:1,variant:"elevation",disableGutters:!0,expanded:k},a.createElement(p.Z,{"aria-controls":"panel1a-content",id:"panel1a-header",expandIcon:a.createElement(c.v4,null)},a.createElement(a.Fragment,null,a.createElement(i.dn,{square:!0,transparent:!0,className:"card-image",size:"mini",icon:M.image?A.Zs.resolveConnectionResourcePath(se,M.image):(0,R.xs)().default,floated:"left"}),a.createElement(h.Z,{className:"ml-4",variant:"h6"},M.name))),a.createElement(f.Z,null,a.createElement(a.Fragment,null,Z?a.createElement(m.Z,{multiple:!0,disableCloseOnSelect:!0,options:X||[],value:X||[],getOptionLabel:function(e){return e.name},renderInput:function(e){return a.createElement(y.Z,w({},e,{placeholder:J("roles:edit.groups.actions.search.placeholder")}))},renderTags:function(e,t){return e.map((function(e,n){return a.createElement(O.w,w({},t({index:n}),{key:n,primaryText:e.name,option:e,activeOption:H,setActiveOption:q,onDelete:null}))}))},renderOption:function(e,t){return a.createElement(S.U,{displayName:t.name,renderOptionProps:e})}}):a.createElement(m.Z,{multiple:!0,disableCloseOnSelect:!0,loading:de||ie,options:ne,value:X||[],getOptionLabel:function(e){return e.name},renderInput:function(e){return a.createElement(y.Z,w({},e,{placeholder:J("roles:edit.groups.actions.assign.placeholder")}))},onChange:function(e,t){B(t)},filterOptions:function(e){return e},onInputChange:function(e,t){ae(!0),pe(t)},isOptionEqualToValue:function(e,t){return e.id===t.id},renderTags:function(e,t){return e.map((function(e,n){return a.createElement(O.w,w({},t({index:n}),{key:n,primaryText:e.name,option:e,activeOption:H,setActiveOption:q,variant:null!=F&&F.find((function(t){return t.id===e.id}))?"solid":"outlined"}))}))},renderOption:function(e,t,n){var r=n.selected;return a.createElement(S.U,{selected:r,displayName:t.name,renderOptionProps:e})}}),(null==K?void 0:K.length)>0?a.createElement(m.Z,{multiple:!0,disableCloseOnSelect:!0,loading:de||ie,options:K,value:K,getOptionLabel:function(e){return e.name},onChange:function(e,t){return function(e){var t=[];K.forEach((function(n){null!=e&&e.find((function(e){return e.id===n.id}))||t.push(n)})),B([].concat(I(X),t))}(t)},renderInput:function(e){return a.createElement(y.Z,w({},e,{placeholder:J("roles:edit.groups.actions.remove.placeholder"),label:J("roles:edit.groups.actions.remove.label"),margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,n){return a.createElement(O.w,w({},t({index:n}),{key:n,primaryText:e.name,option:e,activeOption:H,setActiveOption:q,variant:"outlined",onDelete:function(){B([].concat(I(X),[e]))}}))}))},renderOption:function(e,t){return a.createElement(S.U,{displayName:t.name,renderOptionProps:e})}}):null,Z?null:a.createElement(v.Z,{className:"role-assigned-button",variant:"contained",loading:G,onClick:j,disabled:F===X},J("common:update"))))))};x.defaultProps={isReadOnly:!1};var Z=n(63150),P=n(38669);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function M(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){var t=e.isReadOnly,n=e.initialSelectedGroups,u=e.onUpdate,c=e.onSelectedGroupsListChange,d=e.isUpdating,f=null==n?void 0:n.map((function(e){return{id:e.value,name:e.display}})),p=(0,l.$)().t,h=(0,s.I0)(),g=V((0,a.useState)(f),2),R=g[0],A=g[1],N=V((0,a.useState)(void 0),2),T=N[0],w=N[1],I=V((0,a.useState)(void 0),2),C=I[0],L=I[1],_=V((0,a.useState)([]),2),x=_[0],k=_[1],D=V((0,a.useState)(void 0),2),G=D[0],F=D[1],J=V((0,a.useState)(!1),2),Q=J[0],W=J[1],Y=(0,Z.Ug)(null,null,G?"displayName co ".concat(G):null,!0),X=Y.data,B=Y.isLoading,z=Y.error;(0,a.useEffect)((function(){t||(X&&0!==(null==X?void 0:X.totalResults)?k(X.Resources.map((function(e){return{id:e.id,name:e.displayName}}))):k([]))}),[X]),(0,a.useEffect)((function(){z&&h((0,o.V_)({description:p("roles:edit.groups.notifications.fetchError.description"),level:r.QU.ERROR,message:p("roles:edit.groups.notifications.fetchError.message")}))}),[z]),(0,a.useEffect)((function(){!t&&f&&R&&L(null==f?void 0:f.filter((function(e){return void 0===(null==R?void 0:R.find((function(t){return t.id===e.id})))})))}),[R]),(0,a.useEffect)((function(){if(c){var e=null==R?void 0:R.map((function(e){return e.id})),t=null==C?void 0:C.map((function(e){return e.id}));c(null,e,t)}}),[R,C]);var H=(0,a.useCallback)((0,E.Z)((function(e){e=(0,b.Z)(e)?null:e,F(e)}),U.nL.DEBOUNCE_TIMEOUT),[]);return a.createElement(i.pJ,{className:"mt-2",basic:!0},a.createElement(a.Fragment,null,t?a.createElement(m.Z,{multiple:!0,disableCloseOnSelect:!0,options:R||[],value:R||[],getOptionLabel:function(e){return e.name},renderInput:function(e){return a.createElement(y.Z,j({},e,{placeholder:p("roles:edit.groups.actions.search.placeholder")}))},renderTags:function(e,t){return e.map((function(e,n){return a.createElement(O.w,j({},t({index:n}),{key:n,primaryText:P.J.getDisplayName(e.name),userStore:P.J.getUserStore(e.name),option:e,activeOption:T,setActiveOption:w,onDelete:null}))}))},renderOption:function(e,t){return a.createElement(S.U,{displayName:P.J.getDisplayName(t.name),userstore:P.J.getUserStore(t.name),renderOptionProps:e})}}):a.createElement(m.Z,{multiple:!0,disableCloseOnSelect:!0,loading:B||Q,options:x,value:R||[],getOptionLabel:function(e){return e.name},renderInput:function(e){return a.createElement(y.Z,j({},e,{placeholder:p("roles:edit.groups.actions.assign.placeholder")}))},onChange:function(e,t){A(t)},filterOptions:function(e){return e},onInputChange:function(e,t){W(!0),H(t)},isOptionEqualToValue:function(e,t){return e.id===t.id},renderTags:function(e,t){return e.map((function(e,n){return a.createElement(O.w,j({},t({index:n}),{key:n,primaryText:P.J.getDisplayName(e.name),userStore:P.J.getUserStore(e.name),option:e,activeOption:T,setActiveOption:w,variant:null!=f&&f.find((function(t){return t.id===e.id}))?"solid":"outlined"}))}))},renderOption:function(e,t,n){var r=n.selected;return a.createElement(S.U,{selected:r,displayName:P.J.getDisplayName(t.name),userstore:P.J.getUserStore(t.name),renderOptionProps:e})}}),(null==C?void 0:C.length)>0?a.createElement(m.Z,{multiple:!0,disableCloseOnSelect:!0,loading:B||Q,options:C,value:C,getOptionLabel:function(e){return e.name},onChange:function(e,t){return function(e){var t=[];C.forEach((function(n){null!=e&&e.find((function(e){return e.id===n.id}))||t.push(n)})),A([].concat(M(R),t))}(t)},renderInput:function(e){return a.createElement(y.Z,j({},e,{placeholder:p("roles:edit.groups.actions.remove.placeholder"),label:p("roles:edit.groups.actions.remove.label"),margin:"dense"}))},renderTags:function(e,t){return e.map((function(e,n){return a.createElement(O.w,j({},t({index:n}),{key:n,primaryText:P.J.getDisplayName(e.name),userStore:P.J.getUserStore(e.name),option:e,activeOption:T,setActiveOption:w,variant:"outlined",onDelete:function(){A([].concat(M(R),[e]))}}))}))},renderOption:function(e,t){return a.createElement(S.U,{displayName:P.J.getDisplayName(t.name),userstore:P.J.getUserStore(t.name),renderOptionProps:e})}}):null,t?null:a.createElement(v.Z,{className:"role-assigned-button",variant:"contained",loading:d,onClick:u,disabled:f===R},p("common:update"))))};G.defaultProps={isReadOnly:!1};var F=n(76316),J=n(32659),Q=n(71759),W=n(12742),Y=n(45770),X=n(20435);function B(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=function(e){var t,n,c=e.role,d=e.onRoleUpdate,f=e.isReadOnly,p=e.tabIndex,m=null===(t=c.audience)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.toUpperCase(),v=X.J.getRoleGroupsGroupedByIdp(null==c?void 0:c.groups),y="LOCAL",h=(0,l.$)().t,g=(0,s.I0)(),E=z((0,a.useState)(!1),2),b=E[0],S=E[1],O=z((0,a.useState)([]),2),R=O[0],A=O[1],N=z((0,a.useState)(new Map),2),T=N[0],U=N[1],w=z((0,a.useState)(new Map),2),I=w[0],C=w[1],L=z((0,a.useState)(y),2),_=L[0],Z=L[1],P=(0,Q.af)(null,null,null,"federatedAuthenticators",!0),j=P.data,M=P.isLoading,V=P.error,k=(0,F.b)(null===(n=c.audience)||void 0===n?void 0:n.value,m===Y.cv.APPLICATION),D=k.data,H=k.isLoading,q=k.error,$=[J.f.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID,J.f.LEGACY_EMAIL_OTP_AUTHENTICATOR_ID,J.f.LEGACY_SMS_OTP_AUTHENTICATOR_ID];(0,a.useEffect)((function(){var e;if(!(M||V||m===Y.cv.APPLICATION&&(H||q))){var t=null==j||null===(e=j.identityProviders)||void 0===e?void 0:e.filter((function(e){return!$.includes(e.federatedAuthenticators.defaultAuthenticatorId)}));if(m===Y.cv.APPLICATION){var n=[];D.authenticationSequence.steps.forEach((function(e){e.options.forEach((function(e){var r=null==t?void 0:t.find((function(t){return t.name===e.idp}));r&&n.push(r)}))})),A(n)}else A(t)}}),[M,V,H,q]);var K=function(e,t,n){U((function(n){var r=new Map(n);return r.set(null!=e?e:y,t),r})),C((function(t){var r=new Map(t);return r.set(null!=e?e:y,n),r}))},ee=function(e,t){Z(t?e:void 0)},te=function(){S(!0);var e=[];null==I||I.forEach((function(t){(null==t?void 0:t.length)>0&&e.push.apply(e,B(t))}));var t=[];Array.from(T.values()).forEach((function(e){null==e||e.forEach((function(e){var n;null!==(n=c.groups)&&void 0!==n&&n.find((function(t){return t.value===e}))||t.push(e)}))}));var n=[];n.push({op:"add",value:{groups:null==t?void 0:t.map((function(e){return{value:e}}))}}),e.forEach((function(e){n.push({op:"remove",path:"groups[value eq ".concat(e,"]")})}));var i={Operations:n,schemas:[Y.lg.PATCH_OP]};(0,W.dB)(c.id,i).then((function(){g((0,o.V_)({description:h("roles:edit.groups.notifications.success.description"),level:r.QU.SUCCESS,message:h("roles:edit.groups.notifications.success.message")})),d(p)})).catch((function(e){e.response&&e.response.data.detail?g((0,o.V_)({description:h("roles:edit.groups.notifications.error.description",{description:e.response.data.detail}),level:r.QU.ERROR,message:h("roles:edit.groups.notifications.error.message")})):g((0,o.V_)({description:h("roles:edit.groups.notifications.genericError.description"),level:r.QU.ERROR,message:h("roles:edit.groups.notifications.genericError.message")}))})).finally((function(){S(!1)}))};return a.createElement(i.pJ,{padded:"very"},a.createElement(i.X6,{as:"h4"},h("roles:edit.groups.heading")),a.createElement(i.X6,{subHeading:!0,ellipsis:!0,as:"h6"},h("roles:edit.groups.subHeading")),a.createElement(i.X6,{as:"h5"},h("roles:edit.groups.localGroupsHeading")),a.createElement(G,{key:"role-group-accordion-local",isReadOnly:f,onUpdate:te,initialSelectedGroups:v[y],onSelectedGroupsListChange:K,isUpdating:b}),(null==R?void 0:R.length)>0&&a.createElement(a.Fragment,null,a.createElement(u.Z,{hidden:!0}),a.createElement(u.Z,null),a.createElement(i.X6,{as:"h5"},h("roles:edit.groups.externalGroupsHeading"))),null==R?void 0:R.map((function(e){var t=v[e.id];return a.createElement(x,{key:"role-group-accordion-".concat(e.id),isReadOnly:f,onUpdate:te,initialSelectedGroups:t,identityProvider:e,onSelectedGroupsListChange:K,isExpanded:_===e.id,onExpansionChange:ee,isUpdating:b})})))};$.defaultProps={"data-componentid":"edit-role-group"}},24523:(e,t,n)=>{"use strict";n.d(t,{G:()=>B});var r=n(120),o=n(95817),i=n(99230),a=n(20849),l=n(93818),s=n(92520),u=n(99472),c=n(93129),d=n(3356),f=n(86727),p=n(36382),m=n(67127),v=n(44194),y=n(10479),h=n(47245),g=n(26154),E=n(60831),b=n(94585),S=n(79069),O=n(69772),R=n(8889),A=n(32514),N=n(97474),T=n(45770),U=n(38669),w=n(51835),I=n.n(w),C=n(27975),L=n.n(C),_=n(55900),x=n.n(_),Z=n(21555),P=n.n(Z),j=n(3621),M=n.n(j),V=n(5062),k=n.n(V),D=n(94327),G=n.n(D),F={};F.styleTagTransform=k(),F.setAttributes=P(),F.insert=x().bind(null,"head"),F.domAPI=L(),F.insertStyleElement=M();I()(G(),F);G()&&G().locals&&G().locals;function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}function Q(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e){var t=e.role,n=e.onRoleUpdate,w=e.isReadOnly,I=e.tabIndex,C=(0,y.$)().t,L=(0,h.I0)(),_=(0,h.v9)((function(e){return e.config.ui.features.userStores.disabledFeatures})),x=W((0,v.useState)(void 0),2),Z=x[0],P=x[1],j=W((0,v.useState)(!1),2),M=j[0],V=j[1],k=W((0,v.useState)([]),2),D=k[0],G=k[1],F=W((0,v.useState)(!1),2),Y=F[0],X=F[1],B=W((0,v.useState)(void 0),2),z=B[0],H=B[1],q=W((0,v.useState)([]),2),$=q[0],K=q[1],ee=W((0,v.useState)(_.includes(R.RemoteUserStoreConstants.PRIMARY_USER_STORE_NAME)?"DEFAULT":"Primary"),2),te=ee[0],ne=ee[1],re=W((0,v.useState)(!0),2),oe=re[0],ie=re[1],ae=W((0,v.useState)([]),2),le=ae[0],se=ae[1],ue=W((0,v.useState)({}),2),ce=ue[0],de=ue[1],fe=(0,N.zU)(null),pe=fe.data,me=fe.isLoading,ve=(0,A.WW)(null,null,Z?"userName co ".concat(Z):null,null,te,null,!!te||!!Z),ye=ve.data,he=ve.isLoading,ge=ve.error,Ee=function(e,t){var n=e.userName.split("/");return 1===n.length&&"Primary"===t||2===n.length&&n[0]===t.toUpperCase()};(0,v.useEffect)((function(){var e,n,r;if(null!=t&&null!==(e=t.users)&&void 0!==e&&e.length){ie(!1);var o=null!==(n=null==t||null===(r=t.users)||void 0===r?void 0:r.map((function(e){return{id:e.value,userName:e.display}})).filter((function(e){return Ee(e,te)})))&&void 0!==n?n:[],i=ce[te]||o;se(i)}}),[t,te]),(0,v.useEffect)((function(){if(pe&&pe){var e=null!=_&&_.includes(R.RemoteUserStoreConstants.PRIMARY_USER_STORE_NAME)?[]:[{id:R.RemoteUserStoreConstants.PRIMARY_USER_STORE_NAME,name:C("users:userstores.userstoreOptions.primary")}];K([].concat(e,Q(pe.map((function(e){return{id:e.id,name:e.name}})))))}}),[pe]),(0,v.useEffect)((function(){if(!w&&(null==ye?void 0:ye.totalResults)>0&&Array.isArray(null==ye?void 0:ye.Resources)){var e,t,n=null!==(e=null==ye||null===(t=ye.Resources)||void 0===t?void 0:t.filter((function(e){var t=Ee(e,te);return!(void 0!==(null==le?void 0:le.find((function(t){return t.id===e.id}))))&&t})))&&void 0!==e?e:[];G(n)}else G([])}),[ye,le]),(0,v.useEffect)((function(){ge&&L((0,d.V_)({description:C("roles:edit.users.notifications.fetchError.description"),level:c.QU.ERROR,message:C("roles:edit.users.notifications.fetchError.message")}))}),[ge]);var be=function(){if(Array.isArray(le)){var e=ce;e[te]=le,de(e)}},Se=(0,v.useCallback)((0,p.Z)((function(e){e=(0,m.Z)(e)?null:e,P(e)}),T.nL.DEBOUNCE_TIMEOUT),[]);return v.createElement(f.pJ,{padded:"very",className:"edit-role users"},v.createElement(f.X6,{as:"h4"},C("roles:edit.users.heading")),v.createElement(f.X6,{subHeading:!0,ellipsis:!0,as:"h6"},C("roles:edit.users.subHeading")),oe?v.createElement(f.$J,{subtitle:[C("roles:edit.users.placeholders.emptyPlaceholder.subtitles.0")],title:C("roles:edit.users.placeholders.emptyPlaceholder.title"),image:(0,O.jF)().emptyList,imageSize:"tiny",action:w?null:v.createElement(f.KM,{onClick:function(){return ie(!1)}},v.createElement(g.Z,{name:"plus"}),C("roles:edit.users.placeholders.emptyPlaceholder.action"))}):v.createElement(v.Fragment,null,D&&$&&!w&&v.createElement(a.Z,{container:!0,spacing:1},v.createElement(a.Z,{xs:12,sm:4,md:2,alignItems:"center"},v.createElement(i.Z,{fullWidth:!0,size:"medium"},v.createElement(s.Z,{value:te,onChange:function(e){be(),se([]),ne(e.target.value)}},me?v.createElement("p",null,C("common:loading")):null==$?void 0:$.map((function(e){return v.createElement(l.Z,{key:e.name,value:e.name},e.name)}))))),v.createElement(a.Z,{xs:12,sm:4,md:8},v.createElement(r.Z,{multiple:!0,style:{padding:0},size:"small",disableCloseOnSelect:!0,loading:he||M,options:D,value:le,getOptionLabel:function(e){return U.J.getUserUsername(e)},renderInput:function(e){return v.createElement(u.Z,J({},e,{placeholder:C("roles:edit.users.actions.assign.placeholder")}))},onChange:function(e,t){se(t)},filterOptions:function(e){return e},onInputChange:function(e,t){V(!0),Se(t)},isOptionEqualToValue:function(e,t){return e.id===t.id},renderTags:function(e,t){return e.map((function(e,n){return v.createElement(b.w,J({},t({index:n}),{key:n,primaryText:U.J.getUserUsername(e),userStore:U.J.getUserStore(e.userName),option:e,activeOption:z,setActiveOption:H,variant:"solid"}))}))},renderOption:function(e,t,n){var r=n.selected;return v.createElement(E.U,{selected:r,subTitle:U.J.getUserUsername(t),displayName:U.J.getNameToDisplayOfUser(t),userstore:U.J.getUserStore(t.userName),renderOptionProps:e})}}))),w?null:v.createElement(o.Z,{className:"role-assigned-button",variant:"contained",loading:Y,onClick:function(){var e,r,o,i,a;X(!0),be();var l={Operations:[],failOnErrors:1,schemas:[T.lg.BULK_REQUEST]},s={data:{Operations:[]},method:"PATCH",path:"/v2/Roles/"+t.id},u=Object.keys(ce).map((function(e){return ce[e]})).flat(),f=null!==(e=null==t||null===(r=t.users)||void 0===r?void 0:r.filter((function(e){return void 0===(null==u?void 0:u.find((function(t){return t.id===e.value})))})))&&void 0!==e?e:[],p=null==f?void 0:f.map((function(e){return{op:"remove",path:"users[value eq ".concat(e.value,"]")}}));(o=s.data.Operations).push.apply(o,Q(p));var m=null!==(i=null==u?void 0:u.filter((function(e){var n;return void 0===(null==t||null===(n=t.users)||void 0===n?void 0:n.find((function(t){return t.value===e.id})))})))&&void 0!==i?i:[],v=null==m?void 0:m.map((function(e){return{op:"add",value:{users:[{value:e.id}]}}}));(a=s.data.Operations).push.apply(a,Q(v)),l.Operations.push(s),(0,S.f)(l).then((function(){L((0,d.V_)({description:C("roles:edit.users.notifications.success.description"),level:c.QU.SUCCESS,message:C("roles:edit.users.notifications.success.message")})),n(I)})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.detail?L((0,d.V_)({description:C("roles:edit.groups.notifications.error.description",{description:e.response.data.detail}),level:c.QU.ERROR,message:C("roles:edit.groups.notifications.error.message")})):L((0,d.V_)({description:C("roles:edit.groups.notifications.genericError.description"),level:c.QU.ERROR,message:C("roles:edit.groups.notifications.genericError.message")}))})).finally((function(){X(!1)}))}},C("common:update"))))};B.defaultProps={"data-componentid":"edit-role-users"}},59213:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});var r=n(2659),o=n(21440),i=n(83487),a=n(16631),l=n(56197),s=n(55437),u=n(86727),c=n(44194),d=n(10479),f=function(e){var t,n=e.isOpen,f=e.onClose,p=e.selectedRole,m=e["data-componentid"],v=(0,d.$)().t;return c.createElement(u.cV,{onClose:function(){return f()},type:"negative",open:n,secondaryAction:v("common:close"),onSecondaryActionClick:function(){return f()},"data-testid":m,closeOnDimmerClick:!1},c.createElement(u.cV.Header,{"data-testid":"".concat(m,"-header")},v("roles:list.confirmations.deleteItemError.header")),c.createElement(u.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(m,"-message")},v("roles:list.confirmations.deleteItemError.message")),c.createElement(u.cV.Content,{"data-testid":"".concat(m,"-content")},c.createElement("span",null,v("roles:list.confirmations.deleteItemError.content")),c.createElement(o.Z,{hidden:!0}),c.createElement(i.Z,null,c.createElement(a.Z,null,c.createElement(l.Z,null,c.createElement(r.sB,null)),c.createElement(s.Z,{primary:null==p||null===(t=p.audience)||void 0===t?void 0:t.display})))))};f.defaultProps={"data-componentid":"role-delete-error-confirmation-modal"}},94327:e=>{e.exports=[[e.id,".edit-role.users .MuiAutocomplete-tag{margin:0}.edit-role.users .MuiFormControl-root .MuiSelect-select{padding:11.5px}.edit-role.users .MuiFormControl-root .MuiInputBase-adornedStart{padding:6px !important}.edit-role.users .MuiFormControl-root .MuiInputBase-adornedEnd{padding:9.5px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtcm9sZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQyxRQUFRLENBQUMsd0RBQXdELGNBQWMsQ0FBQyxpRUFBaUUsc0JBQXNCLENBQUMsK0RBQStELGFBQWEiLCJmaWxlIjoiZWRpdC1yb2xlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZWRpdC1yb2xlLnVzZXJzIC5NdWlBdXRvY29tcGxldGUtdGFne21hcmdpbjowfS5lZGl0LXJvbGUudXNlcnMgLk11aUZvcm1Db250cm9sLXJvb3QgLk11aVNlbGVjdC1zZWxlY3R7cGFkZGluZzoxMS41cHh9LmVkaXQtcm9sZS51c2VycyAuTXVpRm9ybUNvbnRyb2wtcm9vdCAuTXVpSW5wdXRCYXNlLWFkb3JuZWRTdGFydHtwYWRkaW5nOjZweCAhaW1wb3J0YW50fS5lZGl0LXJvbGUudXNlcnMgLk11aUZvcm1Db250cm9sLXJvb3QgLk11aUlucHV0QmFzZS1hZG9ybmVkRW5ke3BhZGRpbmc6OS41cHh9Il19 */","",""]]},99230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(43112),o=n(31549),i=n(53125),a=n(14517),l=n(17273);const s="FormControl",u=e=>{const{className:t}=e,n=(0,r.__rest)(e,["className"]),l=(0,a.Z)("oxygen-form-control",t);return(0,o.jsx)(i.Z,Object.assign({className:l},n))};u.displayName=(0,l.I)(s),u.muiName=s,u.defaultProps={};const c=u;var d,f,p;d='/**\n * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com). All Rights Reserved.\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the "License"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.oxygen-form-control {\n  /* Add Styles */ }\n',f=document.getElementsByTagName("head")[0],(p=document.createElement("style")).setAttribute("type","text/css"),p.appendChild(document.createTextNode(d)),f.appendChild(p)},92520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(43112),o=n(31549),i=n(72801),a=n(14517),l=n(44194),s=n(17273),u=n(71429);const c="Select",d=(0,l.forwardRef)(((e,t)=>{const{className:n,InputLabelProps:l,label:s,name:c,required:d}=e,f=(0,r.__rest)(e,["className","InputLabelProps","label","name","required"]),p=(0,a.Z)("oxygen-select",n),m=Object.assign({disableAnimation:!0,focused:!1,required:d,shrink:!1},l);return(0,o.jsxs)(o.Fragment,{children:[s&&(0,o.jsx)(u.Z,Object.assign({id:c,htmlFor:c},m,{className:(0,a.Z)("oxygen-select-static-label",null==l?void 0:l.className)},{children:s})),(0,o.jsx)(i.Z,Object.assign({ref:t,labelId:c,className:p},f))]})}));d.displayName=(0,s.I)(c),d.muiName=c,d.defaultProps={InputLabelProps:{disableAnimation:!0,focused:!1,shrink:!1}};const f=d;var p,m,v;p=".oxygen-select-static-label {\n  margin-top: -40px;\n  margin-left: -14px; }\n",m=document.getElementsByTagName("head")[0],(v=document.createElement("style")).setAttribute("type","text/css"),v.appendChild(document.createTextNode(p)),m.appendChild(v)}}]);